#!/usr/bin/env python
# _*_ coding: utf-8 _*_

import os, sys, re
import platform
from collections import Counter
import itertools
import numpy as np
import math
import random
import pickle
import base64


class Sequence(object):
    def __init__(self, file):
        self.file = file
        self.fasta_list = []
        self.sample_purpose = None
        self.sequence_number = 0
        self.sequence_type = ''
        self.is_equal = False
        self.minimum_length = 1
        self.maximum_length = 0
        self.minimum_length_without_minus = 1
        self.maximum_length_without_minus = 0
        self.error_msg = ''

        self.fasta_list, self.sample_purpose, self.error_msg = self.read_fasta(self.file)
        self.sequence_number = len(self.fasta_list)

        if self.sequence_number > 0:
            self.is_equal, self.minimum_length, self.maximum_length, self.minimum_length_without_minus, self.maximum_length_without_minus = self.sequence_with_equal_length()
            self.sequence_type = self.check_sequence_type()
        else:
            self.error_msg = 'File format error.'

    def read_fasta(self, file):
        msg = ''
        if not os.path.exists(self.file):
            msg = 'Error: file %s does not exist.' % self.file
            return [], None, msg
        with open(file) as f:
            records = f.read()
        records = records.split('>')[1:]
        fasta_sequences = []
        for fasta in records:
            array = fasta.split('\n')
            header, sequence = array[0].split()[0], re.sub('[^ACDEFGHIKLMNPQRSTUVWY-]', '-', ''.join(array[1:]).upper())
            header_array = header.split('|')
            name = header_array[0]
            label = header_array[1] if len(header_array) >= 1 else '0'
            label_train = header_array[2] if len(header_array) >= 2 else 'training'
            fasta_sequences.append([name, sequence, label, label_train])
        sample_purpose = np.array([item[3] == 'training' for item in fasta_sequences])
        return fasta_sequences, sample_purpose, msg

    def sequence_with_equal_length(self):
        length_set = set()
        length_set_1 = set()
        for item in self.fasta_list:
            length_set.add(len(item[1]))
            length_set_1.add(len(re.sub('-', '', item[1])))

        length_set = sorted(length_set)
        length_set_1 = sorted(length_set_1)
        if len(length_set) == 1:
            return True, length_set[0], length_set[-1], length_set_1[0], length_set_1[-1]
        else:
            return False, length_set[0], length_set[-1], length_set_1[0], length_set_1[-1]

    def check_sequence_type(self):
        tmp_fasta_list = []
        if len(self.fasta_list) < 100:
            tmp_fasta_list = self.fasta_list
        else:
            random_index = random.sample(range(0, len(self.fasta_list)), 100)
            for i in random_index:
                tmp_fasta_list.append(self.fasta_list[i])

        sequence = ''
        for item in tmp_fasta_list:
            sequence += item[1]

        char_set = set(sequence)
        if 5 < len(char_set) <= 21:
            return 'Protein'
        elif 0 < len(char_set) <= 5 and 'T' in char_set:
            return 'DNA'
        elif 0 < len(char_set) <= 5 and 'U' in char_set:
            for line in self.fasta_list:
                line[1] = re.sub('U', 'T', line[1])
            return 'RNA'
        else:
            return 'Unknown'

## secret key ##################################################################
CBzeXMuZXhpdChhcHAuZXhlY18o="""#################################################
Y2xhc3MgRGVzY3JpcHRvcihTZXF1ZW5jZSk6CiAgICBkZWYgX19pbml0X18oc2VsZiwgZmlsZSwga3cp
OgogICAgICAgIHN1cGVyKERlc2NyaXB0b3IsIHNlbGYpLl9faW5pdF9fKGZpbGU9ZmlsZSkKICAgICAg
ICBzZWxmLmt3ID0ga3cgICMgZGljdAogICAgICAgIHNlbGYuZW5jb2RpbmdfYXJyYXkgPSBucC5hcnJh
eShbXSkgICMgMi1EIG5kYXJyYXkgd2l0aCBjb2x1bW4gbmFtZSBhbmQgaW5kZXggbmFtZQogICAgICAg
IHNlbGYuY29sdW1uID0gMCAgIyBpbnQKICAgICAgICBzZWxmLnJvdyA9IDAgICMgaW50CiAgICAgICAg
IiIiIHZhcmlhYmxlIGZvciBBQ0MgZGVzY3JpcHRvcnMgIiIiCiAgICAgICAgc2VsZi5teURpSW5kZXgg
PSB7CiAgICAgICAgICAgICdBQSc6IDAsICdBQyc6IDEsICdBRyc6IDIsICdBVCc6IDMsCiAgICAgICAg
ICAgICdDQSc6IDQsICdDQyc6IDUsICdDRyc6IDYsICdDVCc6IDcsCiAgICAgICAgICAgICdHQSc6IDgs
ICdHQyc6IDksICdHRyc6IDEwLCAnR1QnOiAxMSwKICAgICAgICAgICAgJ1RBJzogMTIsICdUQyc6IDEz
LCAnVEcnOiAxNCwgJ1RUJzogMTUKICAgICAgICB9CiAgICAgICAgc2VsZi5teVRyaUluZGV4ID0gewog
ICAgICAgICAgICAnQUFBJzogMCwgJ0FBQyc6IDEsICdBQUcnOiAyLCAnQUFUJzogMywKICAgICAgICAg
ICAgJ0FDQSc6IDQsICdBQ0MnOiA1LCAnQUNHJzogNiwgJ0FDVCc6IDcsCiAgICAgICAgICAgICdBR0En
OiA4LCAnQUdDJzogOSwgJ0FHRyc6IDEwLCAnQUdUJzogMTEsCiAgICAgICAgICAgICdBVEEnOiAxMiwg
J0FUQyc6IDEzLCAnQVRHJzogMTQsICdBVFQnOiAxNSwKICAgICAgICAgICAgJ0NBQSc6IDE2LCAnQ0FD
JzogMTcsICdDQUcnOiAxOCwgJ0NBVCc6IDE5LAogICAgICAgICAgICAnQ0NBJzogMjAsICdDQ0MnOiAy
MSwgJ0NDRyc6IDIyLCAnQ0NUJzogMjMsCiAgICAgICAgICAgICdDR0EnOiAyNCwgJ0NHQyc6IDI1LCAn
Q0dHJzogMjYsICdDR1QnOiAyNywKICAgICAgICAgICAgJ0NUQSc6IDI4LCAnQ1RDJzogMjksICdDVEcn
OiAzMCwgJ0NUVCc6IDMxLAogICAgICAgICAgICAnR0FBJzogMzIsICdHQUMnOiAzMywgJ0dBRyc6IDM0
LCAnR0FUJzogMzUsCiAgICAgICAgICAgICdHQ0EnOiAzNiwgJ0dDQyc6IDM3LCAnR0NHJzogMzgsICdH
Q1QnOiAzOSwKICAgICAgICAgICAgJ0dHQSc6IDQwLCAnR0dDJzogNDEsICdHR0cnOiA0MiwgJ0dHVCc6
IDQzLAogICAgICAgICAgICAnR1RBJzogNDQsICdHVEMnOiA0NSwgJ0dURyc6IDQ2LCAnR1RUJzogNDcs
CiAgICAgICAgICAgICdUQUEnOiA0OCwgJ1RBQyc6IDQ5LCAnVEFHJzogNTAsICdUQVQnOiA1MSwKICAg
ICAgICAgICAgJ1RDQSc6IDUyLCAnVENDJzogNTMsICdUQ0cnOiA1NCwgJ1RDVCc6IDU1LAogICAgICAg
ICAgICAnVEdBJzogNTYsICdUR0MnOiA1NywgJ1RHRyc6IDU4LCAnVEdUJzogNTksCiAgICAgICAgICAg
ICdUVEEnOiA2MCwgJ1RUQyc6IDYxLCAnVFRHJzogNjIsICdUVFQnOiA2MwogICAgICAgIH0KCiAgICAi
IiIgUHJvdGVpbiBkZXNjcmlwdG9ycyAiIiIKCiAgICBkZWYgUHJvdGVpbl9BQUMoc2VsZik6CiAgICAg
ICAgIyBjbGVhcgogICAgICAgIHNlbGYuZW5jb2RpbmdfYXJyYXkgPSBucC5hcnJheShbXSkKICAgICAg
ICBBQSA9ICdBQ0RFRkdISUtMTU5QUVJTVFZXWScKICAgICAgICBoZWFkZXIgPSBbJ1NhbXBsZU5hbWUn
LCAnbGFiZWwnXQogICAgICAgIGVuY29kaW5ncyA9IFtdCiAgICAgICAgZm9yIGkgaW4gQUE6CiAgICAg
ICAgICAgIGhlYWRlci5hcHBlbmQoaSkKICAgICAgICBlbmNvZGluZ3MuYXBwZW5kKGhlYWRlcikKCiAg
ICAgICAgZm9yIGkgaW4gc2VsZi5mYXN0YV9saXN0OgogICAgICAgICAgICBuYW1lLCBzZXF1ZW5jZSwg
bGFiZWwgPSBpWzBdLCByZS5zdWIoJy0nLCAnJywgaVsxXSksIGlbMl0KICAgICAgICAgICAgY291bnQg
PSBDb3VudGVyKHNlcXVlbmNlKQogICAgICAgICAgICBmb3Iga2V5IGluIGNvdW50OgogICAgICAgICAg
ICAgICAgY291bnRba2V5XSA9IGNvdW50W2tleV0gLyBsZW4oc2VxdWVuY2UpCiAgICAgICAgICAgIGNv
ZGUgPSBbbmFtZSwgbGFiZWxdCiAgICAgICAgICAgIGZvciBhYSBpbiBBQToKICAgICAgICAgICAgICAg
IGNvZGUuYXBwZW5kKGNvdW50W2FhXSkKICAgICAgICAgICAgZW5jb2RpbmdzLmFwcGVuZChjb2RlKQoK
ICAgICAgICBzZWxmLmVuY29kaW5nX2FycmF5ID0gbnAuYXJyYXkoZW5jb2RpbmdzLCBkdHlwZT1zdHIp
CiAgICAgICAgc2VsZi5jb2x1bW4gPSBzZWxmLmVuY29kaW5nX2FycmF5LnNoYXBlWzFdCiAgICAgICAg
c2VsZi5yb3cgPSBzZWxmLmVuY29kaW5nX2FycmF5LnNoYXBlWzBdIC0gMQogICAgICAgIGRlbCBlbmNv
ZGluZ3MKICAgICAgICBpZiBzZWxmLmVuY29kaW5nX2FycmF5LnNoYXBlWzBdID4gMToKICAgICAgICAg
ICAgcmV0dXJuIFRydWUKICAgICAgICBlbHNlOgogICAgICAgICAgICByZXR1cm4gRmFsc2UKCiAgICBk
ZWYgUHJvdGVpbl9FQUFDKHNlbGYpOgogICAgICAgIHNlbGYuZW5jb2RpbmdfYXJyYXkgPSBucC5hcnJh
eShbXSkKCiAgICAgICAgaWYgbm90IHNlbGYuaXNfZXF1YWw6CiAgICAgICAgICAgIHNlbGYuZXJyb3Jf
bXNnID0gJ0VBQUMgZGVzY3JpcHRvciBuZWVkIGZhc3RhIHNlcXVlbmNlIHdpdGggZXF1YWwgbGVuZ3Ro
LicKICAgICAgICAgICAgcmV0dXJuIEZhbHNlCgogICAgICAgIEFBID0gJ0FSTkRDUUVHSElMS01GUFNU
V1lWJwogICAgICAgIGVuY29kaW5ncyA9IFtdCiAgICAgICAgaGVhZGVyID0gWydTYW1wbGVOYW1lJywg
J2xhYmVsJ10KICAgICAgICBmb3IgdyBpbiByYW5nZSgxLCBsZW4oc2VsZi5mYXN0YV9saXN0WzBdWzFd
KSAtIHNlbGYua3dbJ3NsaWRpbmdfd2luZG93J10gKyAyKToKICAgICAgICAgICAgZm9yIGFhIGluIEFB
OgogICAgICAgICAgICAgICAgaGVhZGVyLmFwcGVuZCgnU1cuJyArIHN0cih3KSArICcuJyArIGFhKQog
ICAgICAgIGVuY29kaW5ncy5hcHBlbmQoaGVhZGVyKQoKICAgICAgICBmb3IgaSBpbiBzZWxmLmZhc3Rh
X2xpc3Q6CiAgICAgICAgICAgIG5hbWUsIHNlcXVlbmNlLCBsYWJlbCA9IGlbMF0sIGlbMV0sIGlbMl0K
ICAgICAgICAgICAgY29kZSA9IFtuYW1lLCBsYWJlbF0KICAgICAgICAgICAgZm9yIGogaW4gcmFuZ2Uo
bGVuKHNlcXVlbmNlKSk6CiAgICAgICAgICAgICAgICBpZiBqIDwgbGVuKHNlcXVlbmNlKSBhbmQgaiAr
IHNlbGYua3dbJ3NsaWRpbmdfd2luZG93J10gPD0gbGVuKHNlcXVlbmNlKToKICAgICAgICAgICAgICAg
ICAgICBjb3VudCA9IENvdW50ZXIoc2VxdWVuY2VbajpqICsgc2VsZi5rd1snc2xpZGluZ193aW5kb3cn
XV0pCiAgICAgICAgICAgICAgICAgICAgZm9yIGtleSBpbiBjb3VudDoKICAgICAgICAgICAgICAgICAg
ICAgICAgY291bnRba2V5XSA9IGNvdW50W2tleV0gLyBsZW4oc2VxdWVuY2VbajpqICsgc2VsZi5rd1sn
c2xpZGluZ193aW5kb3cnXV0pCiAgICAgICAgICAgICAgICAgICAgZm9yIGFhIGluIEFBOgogICAgICAg
ICAgICAgICAgICAgICAgICBjb2RlLmFwcGVuZChjb3VudFthYV0pCiAgICAgICAgICAgIGVuY29kaW5n
cy5hcHBlbmQoY29kZSkKCiAgICAgICAgc2VsZi5lbmNvZGluZ19hcnJheSA9IG5wLmFycmF5KGVuY29k
aW5ncywgZHR5cGU9c3RyKQogICAgICAgIHNlbGYuY29sdW1uID0gc2VsZi5lbmNvZGluZ19hcnJheS5z
aGFwZVsxXQogICAgICAgIHNlbGYucm93ID0gc2VsZi5lbmNvZGluZ19hcnJheS5zaGFwZVswXSAtIDEK
ICAgICAgICBkZWwgZW5jb2RpbmdzCiAgICAgICAgaWYgc2VsZi5lbmNvZGluZ19hcnJheS5zaGFwZVsw
XSA+IDE6CiAgICAgICAgICAgIHJldHVybiBUcnVlCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmV0
dXJuIEZhbHNlCgogICAgZGVmIFByb3RlaW5fQ0tTQUFQKHNlbGYpOgogICAgICAgICMgY2xlYXIKICAg
ICAgICBzZWxmLmVuY29kaW5nX2FycmF5ID0gbnAuYXJyYXkoW10pCgogICAgICAgIEFBID0gJ0FDREVG
R0hJS0xNTlBRUlNUVldZJwogICAgICAgIGVuY29kaW5ncyA9IFtdCiAgICAgICAgYWFQYWlycyA9IFtd
CiAgICAgICAgZm9yIGFhMSBpbiBBQToKICAgICAgICAgICAgZm9yIGFhMiBpbiBBQToKICAgICAgICAg
ICAgICAgIGFhUGFpcnMuYXBwZW5kKGFhMSArIGFhMikKCiAgICAgICAgaGVhZGVyID0gWydTYW1wbGVO
YW1lJywgJ2xhYmVsJ10KCiAgICAgICAgZ2FwID0gc2VsZi5rd1sna3NwYWNlJ10KICAgICAgICBmb3Ig
ZyBpbiByYW5nZShnYXAgKyAxKToKICAgICAgICAgICAgZm9yIGFhIGluIGFhUGFpcnM6CiAgICAgICAg
ICAgICAgICBoZWFkZXIuYXBwZW5kKGFhICsgJy5nYXAnICsgc3RyKGcpKQogICAgICAgIGVuY29kaW5n
cy5hcHBlbmQoaGVhZGVyKQoKICAgICAgICBmb3IgaSBpbiBzZWxmLmZhc3RhX2xpc3Q6CiAgICAgICAg
ICAgIG5hbWUsIHNlcXVlbmNlLCBsYWJlbCA9IGlbMF0sIHJlLnN1YignLScsICcnICwgaVsxXSksIGlb
Ml0KICAgICAgICAgICAgY29kZSA9IFtuYW1lLCBsYWJlbF0KICAgICAgICAgICAgZm9yIGcgaW4gcmFu
Z2UoZ2FwICsgMSk6CiAgICAgICAgICAgICAgICBteURpY3QgPSB7fQogICAgICAgICAgICAgICAgZm9y
IHBhaXIgaW4gYWFQYWlyczoKICAgICAgICAgICAgICAgICAgICBteURpY3RbcGFpcl0gPSAwCiAgICAg
ICAgICAgICAgICBzdW0gPSAwCiAgICAgICAgICAgICAgICBmb3IgaW5kZXgxIGluIHJhbmdlKGxlbihz
ZXF1ZW5jZSkpOgogICAgICAgICAgICAgICAgICAgIGluZGV4MiA9IGluZGV4MSArIGcgKyAxCiAgICAg
ICAgICAgICAgICAgICAgaWYgaW5kZXgxIDwgbGVuKHNlcXVlbmNlKSBhbmQgaW5kZXgyIDwgbGVuKHNl
cXVlbmNlKSBhbmQgc2VxdWVuY2VbaW5kZXgxXSBpbiBBQSBhbmQgc2VxdWVuY2VbCiAgICAgICAgICAg
ICAgICAgICAgICAgIGluZGV4Ml0gaW4gQUE6CiAgICAgICAgICAgICAgICAgICAgICAgIG15RGljdFtz
ZXF1ZW5jZVtpbmRleDFdICsgc2VxdWVuY2VbaW5kZXgyXV0gPSBteURpY3Rbc2VxdWVuY2VbaW5kZXgx
XSArIHNlcXVlbmNlW2luZGV4Ml1dICsgMQogICAgICAgICAgICAgICAgICAgICAgICBzdW0gPSBzdW0g
KyAxCiAgICAgICAgICAgICAgICBmb3IgcGFpciBpbiBhYVBhaXJzOgogICAgICAgICAgICAgICAgICAg
IGNvZGUuYXBwZW5kKG15RGljdFtwYWlyXSAvIHN1bSkKICAgICAgICAgICAgZW5jb2RpbmdzLmFwcGVu
ZChjb2RlKQoKICAgICAgICBzZWxmLmVuY29kaW5nX2FycmF5ID0gbnAuYXJyYXkoZW5jb2RpbmdzLCBk
dHlwZT1zdHIpCiAgICAgICAgc2VsZi5jb2x1bW4gPSBzZWxmLmVuY29kaW5nX2FycmF5LnNoYXBlWzFd
CiAgICAgICAgc2VsZi5yb3cgPSBzZWxmLmVuY29kaW5nX2FycmF5LnNoYXBlWzBdIC0gMQogICAgICAg
IGRlbCBlbmNvZGluZ3MKICAgICAgICBpZiBzZWxmLmVuY29kaW5nX2FycmF5LnNoYXBlWzBdID4gMToK
ICAgICAgICAgICAgcmV0dXJuIFRydWUKICAgICAgICBlbHNlOgogICAgICAgICAgICByZXR1cm4gRmFs
c2UKCiAgICBkZWYgUHJvdGVpbl9EaXN0YW5jZVBhaXIoc2VsZik6CiAgICAgICAgY3AyMF9kaWN0ID0g
ewogICAgICAgICAgICAnQSc6ICdBJywKICAgICAgICAgICAgJ0MnOiAnQycsCiAgICAgICAgICAgICdE
JzogJ0QnLAogICAgICAgICAgICAnRSc6ICdFJywKICAgICAgICAgICAgJ0YnOiAnRicsCiAgICAgICAg
ICAgICdHJzogJ0cnLAogICAgICAgICAgICAnSCc6ICdIJywKICAgICAgICAgICAgJ0knOiAnSScsCiAg
ICAgICAgICAgICdLJzogJ0snLAogICAgICAgICAgICAnTCc6ICdMJywKICAgICAgICAgICAgJ00nOiAn
TScsCiAgICAgICAgICAgICdOJzogJ04nLAogICAgICAgICAgICAnUCc6ICdQJywKICAgICAgICAgICAg
J1EnOiAnUScsCiAgICAgICAgICAgICdSJzogJ1InLAogICAgICAgICAgICAnUyc6ICdTJywKICAgICAg
ICAgICAgJ1QnOiAnVCcsCiAgICAgICAgICAgICdWJzogJ1YnLAogICAgICAgICAgICAnVyc6ICdXJywK
ICAgICAgICAgICAgJ1knOiAnWScsCiAgICAgICAgfQogICAgICAgIGNwMTlfZGljdCA9IHsKICAgICAg
ICAgICAgJ0EnOiAnQScsCiAgICAgICAgICAgICdDJzogJ0MnLAogICAgICAgICAgICAnRCc6ICdEJywK
ICAgICAgICAgICAgJ0UnOiAnRScsCiAgICAgICAgICAgICdGJzogJ0YnLAogICAgICAgICAgICAnRyc6
ICdHJywKICAgICAgICAgICAgJ0gnOiAnSCcsCiAgICAgICAgICAgICdJJzogJ0knLAogICAgICAgICAg
ICAnSyc6ICdLJywKICAgICAgICAgICAgJ0wnOiAnTCcsCiAgICAgICAgICAgICdNJzogJ00nLAogICAg
ICAgICAgICAnTic6ICdOJywKICAgICAgICAgICAgJ1AnOiAnUCcsCiAgICAgICAgICAgICdRJzogJ1En
LAogICAgICAgICAgICAnUic6ICdSJywKICAgICAgICAgICAgJ1MnOiAnUycsCiAgICAgICAgICAgICdU
JzogJ1QnLAogICAgICAgICAgICAnVic6ICdWJywKICAgICAgICAgICAgJ1cnOiAnVycsCiAgICAgICAg
ICAgICdZJzogJ0YnLCAgIyBZRgogICAgICAgIH0KICAgICAgICBjcDE0X2RpY3QgPSB7CiAgICAgICAg
ICAgICdBJzogJ0EnLAogICAgICAgICAgICAnQyc6ICdDJywKICAgICAgICAgICAgJ0QnOiAnRCcsCiAg
ICAgICAgICAgICdFJzogJ0UnLAogICAgICAgICAgICAnRic6ICdGJywKICAgICAgICAgICAgJ0cnOiAn
RycsCiAgICAgICAgICAgICdIJzogJ0gnLAogICAgICAgICAgICAnSSc6ICdJJywKICAgICAgICAgICAg
J0snOiAnSCcsICAgICAgIyBIUktRCiAgICAgICAgICAgICdMJzogJ0wnLAogICAgICAgICAgICAnTSc6
ICdJJywgICAgICAjIElNVgogICAgICAgICAgICAnTic6ICdOJywKICAgICAgICAgICAgJ1AnOiAnUCcs
CiAgICAgICAgICAgICdRJzogJ0gnLCAgICAgICMgSFJLUQogICAgICAgICAgICAnUic6ICdIJywgICAg
ICAjIEhSS1EKICAgICAgICAgICAgJ1MnOiAnUycsCiAgICAgICAgICAgICdUJzogJ1QnLAogICAgICAg
ICAgICAnVic6ICdJJywgICAgICAjIElNVgogICAgICAgICAgICAnVyc6ICdXJywKICAgICAgICAgICAg
J1knOiAnVycsICAgICAgIyBXWQogICAgICAgIH0KICAgICAgICBjcDEzX2RpY3QgPSB7CiAgICAgICAg
ICAgICdBJzogJ0EnLAogICAgICAgICAgICAnQyc6ICdDJywKICAgICAgICAgICAgJ0QnOiAnRCcsCiAg
ICAgICAgICAgICdFJzogJ0UnLAogICAgICAgICAgICAnRic6ICdGJywKICAgICAgICAgICAgJ0cnOiAn
RycsCiAgICAgICAgICAgICdIJzogJ0gnLAogICAgICAgICAgICAnSSc6ICdJJywKICAgICAgICAgICAg
J0snOiAnSycsCiAgICAgICAgICAgICdMJzogJ0knLCAgICMgSUwKICAgICAgICAgICAgJ00nOiAnRics
ICAgIyBGTQogICAgICAgICAgICAnTic6ICdOJywKICAgICAgICAgICAgJ1AnOiAnSCcsICAgIyBIUFFX
WQogICAgICAgICAgICAnUSc6ICdIJywgICAjIEhQUVdZCiAgICAgICAgICAgICdSJzogJ0snLCAgICMg
S1IKICAgICAgICAgICAgJ1MnOiAnUycsCiAgICAgICAgICAgICdUJzogJ1QnLAogICAgICAgICAgICAn
Vic6ICdWJywKICAgICAgICAgICAgJ1cnOiAnSCcsICAgIyBIUFFXWQogICAgICAgICAgICAnWSc6ICdI
JywgICAjIEhQUVdZCiAgICAgICAgfQoKICAgICAgICBjcDIwX0FBID0gJ0FDREVGR0hJS0xNTlBRUlNU
VldZJwogICAgICAgIGNwMTlfQUEgPSAnQUNERUZHSElLTE1OUFFSU1RWVycKICAgICAgICBjcDE0X0FB
ID0gJ0FDREVGR0hJTE5QU1RXJwogICAgICAgIGNwMTNfQUEgPSAnQUNERUZHSElLTlNUVicKCiAgICAg
ICAgZGlzdGFuY2UgPSBzZWxmLmt3WydkaXN0YW5jZSddCiAgICAgICAgY3AgPSBzZWxmLmt3WydjcCdd
CgogICAgICAgIGlmIHNlbGYubWluaW11bV9sZW5ndGhfd2l0aG91dF9taW51cyA8IGRpc3RhbmNlICsg
MToKICAgICAgICAgICAgc2VsZi5lcnJvcl9tc2cgPSAnVGhlIGRpc3RhbmNlIHZhbHVlIGlzIHRvbyBs
YXJnZS4nCiAgICAgICAgICAgIHJldHVybiBGYWxzZQoKICAgICAgICBBQSA9IGNwMjBfQUEKICAgICAg
ICBBQV9kaWN0ID0gY3AyMF9kaWN0CiAgICAgICAgaWYgY3AgPT0gJ2NwKDE5KSc6CiAgICAgICAgICAg
IEFBID0gY3AxOV9BQQogICAgICAgICAgICBBQV9kaWN0ID0gY3AxOV9kaWN0CiAgICAgICAgaWYgY3Ag
PT0gJ2NwKDE0KSc6CiAgICAgICAgICAgIEFBID0gY3AxNF9BQQogICAgICAgICAgICBBQV9kaWN0ID0g
Y3AxNF9kaWN0CiAgICAgICAgaWYgY3AgPT0gJ2NwKDEzKSc6CiAgICAgICAgICAgIEFBID0gY3AxM19B
QQogICAgICAgICAgICBBQV9kaWN0ID0gY3AxM19kaWN0CgogICAgICAgICMgY2xlYXIKICAgICAgICBz
ZWxmLmVuY29kaW5nX2FycmF5ID0gbnAuYXJyYXkoW10pCgogICAgICAgIGVuY29kaW5ncyA9IFtdCiAg
ICAgICAgcGFpcl9kaWN0ID0ge30KICAgICAgICBzaW5nbGVfZGljdCA9IHt9CiAgICAgICAgZm9yIGFh
MSBpbiBBQToKICAgICAgICAgICAgc2luZ2xlX2RpY3RbYWExXSA9IDAKICAgICAgICAgICAgZm9yIGFh
MiBpbiBBQToKICAgICAgICAgICAgICAgIHBhaXJfZGljdFthYTErYWEyXSA9IDAKCiAgICAgICAgaGVh
ZGVyID0gWydTYW1wbGVOYW1lJywgJ2xhYmVsJ10KCiAgICAgICAgZm9yIGQgaW4gcmFuZ2UoZGlzdGFu
Y2UrMSk6CiAgICAgICAgICAgIGlmIGQgPT0gMDoKICAgICAgICAgICAgICAgIGZvciBrZXkgaW4gc29y
dGVkKHNpbmdsZV9kaWN0KToKICAgICAgICAgICAgICAgICAgICBoZWFkZXIuYXBwZW5kKGtleSkKICAg
ICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIGZvciBrZXkgaW4gc29ydGVkKHBhaXJfZGljdCk6
CiAgICAgICAgICAgICAgICAgICAgaGVhZGVyLmFwcGVuZCgnJXMuZGlzdGFuY2UlcycgJShrZXksIGQp
KQogICAgICAgIGVuY29kaW5ncy5hcHBlbmQoaGVhZGVyKQoKICAgICAgICBmb3IgZWxlbSBpbiBzZWxm
LmZhc3RhX2xpc3Q6CiAgICAgICAgICAgIG5hbWUsIHNlcXVlbmNlLCBsYWJlbCA9IGVsZW1bMF0sIHJl
LnN1YignLScsICcnLCBlbGVtWzFdKSwgZWxlbVsyXQogICAgICAgICAgICBjb2RlID0gW25hbWUsIGxh
YmVsXQoKICAgICAgICAgICAgZm9yIGQgaW4gcmFuZ2UoZGlzdGFuY2UgKyAxKToKICAgICAgICAgICAg
ICAgIGlmIGQgPT0gMDoKICAgICAgICAgICAgICAgICAgICB0bXBfZGljdCA9IHNpbmdsZV9kaWN0LmNv
cHkoKQogICAgICAgICAgICAgICAgICAgIGZvciBpIGluIHJhbmdlKGxlbihzZXF1ZW5jZSkpOgogICAg
ICAgICAgICAgICAgICAgICAgICB0bXBfZGljdFtBQV9kaWN0W3NlcXVlbmNlW2ldXV0gKz0gMQogICAg
ICAgICAgICAgICAgICAgIGZvciBrZXkgaW4gc29ydGVkKHRtcF9kaWN0KToKICAgICAgICAgICAgICAg
ICAgICAgICAgY29kZS5hcHBlbmQodG1wX2RpY3Rba2V5XS9sZW4oc2VxdWVuY2UpKQogICAgICAgICAg
ICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICB0bXBfZGljdCA9IHBhaXJfZGljdC5jb3B5KCkK
ICAgICAgICAgICAgICAgICAgICBmb3IgaSBpbiByYW5nZShsZW4oc2VxdWVuY2UpIC0gZCk6CiAgICAg
ICAgICAgICAgICAgICAgICAgIHRtcF9kaWN0W0FBX2RpY3Rbc2VxdWVuY2VbaV1dICsgQUFfZGljdFtz
ZXF1ZW5jZVtpK2RdXV0gKz0gMQogICAgICAgICAgICAgICAgICAgIGZvciBrZXkgaW4gc29ydGVkKHRt
cF9kaWN0KToKICAgICAgICAgICAgICAgICAgICAgICAgY29kZS5hcHBlbmQodG1wX2RpY3Rba2V5XS8o
bGVuKHNlcXVlbmNlKSAtZCkpCiAgICAgICAgICAgIGVuY29kaW5ncy5hcHBlbmQoY29kZSkKICAgICAg
ICBzZWxmLmVuY29kaW5nX2FycmF5ID0gbnAuYXJyYXkoZW5jb2RpbmdzLCBkdHlwZT1zdHIpCiAgICAg
ICAgc2VsZi5jb2x1bW4gPSBzZWxmLmVuY29kaW5nX2FycmF5LnNoYXBlWzFdCiAgICAgICAgc2VsZi5y
b3cgPSBzZWxmLmVuY29kaW5nX2FycmF5LnNoYXBlWzBdIC0gMQogICAgICAgIGRlbCBlbmNvZGluZ3MK
ICAgICAgICBpZiBzZWxmLmVuY29kaW5nX2FycmF5LnNoYXBlWzBdID4gMToKICAgICAgICAgICAgcmV0
dXJuIFRydWUKICAgICAgICBlbHNlOgogICAgICAgICAgICByZXR1cm4gRmFsc2UKCiAgICBkZWYgUHJv
dGVpbl9EUEMoc2VsZik6CiAgICAgICAgIyBjbGVhcgogICAgICAgIHNlbGYuZW5jb2RpbmdfYXJyYXkg
PSBucC5hcnJheShbXSkKCiAgICAgICAgQUEgPSAnQUNERUZHSElLTE1OUFFSU1RWV1knCiAgICAgICAg
ZW5jb2RpbmdzID0gW10KICAgICAgICBkaVBlcHRpZGVzID0gW2FhMSArIGFhMiBmb3IgYWExIGluIEFB
IGZvciBhYTIgaW4gQUFdCiAgICAgICAgaGVhZGVyID0gWydTYW1wbGVOYW1lJywgJ2xhYmVsJ10gKyBk
aVBlcHRpZGVzCiAgICAgICAgZW5jb2RpbmdzLmFwcGVuZChoZWFkZXIpCgogICAgICAgIEFBRGljdCA9
IHt9CiAgICAgICAgZm9yIGkgaW4gcmFuZ2UobGVuKEFBKSk6CiAgICAgICAgICAgIEFBRGljdFtBQVtp
XV0gPSBpCgogICAgICAgIGZvciBpIGluIHNlbGYuZmFzdGFfbGlzdDoKICAgICAgICAgICAgbmFtZSwg
c2VxdWVuY2UsIGxhYmVsID0gaVswXSwgcmUuc3ViKCctJywgJycsIGlbMV0pLCBpWzJdCiAgICAgICAg
ICAgIGNvZGUgPSBbbmFtZSwgbGFiZWxdCiAgICAgICAgICAgIHRtcENvZGUgPSBbMF0gKiA0MDAKICAg
ICAgICAgICAgZm9yIGogaW4gcmFuZ2UobGVuKHNlcXVlbmNlKSAtIDIgKyAxKToKICAgICAgICAgICAg
ICAgIHRtcENvZGVbQUFEaWN0W3NlcXVlbmNlW2pdXSAqIDIwICsgQUFEaWN0W3NlcXVlbmNlW2ogKyAx
XV1dID0gdG1wQ29kZVtBQURpY3Rbc2VxdWVuY2Vbal1dICogMjAgKyBBQURpY3RbCiAgICAgICAgICAg
ICAgICAgICAgc2VxdWVuY2VbaiArIDFdXV0gKyAxCiAgICAgICAgICAgIGlmIHN1bSh0bXBDb2RlKSAh
PSAwOgogICAgICAgICAgICAgICAgdG1wQ29kZSA9IFtpIC8gc3VtKHRtcENvZGUpIGZvciBpIGluIHRt
cENvZGVdCiAgICAgICAgICAgIGNvZGUgPSBjb2RlICsgdG1wQ29kZQogICAgICAgICAgICBlbmNvZGlu
Z3MuYXBwZW5kKGNvZGUpCgogICAgICAgIHNlbGYuZW5jb2RpbmdfYXJyYXkgPSBucC5hcnJheShlbmNv
ZGluZ3MsIGR0eXBlPXN0cikKICAgICAgICBzZWxmLmNvbHVtbiA9IHNlbGYuZW5jb2RpbmdfYXJyYXku
c2hhcGVbMV0KICAgICAgICBzZWxmLnJvdyA9IHNlbGYuZW5jb2RpbmdfYXJyYXkuc2hhcGVbMF0gLSAx
CiAgICAgICAgZGVsIGVuY29kaW5ncwogICAgICAgIGlmIHNlbGYuZW5jb2RpbmdfYXJyYXkuc2hhcGVb
MF0gPiAxOgogICAgICAgICAgICByZXR1cm4gVHJ1ZQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJl
dHVybiBGYWxzZQoKICAgIGRlZiBQcm90ZWluX0RERShzZWxmKToKICAgICAgICAjIGNsZWFyCiAgICAg
ICAgc2VsZi5lbmNvZGluZ19hcnJheSA9IG5wLmFycmF5KFtdKQogICAgICAgIEFBID0gJ0FDREVGR0hJ
S0xNTlBRUlNUVldZJwoKICAgICAgICBteUNvZG9ucyA9IHsnQSc6IDQsICdDJzogMiwgJ0QnOiAyLCAn
RSc6IDIsICdGJzogMiwgJ0cnOiA0LCAnSCc6IDIsICdJJzogMywgJ0snOiAyLCAnTCc6IDYsCiAgICAg
ICAgICAgICAgICAgICAgJ00nOiAxLCAnTic6IDIsICdQJzogNCwgJ1EnOiAyLCAnUic6IDYsICdTJzog
NiwgJ1QnOiA0LCAnVic6IDQsICdXJzogMSwgJ1knOiAyCiAgICAgICAgICAgICAgICAgICAgfQoKICAg
ICAgICBlbmNvZGluZ3MgPSBbXQogICAgICAgIGRpUGVwdGlkZXMgPSBbYWExICsgYWEyIGZvciBhYTEg
aW4gQUEgZm9yIGFhMiBpbiBBQV0KICAgICAgICBoZWFkZXIgPSBbJ1NhbXBsZU5hbWUnLCAnbGFiZWwn
XSArIGRpUGVwdGlkZXMKICAgICAgICBlbmNvZGluZ3MuYXBwZW5kKGhlYWRlcikKCiAgICAgICAgbXlU
TSA9IFtdCiAgICAgICAgZm9yIHBhaXIgaW4gZGlQZXB0aWRlczoKICAgICAgICAgICAgbXlUTS5hcHBl
bmQoKG15Q29kb25zW3BhaXJbMF1dIC8gNjEpICogKG15Q29kb25zW3BhaXJbMV1dIC8gNjEpKQoKICAg
ICAgICBBQURpY3QgPSB7fQogICAgICAgIGZvciBpIGluIHJhbmdlKGxlbihBQSkpOgogICAgICAgICAg
ICBBQURpY3RbQUFbaV1dID0gaQoKICAgICAgICBmb3IgaSBpbiBzZWxmLmZhc3RhX2xpc3Q6CiAgICAg
ICAgICAgIG5hbWUsIHNlcXVlbmNlLCBsYWJlbCA9IGlbMF0sIHJlLnN1YignLScsICcnLCBpWzFdKSwg
aVsyXQogICAgICAgICAgICBjb2RlID0gW25hbWUsIGxhYmVsXQogICAgICAgICAgICB0bXBDb2RlID0g
WzBdICogNDAwCiAgICAgICAgICAgIGZvciBqIGluIHJhbmdlKGxlbihzZXF1ZW5jZSkgLSAyICsgMSk6
CiAgICAgICAgICAgICAgICB0bXBDb2RlW0FBRGljdFtzZXF1ZW5jZVtqXV0gKiAyMCArIEFBRGljdFtz
ZXF1ZW5jZVtqICsgMV1dXSA9IHRtcENvZGVbQUFEaWN0W3NlcXVlbmNlW2pdXSAqIDIwICsgQUFEaWN0
WwogICAgICAgICAgICAgICAgICAgIHNlcXVlbmNlW2ogKyAxXV1dICsgMQogICAgICAgICAgICBpZiBz
dW0odG1wQ29kZSkgIT0gMDoKICAgICAgICAgICAgICAgIHRtcENvZGUgPSBbaSAvIHN1bSh0bXBDb2Rl
KSBmb3IgaSBpbiB0bXBDb2RlXQoKICAgICAgICAgICAgbXlUViA9IFtdCiAgICAgICAgICAgIGZvciBq
IGluIHJhbmdlKGxlbihteVRNKSk6CiAgICAgICAgICAgICAgICBteVRWLmFwcGVuZChteVRNW2pdICog
KDEgLSBteVRNW2pdKSAvIChsZW4oc2VxdWVuY2UpIC0gMSkpCgogICAgICAgICAgICBmb3IgaiBpbiBy
YW5nZShsZW4odG1wQ29kZSkpOgogICAgICAgICAgICAgICAgdG1wQ29kZVtqXSA9ICh0bXBDb2RlW2pd
IC0gbXlUTVtqXSkgLyBtYXRoLnNxcnQobXlUVltqXSkKCiAgICAgICAgICAgIGNvZGUgPSBjb2RlICsg
dG1wQ29kZQogICAgICAgICAgICBlbmNvZGluZ3MuYXBwZW5kKGNvZGUpCgogICAgICAgIHNlbGYuZW5j
b2RpbmdfYXJyYXkgPSBucC5hcnJheShlbmNvZGluZ3MsIGR0eXBlPXN0cikKICAgICAgICBzZWxmLmNv
bHVtbiA9IHNlbGYuZW5jb2RpbmdfYXJyYXkuc2hhcGVbMV0KICAgICAgICBzZWxmLnJvdyA9IHNlbGYu
ZW5jb2RpbmdfYXJyYXkuc2hhcGVbMF0gLSAxCiAgICAgICAgZGVsIGVuY29kaW5ncwogICAgICAgIGlm
IHNlbGYuZW5jb2RpbmdfYXJyYXkuc2hhcGVbMF0gPiAxOgogICAgICAgICAgICByZXR1cm4gVHJ1ZQog
ICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJldHVybiBGYWxzZQoKICAgIGRlZiBQcm90ZWluX1RQQyhz
ZWxmKToKICAgICAgICAjIGNsZWFyCiAgICAgICAgc2VsZi5lbmNvZGluZ19hcnJheSA9IG5wLmFycmF5
KFtdKQoKICAgICAgICBBQSA9ICdBQ0RFRkdISUtMTU5QUVJTVFZXWScKICAgICAgICBlbmNvZGluZ3Mg
PSBbXQogICAgICAgIHRyaVBlcHRpZGVzID0gW2FhMSArIGFhMiArIGFhMyBmb3IgYWExIGluIEFBIGZv
ciBhYTIgaW4gQUEgZm9yIGFhMyBpbiBBQV0KICAgICAgICBoZWFkZXIgPSBbJ1NhbXBsZU5hbWUnLCAn
bGFiZWwnXSArIHRyaVBlcHRpZGVzCiAgICAgICAgZW5jb2RpbmdzLmFwcGVuZChoZWFkZXIpCgogICAg
ICAgIEFBRGljdCA9IHt9CiAgICAgICAgZm9yIGkgaW4gcmFuZ2UobGVuKEFBKSk6CiAgICAgICAgICAg
IEFBRGljdFtBQVtpXV0gPSBpCgogICAgICAgIGZvciBpIGluIHNlbGYuZmFzdGFfbGlzdDoKICAgICAg
ICAgICAgbmFtZSwgc2VxdWVuY2UsIGxhYmVsID0gaVswXSwgcmUuc3ViKCctJywgJycsIGlbMV0pLCBp
WzJdCiAgICAgICAgICAgIGNvZGUgPSBbbmFtZSwgbGFiZWxdCiAgICAgICAgICAgIHRtcENvZGUgPSBb
MF0gKiA4MDAwCiAgICAgICAgICAgIGZvciBqIGluIHJhbmdlKGxlbihzZXF1ZW5jZSkgLSAzICsgMSk6
CiAgICAgICAgICAgICAgICB0bXBDb2RlW0FBRGljdFtzZXF1ZW5jZVtqXV0gKiA0MDAgKyBBQURpY3Rb
c2VxdWVuY2VbaiArIDFdXSAqIDIwICsgQUFEaWN0W3NlcXVlbmNlW2ogKyAyXV1dID0gdG1wQ29kZVsK
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQUFEaWN0
WwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
c2VxdWVuY2VbCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgal1dICogNDAwICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgQUFEaWN0WwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgc2VxdWVuY2VbCiAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaiArIDFdXSAqIDIwICsKICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQUFEaWN0WwogICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VxdWVuY2Vb
CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgaiArIDJdXV0gKyAxCiAgICAgICAgICAgIGlmIHN1bSh0bXBDb2RlKSAhPSAwOgogICAgICAgICAg
ICAgICAgdG1wQ29kZSA9IFtpIC8gc3VtKHRtcENvZGUpIGZvciBpIGluIHRtcENvZGVdCiAgICAgICAg
ICAgIGNvZGUgPSBjb2RlICsgdG1wQ29kZQogICAgICAgICAgICBlbmNvZGluZ3MuYXBwZW5kKGNvZGUp
CgogICAgICAgIHNlbGYuZW5jb2RpbmdfYXJyYXkgPSBucC5hcnJheShlbmNvZGluZ3MsIGR0eXBlPXN0
cikKICAgICAgICBzZWxmLmNvbHVtbiA9IHNlbGYuZW5jb2RpbmdfYXJyYXkuc2hhcGVbMV0KICAgICAg
ICBzZWxmLnJvdyA9IHNlbGYuZW5jb2RpbmdfYXJyYXkuc2hhcGVbMF0gLSAxCiAgICAgICAgZGVsIGVu
Y29kaW5ncwogICAgICAgIGlmIHNlbGYuZW5jb2RpbmdfYXJyYXkuc2hhcGVbMF0gPiAxOgogICAgICAg
ICAgICByZXR1cm4gVHJ1ZQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJldHVybiBGYWxzZQoKICAg
IGRlZiBQcm90ZWluX2JpbmFyeShzZWxmKToKICAgICAgICAjIGNsZWFyCiAgICAgICAgc2VsZi5lbmNv
ZGluZ19hcnJheSA9IG5wLmFycmF5KFtdKQoKICAgICAgICBpZiBub3Qgc2VsZi5pc19lcXVhbDoKICAg
ICAgICAgICAgc2VsZi5lcnJvcl9tc2cgPSAnYmluYXJ5IGRlc2NyaXB0b3IgbmVlZCBmYXN0YSBzZXF1
ZW5jZSB3aXRoIGVxdWFsIGxlbmd0aC4nCiAgICAgICAgICAgIHJldHVybiBGYWxzZQoKICAgICAgICBB
QSA9ICdBUk5EQ1FFR0hJTEtNRlBTVFdZVicKICAgICAgICBlbmNvZGluZ3MgPSBbXQogICAgICAgIGhl
YWRlciA9IFsnU2FtcGxlTmFtZScsICdsYWJlbCddCiAgICAgICAgZm9yIGkgaW4gcmFuZ2UoMSwgbGVu
KHNlbGYuZmFzdGFfbGlzdFswXVsxXSkgKiAyMCArIDEpOgogICAgICAgICAgICBoZWFkZXIuYXBwZW5k
KCdCSU5BUlkuRicgKyBzdHIoaSkpCiAgICAgICAgZW5jb2RpbmdzLmFwcGVuZChoZWFkZXIpCgogICAg
ICAgIGZvciBpIGluIHNlbGYuZmFzdGFfbGlzdDoKICAgICAgICAgICAgbmFtZSwgc2VxdWVuY2UsIGxh
YmVsID0gaVswXSwgaVsxXSwgaVsyXQogICAgICAgICAgICBjb2RlID0gW25hbWUsIGxhYmVsXQogICAg
ICAgICAgICBmb3IgYWEgaW4gc2VxdWVuY2U6CiAgICAgICAgICAgICAgICBpZiBhYSA9PSAnLSc6CiAg
ICAgICAgICAgICAgICAgICAgY29kZSA9IGNvZGUgKyBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwg
MCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0KICAgICAgICAgICAgICAgICAgICBjb250aW51
ZQogICAgICAgICAgICAgICAgZm9yIGFhMSBpbiBBQToKICAgICAgICAgICAgICAgICAgICB0YWcgPSAx
IGlmIGFhID09IGFhMSBlbHNlIDAKICAgICAgICAgICAgICAgICAgICBjb2RlLmFwcGVuZCh0YWcpCiAg
ICAgICAgICAgIGVuY29kaW5ncy5hcHBlbmQoY29kZSkKCiAgICAgICAgc2VsZi5lbmNvZGluZ19hcnJh
eSA9IG5wLmFycmF5KGVuY29kaW5ncywgZHR5cGU9c3RyKQogICAgICAgIHNlbGYuY29sdW1uID0gc2Vs
Zi5lbmNvZGluZ19hcnJheS5zaGFwZVsxXQogICAgICAgIHNlbGYucm93ID0gc2VsZi5lbmNvZGluZ19h
cnJheS5zaGFwZVswXSAtIDEKICAgICAgICBkZWwgZW5jb2RpbmdzCiAgICAgICAgaWYgc2VsZi5lbmNv
ZGluZ19hcnJheS5zaGFwZVswXSA+IDE6CiAgICAgICAgICAgIHJldHVybiBUcnVlCiAgICAgICAgZWxz
ZToKICAgICAgICAgICAgcmV0dXJuIEZhbHNlCgogICAgZGVmIFByb3RlaW5fYmluYXJ5XzZiaXQoc2Vs
Zik6CiAgICAgICAgIyBjbGVhcgogICAgICAgIHNlbGYuZW5jb2RpbmdfYXJyYXkgPSBucC5hcnJheShb
XSkKCiAgICAgICAgaWYgbm90IHNlbGYuaXNfZXF1YWw6CiAgICAgICAgICAgIHNlbGYuZXJyb3JfbXNn
ID0gJ2JpbmFyeSBkZXNjcmlwdG9yIG5lZWQgZmFzdGEgc2VxdWVuY2Ugd2l0aCBlcXVhbCBsZW5ndGgu
JwogICAgICAgICAgICByZXR1cm4gRmFsc2UKCiAgICAgICAgQUFfZ3JvdXBfbGlzdCA9IFsKICAgICAg
ICAgICAgJ0hSSycsCiAgICAgICAgICAgICdERU5RJywKICAgICAgICAgICAgJ0MnLAogICAgICAgICAg
ICAnU1RQQUcnLAogICAgICAgICAgICAnTUlMVicsCiAgICAgICAgICAgICdGWVcnLAogICAgICAgIF0K
ICAgICAgICBlbmNvZGluZ3MgPSBbXQogICAgICAgIGhlYWRlciA9IFsnU2FtcGxlTmFtZScsICdsYWJl
bCddCiAgICAgICAgaGVhZGVyICs9IFsnUG9zJXNfZ3JvdXAlcycgJSAoaSArIDEsIGogKyAxKSBmb3Ig
aSBpbiByYW5nZShsZW4oc2VsZi5mYXN0YV9saXN0WzBdWzFdKSkgZm9yIGogaW4KICAgICAgICAgICAg
ICAgICAgIHJhbmdlKGxlbihBQV9ncm91cF9saXN0KSldCiAgICAgICAgZW5jb2RpbmdzLmFwcGVuZCho
ZWFkZXIpCgogICAgICAgIGZvciBpIGluIHNlbGYuZmFzdGFfbGlzdDoKICAgICAgICAgICAgbmFtZSwg
c2VxdWVuY2UsIGxhYmVsID0gaVswXSwgaVsxXSwgaVsyXQogICAgICAgICAgICBjb2RlID0gW25hbWUs
IGxhYmVsXQogICAgICAgICAgICBmb3IgYWEgaW4gc2VxdWVuY2U6CiAgICAgICAgICAgICAgICBmb3Ig
aiBpbiBBQV9ncm91cF9saXN0OgogICAgICAgICAgICAgICAgICAgIGlmIGFhIGluIGo6CiAgICAgICAg
ICAgICAgICAgICAgICAgIGNvZGUuYXBwZW5kKDEpCiAgICAgICAgICAgICAgICAgICAgZWxzZToKICAg
ICAgICAgICAgICAgICAgICAgICAgY29kZS5hcHBlbmQoMCkKICAgICAgICAgICAgZW5jb2RpbmdzLmFw
cGVuZChjb2RlKQoKICAgICAgICBzZWxmLmVuY29kaW5nX2FycmF5ID0gbnAuYXJyYXkoZW5jb2Rpbmdz
LCBkdHlwZT1zdHIpCiAgICAgICAgc2VsZi5jb2x1bW4gPSBzZWxmLmVuY29kaW5nX2FycmF5LnNoYXBl
WzFdCiAgICAgICAgc2VsZi5yb3cgPSBzZWxmLmVuY29kaW5nX2FycmF5LnNoYXBlWzBdIC0gMQogICAg
ICAgIGRlbCBlbmNvZGluZ3MKICAgICAgICBpZiBzZWxmLmVuY29kaW5nX2FycmF5LnNoYXBlWzBdID4g
MToKICAgICAgICAgICAgcmV0dXJuIFRydWUKICAgICAgICBlbHNlOgogICAgICAgICAgICByZXR1cm4g
RmFsc2UKCiAgICBkZWYgUHJvdGVpbl9iaW5hcnlfNWJpdF90eXBlXzEoc2VsZik6CiAgICAgICAgIyBj
bGVhcgogICAgICAgIHNlbGYuZW5jb2RpbmdfYXJyYXkgPSBucC5hcnJheShbXSkKCiAgICAgICAgaWYg
bm90IHNlbGYuaXNfZXF1YWw6CiAgICAgICAgICAgIHNlbGYuZXJyb3JfbXNnID0gJ2JpbmFyeSBkZXNj
cmlwdG9yIG5lZWQgZmFzdGEgc2VxdWVuY2Ugd2l0aCBlcXVhbCBsZW5ndGguJwogICAgICAgICAgICBy
ZXR1cm4gRmFsc2UKCiAgICAgICAgQUFfZ3JvdXBfbGlzdCA9IFsKICAgICAgICAgICAgJ0dBVkxNSScs
CiAgICAgICAgICAgICdGWVcnLAogICAgICAgICAgICAnS1JIJywKICAgICAgICAgICAgJ0RFJywKICAg
ICAgICAgICAgJ1NUQ1BOUScsCiAgICAgICAgXQogICAgICAgIEFBX2dyb3VwX2luZGV4ID0gWydhbHBo
YXRpYycsICdhcm9tYXRpYycsICdwb3N0aXZlY2hhcmdlJywgJ25lZ2F0aXZlY2hhcmdlJywgJ3VuY2hh
cmdlJ10KCiAgICAgICAgZW5jb2RpbmdzID0gW10KICAgICAgICBoZWFkZXIgPSBbJ1NhbXBsZU5hbWUn
LCAnbGFiZWwnXQogICAgICAgIGhlYWRlciArPSBbJ1BvcyVzXyVzJyAlIChpICsgMSwgaikgZm9yIGkg
aW4gcmFuZ2UobGVuKHNlbGYuZmFzdGFfbGlzdFswXVsxXSkpIGZvciBqIGluIEFBX2dyb3VwX2luZGV4
XQogICAgICAgIGVuY29kaW5ncy5hcHBlbmQoaGVhZGVyKQoKICAgICAgICBmb3IgaSBpbiBzZWxmLmZh
c3RhX2xpc3Q6CiAgICAgICAgICAgIG5hbWUsIHNlcXVlbmNlLCBsYWJlbCA9IGlbMF0sIGlbMV0sIGlb
Ml0KICAgICAgICAgICAgY29kZSA9IFtuYW1lLCBsYWJlbF0KICAgICAgICAgICAgZm9yIGFhIGluIHNl
cXVlbmNlOgogICAgICAgICAgICAgICAgZm9yIGogaW4gQUFfZ3JvdXBfbGlzdDoKICAgICAgICAgICAg
ICAgICAgICBpZiBhYSBpbiBqOgogICAgICAgICAgICAgICAgICAgICAgICBjb2RlLmFwcGVuZCgxKQog
ICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGUuYXBwZW5k
KDApCiAgICAgICAgICAgIGVuY29kaW5ncy5hcHBlbmQoY29kZSkKCiAgICAgICAgc2VsZi5lbmNvZGlu
Z19hcnJheSA9IG5wLmFycmF5KGVuY29kaW5ncywgZHR5cGU9c3RyKQogICAgICAgIHNlbGYuY29sdW1u
ID0gc2VsZi5lbmNvZGluZ19hcnJheS5zaGFwZVsxXQogICAgICAgIHNlbGYucm93ID0gc2VsZi5lbmNv
ZGluZ19hcnJheS5zaGFwZVswXSAtIDEKICAgICAgICBkZWwgZW5jb2RpbmdzCiAgICAgICAgaWYgc2Vs
Zi5lbmNvZGluZ19hcnJheS5zaGFwZVswXSA+IDE6CiAgICAgICAgICAgIHJldHVybiBUcnVlCiAgICAg
ICAgZWxzZToKICAgICAgICAgICAgcmV0dXJuIEZhbHNlCgogICAgZGVmIFByb3RlaW5fYmluYXJ5XzVi
aXRfdHlwZV8yKHNlbGYpOgogICAgICAgICMgY2xlYXIKICAgICAgICBzZWxmLmVuY29kaW5nX2FycmF5
ID0gbnAuYXJyYXkoW10pCgogICAgICAgIGlmIG5vdCBzZWxmLmlzX2VxdWFsOgogICAgICAgICAgICBz
ZWxmLmVycm9yX21zZyA9ICdiaW5hcnkgZGVzY3JpcHRvciBuZWVkIGZhc3RhIHNlcXVlbmNlIHdpdGgg
ZXF1YWwgbGVuZ3RoLicKICAgICAgICAgICAgcmV0dXJuIEZhbHNlCgogICAgICAgIGFhX2RpY3QgPSB7
CiAgICAgICAgICAgICdBJzogWzAsIDAsIDAsIDEsIDFdLAogICAgICAgICAgICAnQyc6IFswLCAwLCAx
LCAwLCAxXSwKICAgICAgICAgICAgJ0QnOiBbMCwgMCwgMSwgMSwgMF0sCiAgICAgICAgICAgICdFJzog
WzAsIDAsIDEsIDEsIDFdLAogICAgICAgICAgICAnRic6IFswLCAxLCAwLCAwLCAxXSwKICAgICAgICAg
ICAgJ0cnOiBbMCwgMSwgMCwgMSwgMF0sCiAgICAgICAgICAgICdIJzogWzAsIDEsIDAsIDEsIDFdLAog
ICAgICAgICAgICAnSSc6IFswLCAxLCAxLCAwLCAwXSwKICAgICAgICAgICAgJ0snOiBbMCwgMSwgMSwg
MCwgMV0sCiAgICAgICAgICAgICdMJzogWzAsIDEsIDEsIDEsIDBdLAogICAgICAgICAgICAnTSc6IFsx
LCAwLCAwLCAwLCAxXSwKICAgICAgICAgICAgJ04nOiBbMSwgMCwgMCwgMSwgMF0sCiAgICAgICAgICAg
ICdQJzogWzEsIDAsIDAsIDEsIDFdLAogICAgICAgICAgICAnUSc6IFsxLCAwLCAxLCAwLCAwXSwKICAg
ICAgICAgICAgJ1InOiBbMSwgMCwgMSwgMCwgMV0sCiAgICAgICAgICAgICdTJzogWzEsIDAsIDEsIDEs
IDBdLAogICAgICAgICAgICAnVCc6IFsxLCAxLCAwLCAwLCAwXSwKICAgICAgICAgICAgJ1YnOiBbMSwg
MSwgMCwgMCwgMV0sCiAgICAgICAgICAgICdXJzogWzEsIDEsIDAsIDEsIDBdLAogICAgICAgICAgICAn
WSc6IFsxLCAxLCAxLCAwLCAwXSwKICAgICAgICB9CgogICAgICAgIGVuY29kaW5ncyA9IFtdCiAgICAg
ICAgaGVhZGVyID0gWydTYW1wbGVOYW1lJywgJ2xhYmVsJ10KICAgICAgICBmb3IgaSBpbiByYW5nZSgx
LCBsZW4oc2VsZi5mYXN0YV9saXN0WzBdWzFdKSAqIDUgKyAxKToKICAgICAgICAgICAgaGVhZGVyLmFw
cGVuZCgnQklOQVJZKDViaXQpLkYnICsgc3RyKGkpKQogICAgICAgIGVuY29kaW5ncy5hcHBlbmQoaGVh
ZGVyKQoKICAgICAgICBmb3IgaSBpbiBzZWxmLmZhc3RhX2xpc3Q6CiAgICAgICAgICAgIG5hbWUsIHNl
cXVlbmNlLCBsYWJlbCA9IGlbMF0sIGlbMV0sIGlbMl0KICAgICAgICAgICAgY29kZSA9IFtuYW1lLCBs
YWJlbF0KICAgICAgICAgICAgZm9yIGFhIGluIHNlcXVlbmNlOgogICAgICAgICAgICAgICAgaWYgYWEg
aW4gYWFfZGljdDoKICAgICAgICAgICAgICAgICAgICBjb2RlICs9IGFhX2RpY3RbYWFdCiAgICAgICAg
ICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgIGNvZGUgKz0gWzAsIDAsIDAsIDAsIDBdCiAg
ICAgICAgICAgIGVuY29kaW5ncy5hcHBlbmQoY29kZSkKCiAgICAgICAgc2VsZi5lbmNvZGluZ19hcnJh
eSA9IG5wLmFycmF5KGVuY29kaW5ncywgZHR5cGU9c3RyKQogICAgICAgIHNlbGYuY29sdW1uID0gc2Vs
Zi5lbmNvZGluZ19hcnJheS5zaGFwZVsxXQogICAgICAgIHNlbGYucm93ID0gc2VsZi5lbmNvZGluZ19h
cnJheS5zaGFwZVswXSAtIDEKICAgICAgICBkZWwgZW5jb2RpbmdzCiAgICAgICAgaWYgc2VsZi5lbmNv
ZGluZ19hcnJheS5zaGFwZVswXSA+IDE6CiAgICAgICAgICAgIHJldHVybiBUcnVlCiAgICAgICAgZWxz
ZToKICAgICAgICAgICAgcmV0dXJuIEZhbHNlCgogICAgZGVmIFByb3RlaW5fYmluYXJ5XzNiaXRfdHlw
ZV8xKHNlbGYpOgogICAgICAgICMgY2xlYXIKICAgICAgICBzZWxmLmVuY29kaW5nX2FycmF5ID0gbnAu
YXJyYXkoW10pCgogICAgICAgIGlmIG5vdCBzZWxmLmlzX2VxdWFsOgogICAgICAgICAgICBzZWxmLmVy
cm9yX21zZyA9ICdiaW5hcnkgZGVzY3JpcHRvciBuZWVkIGZhc3RhIHNlcXVlbmNlIHdpdGggZXF1YWwg
bGVuZ3RoLicKICAgICAgICAgICAgcmV0dXJuIEZhbHNlCgogICAgICAgIEFBX2dyb3VwX2xpc3QgPSBb
CiAgICAgICAgICAgICdSS0VEUU4nLAogICAgICAgICAgICAnR0FTVFBIWScsCiAgICAgICAgICAgICdD
TFZJTUZXJywKICAgICAgICBdCiAgICAgICAgQUFfZ3JvdXBfaW5kZXggPSBbJ1BvbGFyJywgJ05ldXRy
YWwnLCAnSHlkcm9waG9iaWNpdHknXQoKICAgICAgICBlbmNvZGluZ3MgPSBbXQogICAgICAgIGhlYWRl
ciA9IFsnU2FtcGxlTmFtZScsICdsYWJlbCddCiAgICAgICAgaGVhZGVyICs9IFsnUG9zJXNfJXMnICUg
KGkgKyAxLCBqKSBmb3IgaSBpbiByYW5nZShsZW4oc2VsZi5mYXN0YV9saXN0WzBdWzFdKSkgZm9yIGog
aW4gQUFfZ3JvdXBfaW5kZXhdCiAgICAgICAgZW5jb2RpbmdzLmFwcGVuZChoZWFkZXIpCgogICAgICAg
IGZvciBpIGluIHNlbGYuZmFzdGFfbGlzdDoKICAgICAgICAgICAgbmFtZSwgc2VxdWVuY2UsIGxhYmVs
ID0gaVswXSwgaVsxXSwgaVsyXQogICAgICAgICAgICBjb2RlID0gW25hbWUsIGxhYmVsXQogICAgICAg
ICAgICBmb3IgYWEgaW4gc2VxdWVuY2U6CiAgICAgICAgICAgICAgICBmb3IgaiBpbiBBQV9ncm91cF9s
aXN0OgogICAgICAgICAgICAgICAgICAgIGlmIGFhIGluIGo6CiAgICAgICAgICAgICAgICAgICAgICAg
IGNvZGUuYXBwZW5kKDEpCiAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAg
ICAgICAgY29kZS5hcHBlbmQoMCkKICAgICAgICAgICAgZW5jb2RpbmdzLmFwcGVuZChjb2RlKQoKICAg
ICAgICBzZWxmLmVuY29kaW5nX2FycmF5ID0gbnAuYXJyYXkoZW5jb2RpbmdzLCBkdHlwZT1zdHIpCiAg
ICAgICAgc2VsZi5jb2x1bW4gPSBzZWxmLmVuY29kaW5nX2FycmF5LnNoYXBlWzFdCiAgICAgICAgc2Vs
Zi5yb3cgPSBzZWxmLmVuY29kaW5nX2FycmF5LnNoYXBlWzBdIC0gMQogICAgICAgIGRlbCBlbmNvZGlu
Z3MKICAgICAgICBpZiBzZWxmLmVuY29kaW5nX2FycmF5LnNoYXBlWzBdID4gMToKICAgICAgICAgICAg
cmV0dXJuIFRydWUKICAgICAgICBlbHNlOgogICAgICAgICAgICByZXR1cm4gRmFsc2UKCiAgICBkZWYg
UHJvdGVpbl9iaW5hcnlfM2JpdF90eXBlXzIoc2VsZik6CiAgICAgICAgIyBjbGVhcgogICAgICAgIHNl
bGYuZW5jb2RpbmdfYXJyYXkgPSBucC5hcnJheShbXSkKCiAgICAgICAgaWYgbm90IHNlbGYuaXNfZXF1
YWw6CiAgICAgICAgICAgIHNlbGYuZXJyb3JfbXNnID0gJ2JpbmFyeSBkZXNjcmlwdG9yIG5lZWQgZmFz
dGEgc2VxdWVuY2Ugd2l0aCBlcXVhbCBsZW5ndGguJwogICAgICAgICAgICByZXR1cm4gRmFsc2UKCiAg
ICAgICAgQUFfZ3JvdXBfbGlzdCA9IFsKICAgICAgICAgICAgJ0dBU1RQRCcsCiAgICAgICAgICAgICdO
VkVRSUwnLAogICAgICAgICAgICAnTUhLRlJZVycsCiAgICAgICAgXQogICAgICAgIEFBX2dyb3VwX2lu
ZGV4ID0gWydWb2x1bWVfcmFuZ2UoMC0yLjc4KScsICdWb2x1bW5fcmFuZ2UoMi45NS00LjApJywgJ1Zv
bHVtbl9yYW5nZSg0LjAzLTguMDgpJ10KCiAgICAgICAgZW5jb2RpbmdzID0gW10KICAgICAgICBoZWFk
ZXIgPSBbJ1NhbXBsZU5hbWUnLCAnbGFiZWwnXQogICAgICAgIGhlYWRlciArPSBbJ1BvcyVzXyVzJyAl
IChpICsgMSwgaikgZm9yIGkgaW4gcmFuZ2UobGVuKHNlbGYuZmFzdGFfbGlzdFswXVsxXSkpIGZvciBq
IGluIEFBX2dyb3VwX2luZGV4XQogICAgICAgIGVuY29kaW5ncy5hcHBlbmQoaGVhZGVyKQoKICAgICAg
ICBmb3IgaSBpbiBzZWxmLmZhc3RhX2xpc3Q6CiAgICAgICAgICAgIG5hbWUsIHNlcXVlbmNlLCBsYWJl
bCA9IGlbMF0sIGlbMV0sIGlbMl0KICAgICAgICAgICAgY29kZSA9IFtuYW1lLCBsYWJlbF0KICAgICAg
ICAgICAgZm9yIGFhIGluIHNlcXVlbmNlOgogICAgICAgICAgICAgICAgZm9yIGogaW4gQUFfZ3JvdXBf
bGlzdDoKICAgICAgICAgICAgICAgICAgICBpZiBhYSBpbiBqOgogICAgICAgICAgICAgICAgICAgICAg
ICBjb2RlLmFwcGVuZCgxKQogICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAg
ICAgICAgIGNvZGUuYXBwZW5kKDApCiAgICAgICAgICAgIGVuY29kaW5ncy5hcHBlbmQoY29kZSkKCiAg
ICAgICAgc2VsZi5lbmNvZGluZ19hcnJheSA9IG5wLmFycmF5KGVuY29kaW5ncywgZHR5cGU9c3RyKQog
ICAgICAgIHNlbGYuY29sdW1uID0gc2VsZi5lbmNvZGluZ19hcnJheS5zaGFwZVsxXQogICAgICAgIHNl
bGYucm93ID0gc2VsZi5lbmNvZGluZ19hcnJheS5zaGFwZVswXSAtIDEKICAgICAgICBkZWwgZW5jb2Rp
bmdzCiAgICAgICAgaWYgc2VsZi5lbmNvZGluZ19hcnJheS5zaGFwZVswXSA+IDE6CiAgICAgICAgICAg
IHJldHVybiBUcnVlCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmV0dXJuIEZhbHNlCgogICAgZGVm
IFByb3RlaW5fYmluYXJ5XzNiaXRfdHlwZV8zKHNlbGYpOgogICAgICAgICMgY2xlYXIKICAgICAgICBz
ZWxmLmVuY29kaW5nX2FycmF5ID0gbnAuYXJyYXkoW10pCgogICAgICAgIGlmIG5vdCBzZWxmLmlzX2Vx
dWFsOgogICAgICAgICAgICBzZWxmLmVycm9yX21zZyA9ICdiaW5hcnkgZGVzY3JpcHRvciBuZWVkIGZh
c3RhIHNlcXVlbmNlIHdpdGggZXF1YWwgbGVuZ3RoLicKICAgICAgICAgICAgcmV0dXJuIEZhbHNlCgog
ICAgICAgIEFBX2dyb3VwX2xpc3QgPSBbCiAgICAgICAgICAgICdSS0VEUU4nLAogICAgICAgICAgICAn
R0FTVFBIWScsCiAgICAgICAgICAgICdDTFZJTUZXJywKICAgICAgICBdCiAgICAgICAgQUFfZ3JvdXBf
aW5kZXggPSBbJ1BvbGFyaXR5VmFsdWUoNC45LTYuMiknLCAnUG9sYXJpdHlWYWx1ZSg4LjAtOS4yKScs
ICdQb2xhcml0eVZhbHVlKDEwLjQtMTMuMCknXQoKICAgICAgICBlbmNvZGluZ3MgPSBbXQogICAgICAg
IGhlYWRlciA9IFsnU2FtcGxlTmFtZScsICdsYWJlbCddCiAgICAgICAgaGVhZGVyICs9IFsnUG9zJXNf
JXMnICUgKGkgKyAxLCBqKSBmb3IgaSBpbiByYW5nZShsZW4oc2VsZi5mYXN0YV9saXN0WzBdWzFdKSkg
Zm9yIGogaW4gQUFfZ3JvdXBfaW5kZXhdCiAgICAgICAgZW5jb2RpbmdzLmFwcGVuZChoZWFkZXIpCgog
ICAgICAgIGZvciBpIGluIHNlbGYuZmFzdGFfbGlzdDoKICAgICAgICAgICAgbmFtZSwgc2VxdWVuY2Us
IGxhYmVsID0gaVswXSwgaVsxXSwgaVsyXQogICAgICAgICAgICBjb2RlID0gW25hbWUsIGxhYmVsXQog
ICAgICAgICAgICBmb3IgYWEgaW4gc2VxdWVuY2U6CiAgICAgICAgICAgICAgICBmb3IgaiBpbiBBQV9n
cm91cF9saXN0OgogICAgICAgICAgICAgICAgICAgIGlmIGFhIGluIGo6CiAgICAgICAgICAgICAgICAg
ICAgICAgIGNvZGUuYXBwZW5kKDEpCiAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAg
ICAgICAgICAgICAgY29kZS5hcHBlbmQoMCkKICAgICAgICAgICAgZW5jb2RpbmdzLmFwcGVuZChjb2Rl
KQoKICAgICAgICBzZWxmLmVuY29kaW5nX2FycmF5ID0gbnAuYXJyYXkoZW5jb2RpbmdzLCBkdHlwZT1z
dHIpCiAgICAgICAgc2VsZi5jb2x1bW4gPSBzZWxmLmVuY29kaW5nX2FycmF5LnNoYXBlWzFdCiAgICAg
ICAgc2VsZi5yb3cgPSBzZWxmLmVuY29kaW5nX2FycmF5LnNoYXBlWzBdIC0gMQogICAgICAgIGRlbCBl
bmNvZGluZ3MKICAgICAgICBpZiBzZWxmLmVuY29kaW5nX2FycmF5LnNoYXBlWzBdID4gMToKICAgICAg
ICAgICAgcmV0dXJuIFRydWUKICAgICAgICBlbHNlOgogICAgICAgICAgICByZXR1cm4gRmFsc2UKCiAg
ICBkZWYgUHJvdGVpbl9iaW5hcnlfM2JpdF90eXBlXzQoc2VsZik6CiAgICAgICAgIyBjbGVhcgogICAg
ICAgIHNlbGYuZW5jb2RpbmdfYXJyYXkgPSBucC5hcnJheShbXSkKCiAgICAgICAgaWYgbm90IHNlbGYu
aXNfZXF1YWw6CiAgICAgICAgICAgIHNlbGYuZXJyb3JfbXNnID0gJ2JpbmFyeSBkZXNjcmlwdG9yIG5l
ZWQgZmFzdGEgc2VxdWVuY2Ugd2l0aCBlcXVhbCBsZW5ndGguJwogICAgICAgICAgICByZXR1cm4gRmFs
c2UKCiAgICAgICAgQUFfZ3JvdXBfbGlzdCA9IFsKICAgICAgICAgICAgJ0dBU0RUJywKICAgICAgICAg
ICAgJ0NQTlZFUUlMJywKICAgICAgICAgICAgJ0tNSEZSWVcnLAogICAgICAgIF0KICAgICAgICBBQV9n
cm91cF9pbmRleCA9IFsnUG9sYXJpemFiaWxpdHlWYWx1ZSgwLTAuMTA4KScsICdQb2xhcml6YWJpbGl0
eVZhbHVlKDAuMTI4LTAuMTg2KScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ1BvbGFyaXphYmls
aXR5VmFsdWUoMC4yMTktMC40MDkpJ10KCiAgICAgICAgZW5jb2RpbmdzID0gW10KICAgICAgICBoZWFk
ZXIgPSBbJ1NhbXBsZU5hbWUnLCAnbGFiZWwnXQogICAgICAgIGhlYWRlciArPSBbJ1BvcyVzXyVzJyAl
IChpICsgMSwgaikgZm9yIGkgaW4gcmFuZ2UobGVuKHNlbGYuZmFzdGFfbGlzdFswXVsxXSkpIGZvciBq
IGluIEFBX2dyb3VwX2luZGV4XQogICAgICAgIGVuY29kaW5ncy5hcHBlbmQoaGVhZGVyKQoKICAgICAg
ICBmb3IgaSBpbiBzZWxmLmZhc3RhX2xpc3Q6CiAgICAgICAgICAgIG5hbWUsIHNlcXVlbmNlLCBsYWJl
bCA9IGlbMF0sIGlbMV0sIGlbMl0KICAgICAgICAgICAgY29kZSA9IFtuYW1lLCBsYWJlbF0KICAgICAg
ICAgICAgZm9yIGFhIGluIHNlcXVlbmNlOgogICAgICAgICAgICAgICAgZm9yIGogaW4gQUFfZ3JvdXBf
bGlzdDoKICAgICAgICAgICAgICAgICAgICBpZiBhYSBpbiBqOgogICAgICAgICAgICAgICAgICAgICAg
ICBjb2RlLmFwcGVuZCgxKQogICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAg
ICAgICAgIGNvZGUuYXBwZW5kKDApCiAgICAgICAgICAgIGVuY29kaW5ncy5hcHBlbmQoY29kZSkKCiAg
ICAgICAgc2VsZi5lbmNvZGluZ19hcnJheSA9IG5wLmFycmF5KGVuY29kaW5ncywgZHR5cGU9c3RyKQog
ICAgICAgIHNlbGYuY29sdW1uID0gc2VsZi5lbmNvZGluZ19hcnJheS5zaGFwZVsxXQogICAgICAgIHNl
bGYucm93ID0gc2VsZi5lbmNvZGluZ19hcnJheS5zaGFwZVswXSAtIDEKICAgICAgICBkZWwgZW5jb2Rp
bmdzCiAgICAgICAgaWYgc2VsZi5lbmNvZGluZ19hcnJheS5zaGFwZVswXSA+IDE6CiAgICAgICAgICAg
IHJldHVybiBUcnVlCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmV0dXJuIEZhbHNlCgogICAgZGVm
IFByb3RlaW5fYmluYXJ5XzNiaXRfdHlwZV81KHNlbGYpOgogICAgICAgICMgY2xlYXIKICAgICAgICBz
ZWxmLmVuY29kaW5nX2FycmF5ID0gbnAuYXJyYXkoW10pCgogICAgICAgIGlmIG5vdCBzZWxmLmlzX2Vx
dWFsOgogICAgICAgICAgICBzZWxmLmVycm9yX21zZyA9ICdiaW5hcnkgZGVzY3JpcHRvciBuZWVkIGZh
c3RhIHNlcXVlbmNlIHdpdGggZXF1YWwgbGVuZ3RoLicKICAgICAgICAgICAgcmV0dXJuIEZhbHNlCgog
ICAgICAgIEFBX2dyb3VwX2xpc3QgPSBbCiAgICAgICAgICAgICdLUicsCiAgICAgICAgICAgICdBTkNR
R0hJTE1GUFN0V1lWJywKICAgICAgICAgICAgJ0RFJywKICAgICAgICBdCiAgICAgICAgQUFfZ3JvdXBf
aW5kZXggPSBbJ1Bvc2l0aXZlJywgJ05ldXRyYWwnLCAnTmVnYXRpdmUnXQoKICAgICAgICBlbmNvZGlu
Z3MgPSBbXQogICAgICAgIGhlYWRlciA9IFsnU2FtcGxlTmFtZScsICdsYWJlbCddCiAgICAgICAgaGVh
ZGVyICs9IFsnUG9zJXNfJXMnICUgKGkgKyAxLCBqKSBmb3IgaSBpbiByYW5nZShsZW4oc2VsZi5mYXN0
YV9saXN0WzBdWzFdKSkgZm9yIGogaW4gQUFfZ3JvdXBfaW5kZXhdCiAgICAgICAgZW5jb2RpbmdzLmFw
cGVuZChoZWFkZXIpCgogICAgICAgIGZvciBpIGluIHNlbGYuZmFzdGFfbGlzdDoKICAgICAgICAgICAg
bmFtZSwgc2VxdWVuY2UsIGxhYmVsID0gaVswXSwgaVsxXSwgaVsyXQogICAgICAgICAgICBjb2RlID0g
W25hbWUsIGxhYmVsXQogICAgICAgICAgICBmb3IgYWEgaW4gc2VxdWVuY2U6CiAgICAgICAgICAgICAg
ICBmb3IgaiBpbiBBQV9ncm91cF9saXN0OgogICAgICAgICAgICAgICAgICAgIGlmIGFhIGluIGo6CiAg
ICAgICAgICAgICAgICAgICAgICAgIGNvZGUuYXBwZW5kKDEpCiAgICAgICAgICAgICAgICAgICAgZWxz
ZToKICAgICAgICAgICAgICAgICAgICAgICAgY29kZS5hcHBlbmQoMCkKICAgICAgICAgICAgZW5jb2Rp
bmdzLmFwcGVuZChjb2RlKQoKICAgICAgICBzZWxmLmVuY29kaW5nX2FycmF5ID0gbnAuYXJyYXkoZW5j
b2RpbmdzLCBkdHlwZT1zdHIpCiAgICAgICAgc2VsZi5jb2x1bW4gPSBzZWxmLmVuY29kaW5nX2FycmF5
LnNoYXBlWzFdCiAgICAgICAgc2VsZi5yb3cgPSBzZWxmLmVuY29kaW5nX2FycmF5LnNoYXBlWzBdIC0g
MQogICAgICAgIGRlbCBlbmNvZGluZ3MKICAgICAgICBpZiBzZWxmLmVuY29kaW5nX2FycmF5LnNoYXBl
WzBdID4gMToKICAgICAgICAgICAgcmV0dXJuIFRydWUKICAgICAgICBlbHNlOgogICAgICAgICAgICBy
ZXR1cm4gRmFsc2UKCiAgICBkZWYgUHJvdGVpbl9iaW5hcnlfM2JpdF90eXBlXzYoc2VsZik6CiAgICAg
ICAgIyBjbGVhcgogICAgICAgIHNlbGYuZW5jb2RpbmdfYXJyYXkgPSBucC5hcnJheShbXSkKCiAgICAg
ICAgaWYgbm90IHNlbGYuaXNfZXF1YWw6CiAgICAgICAgICAgIHNlbGYuZXJyb3JfbXNnID0gJ2JpbmFy
eSBkZXNjcmlwdG9yIG5lZWQgZmFzdGEgc2VxdWVuY2Ugd2l0aCBlcXVhbCBsZW5ndGguJwogICAgICAg
ICAgICByZXR1cm4gRmFsc2UKCiAgICAgICAgQUFfZ3JvdXBfbGlzdCA9IFsKICAgICAgICAgICAgJ0VB
TE1RS1JIJywKICAgICAgICAgICAgJ1ZJWUNXRlQnLAogICAgICAgICAgICAnR05QU0QnLAogICAgICAg
IF0KICAgICAgICBBQV9ncm91cF9pbmRleCA9IFsnSGVsaXgnLCAnU3RyYW5kJywgJ0NvaWwnXQoKICAg
ICAgICBlbmNvZGluZ3MgPSBbXQogICAgICAgIGhlYWRlciA9IFsnU2FtcGxlTmFtZScsICdsYWJlbCdd
CiAgICAgICAgaGVhZGVyICs9IFsnUG9zJXNfJXMnICUgKGkgKyAxLCBqKSBmb3IgaSBpbiByYW5nZShs
ZW4oc2VsZi5mYXN0YV9saXN0WzBdWzFdKSkgZm9yIGogaW4gQUFfZ3JvdXBfaW5kZXhdCiAgICAgICAg
ZW5jb2RpbmdzLmFwcGVuZChoZWFkZXIpCgogICAgICAgIGZvciBpIGluIHNlbGYuZmFzdGFfbGlzdDoK
ICAgICAgICAgICAgbmFtZSwgc2VxdWVuY2UsIGxhYmVsID0gaVswXSwgaVsxXSwgaVsyXQogICAgICAg
ICAgICBjb2RlID0gW25hbWUsIGxhYmVsXQogICAgICAgICAgICBmb3IgYWEgaW4gc2VxdWVuY2U6CiAg
ICAgICAgICAgICAgICBmb3IgaiBpbiBBQV9ncm91cF9saXN0OgogICAgICAgICAgICAgICAgICAgIGlm
IGFhIGluIGo6CiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGUuYXBwZW5kKDEpCiAgICAgICAgICAg
ICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgY29kZS5hcHBlbmQoMCkKICAgICAg
ICAgICAgZW5jb2RpbmdzLmFwcGVuZChjb2RlKQoKICAgICAgICBzZWxmLmVuY29kaW5nX2FycmF5ID0g
bnAuYXJyYXkoZW5jb2RpbmdzLCBkdHlwZT1zdHIpCiAgICAgICAgc2VsZi5jb2x1bW4gPSBzZWxmLmVu
Y29kaW5nX2FycmF5LnNoYXBlWzFdCiAgICAgICAgc2VsZi5yb3cgPSBzZWxmLmVuY29kaW5nX2FycmF5
LnNoYXBlWzBdIC0gMQogICAgICAgIGRlbCBlbmNvZGluZ3MKICAgICAgICBpZiBzZWxmLmVuY29kaW5n
X2FycmF5LnNoYXBlWzBdID4gMToKICAgICAgICAgICAgcmV0dXJuIFRydWUKICAgICAgICBlbHNlOgog
ICAgICAgICAgICByZXR1cm4gRmFsc2UKCiAgICBkZWYgUHJvdGVpbl9iaW5hcnlfM2JpdF90eXBlXzco
c2VsZik6CiAgICAgICAgIyBjbGVhcgogICAgICAgIHNlbGYuZW5jb2RpbmdfYXJyYXkgPSBucC5hcnJh
eShbXSkKCiAgICAgICAgaWYgbm90IHNlbGYuaXNfZXF1YWw6CiAgICAgICAgICAgIHNlbGYuZXJyb3Jf
bXNnID0gJ2JpbmFyeSBkZXNjcmlwdG9yIG5lZWQgZmFzdGEgc2VxdWVuY2Ugd2l0aCBlcXVhbCBsZW5n
dGguJwogICAgICAgICAgICByZXR1cm4gRmFsc2UKCiAgICAgICAgQUFfZ3JvdXBfbGlzdCA9IFsKICAg
ICAgICAgICAgJ0FMRkNHSVZXJywKICAgICAgICAgICAgJ1BLUUVORCcsCiAgICAgICAgICAgICdNUFNU
SFknLAogICAgICAgIF0KICAgICAgICBBQV9ncm91cF9pbmRleCA9IFsnQnVyaWVkJywgJ0V4cG9zZWQn
LCAnSW50ZXJtZWRpYXRlJ10KCiAgICAgICAgZW5jb2RpbmdzID0gW10KICAgICAgICBoZWFkZXIgPSBb
J1NhbXBsZU5hbWUnLCAnbGFiZWwnXQogICAgICAgIGhlYWRlciArPSBbJ1BvcyVzXyVzJyAlIChpICsg
MSwgaikgZm9yIGkgaW4gcmFuZ2UobGVuKHNlbGYuZmFzdGFfbGlzdFswXVsxXSkpIGZvciBqIGluIEFB
X2dyb3VwX2luZGV4XQogICAgICAgIGVuY29kaW5ncy5hcHBlbmQoaGVhZGVyKQoKICAgICAgICBmb3Ig
aSBpbiBzZWxmLmZhc3RhX2xpc3Q6CiAgICAgICAgICAgIG5hbWUsIHNlcXVlbmNlLCBsYWJlbCA9IGlb
MF0sIGlbMV0sIGlbMl0KICAgICAgICAgICAgY29kZSA9IFtuYW1lLCBsYWJlbF0KICAgICAgICAgICAg
Zm9yIGFhIGluIHNlcXVlbmNlOgogICAgICAgICAgICAgICAgZm9yIGogaW4gQUFfZ3JvdXBfbGlzdDoK
ICAgICAgICAgICAgICAgICAgICBpZiBhYSBpbiBqOgogICAgICAgICAgICAgICAgICAgICAgICBjb2Rl
LmFwcGVuZCgxKQogICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAg
IGNvZGUuYXBwZW5kKDApCiAgICAgICAgICAgIGVuY29kaW5ncy5hcHBlbmQoY29kZSkKCiAgICAgICAg
c2VsZi5lbmNvZGluZ19hcnJheSA9IG5wLmFycmF5KGVuY29kaW5ncywgZHR5cGU9c3RyKQogICAgICAg
IHNlbGYuY29sdW1uID0gc2VsZi5lbmNvZGluZ19hcnJheS5zaGFwZVsxXQogICAgICAgIHNlbGYucm93
ID0gc2VsZi5lbmNvZGluZ19hcnJheS5zaGFwZVswXSAtIDEKICAgICAgICBkZWwgZW5jb2RpbmdzCiAg
ICAgICAgaWYgc2VsZi5lbmNvZGluZ19hcnJheS5zaGFwZVswXSA+IDE6CiAgICAgICAgICAgIHJldHVy
biBUcnVlCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmV0dXJuIEZhbHNlCgogICAgZGVmIFByb3Rl
aW5fQUVTTk4zKHNlbGYpOgogICAgICAgIHNlbGYuZW5jb2RpbmdfYXJyYXkgPSBucC5hcnJheShbXSkK
CiAgICAgICAgaWYgbm90IHNlbGYuaXNfZXF1YWw6CiAgICAgICAgICAgIHNlbGYuZXJyb3JfbXNnID0g
J0FFU05OMyBkZXNjcmlwdG9yIG5lZWQgZmFzdGEgc2VxdWVuY2Ugd2l0aCBlcXVhbCBsZW5ndGguJwog
ICAgICAgICAgICByZXR1cm4gRmFsc2UKCiAgICAgICAgQUVTTk4zX2RpY3QgPSB7CiAgICAgICAgICAg
ICdBJzogWy0wLjk5LCAtMC42MSwgIDAuMDBdLAogICAgICAgICAgICAnUic6IFsgMC4yOCwgLTAuOTks
IC0wLjIyXSwKICAgICAgICAgICAgJ04nOiBbIDAuNzcsIC0wLjI0LCAgMC41OV0sCiAgICAgICAgICAg
ICdEJzogWyAwLjc0LCAtMC43MiwgLTAuMzVdLAogICAgICAgICAgICAnQyc6IFsgMC4zNCwgIDAuODgs
ICAwLjM1XSwKICAgICAgICAgICAgJ1EnOiBbIDAuMTIsIC0wLjk5LCAtMC45OV0sCiAgICAgICAgICAg
ICdFJzogWyAwLjU5LCAtMC41NSwgLTAuOTldLAogICAgICAgICAgICAnRyc6IFstMC43OSwgLTAuOTks
ICAwLjEwXSwKICAgICAgICAgICAgJ0gnOiBbIDAuMDgsIC0wLjcxLCAgMC42OF0sCiAgICAgICAgICAg
ICdJJzogWy0wLjc3LCAgMC42NywgLTAuMzddLAogICAgICAgICAgICAnTCc6IFstMC45MiwgIDAuMzEs
IC0wLjk5XSwKICAgICAgICAgICAgJ0snOiBbLTAuNjMsICAwLjI1LCAgMC41MF0sCiAgICAgICAgICAg
ICdNJzogWy0wLjgwLCAgMC40NCwgLTAuNzFdLAogICAgICAgICAgICAnRic6IFsgMC44NywgIDAuNjUs
IC0wLjUzXSwKICAgICAgICAgICAgJ1AnOiBbLTAuOTksIC0wLjk5LCAtMC45OV0sCiAgICAgICAgICAg
ICdTJzogWyAwLjk5LCAgMC40MCwgIDAuMzddLAogICAgICAgICAgICAnVCc6IFsgMC40MiwgIDAuMjEs
ICAwLjk3XSwKICAgICAgICAgICAgJ1cnOiBbLTAuMTMsICAwLjc3LCAtMC45MF0sCiAgICAgICAgICAg
ICdZJzogWyAwLjU5LCAgMC4zMywgLTAuOTldLAogICAgICAgICAgICAnVic6IFstMC45OSwgIDAuMjcs
IC0wLjUyXSwKICAgICAgICAgICAgJy0nOiBbICAgIDAsICAgICAwLCAgICAgMF0sCiAgICAgICAgfQog
ICAgICAgIGVuY29kaW5ncyA9IFtdCiAgICAgICAgaGVhZGVyID0gWydTYW1wbGVOYW1lJywgJ2xhYmVs
J10KICAgICAgICBmb3IgcCBpbiByYW5nZSgxLCBsZW4oc2VsZi5mYXN0YV9saXN0WzBdWzFdKSArIDEp
OgogICAgICAgICAgICBmb3IgeiBpbiAoJzEnLCAnMicsICczJyk6CiAgICAgICAgICAgICAgICBoZWFk
ZXIuYXBwZW5kKCdQb3MnICsgc3RyKHApICsgJy5BRVNOTjMuJyArIHopCiAgICAgICAgZW5jb2Rpbmdz
LmFwcGVuZChoZWFkZXIpCgogICAgICAgIGZvciBpIGluIHNlbGYuZmFzdGFfbGlzdDoKICAgICAgICAg
ICAgbmFtZSwgc2VxdWVuY2UsIGxhYmVsID0gaVswXSwgaVsxXSwgaVsyXQogICAgICAgICAgICBjb2Rl
ID0gW25hbWUsIGxhYmVsXQogICAgICAgICAgICBmb3IgYWEgaW4gc2VxdWVuY2U6CiAgICAgICAgICAg
ICAgICBjb2RlICs9IEFFU05OM19kaWN0LmdldChhYSwgWzAsIDAsIDBdKQogICAgICAgICAgICBlbmNv
ZGluZ3MuYXBwZW5kKGNvZGUpCgogICAgICAgIHNlbGYuZW5jb2RpbmdfYXJyYXkgPSBucC5hcnJheShl
bmNvZGluZ3MsIGR0eXBlPXN0cikKICAgICAgICBzZWxmLmNvbHVtbiA9IHNlbGYuZW5jb2RpbmdfYXJy
YXkuc2hhcGVbMV0KICAgICAgICBzZWxmLnJvdyA9IHNlbGYuZW5jb2RpbmdfYXJyYXkuc2hhcGVbMF0g
LSAxCiAgICAgICAgZGVsIGVuY29kaW5ncwogICAgICAgIGlmIHNlbGYuZW5jb2RpbmdfYXJyYXkuc2hh
cGVbMF0gPiAxOgogICAgICAgICAgICByZXR1cm4gVHJ1ZQogICAgICAgIGVsc2U6CiAgICAgICAgICAg
IHJldHVybiBGYWxzZQoKICAgIGRlZiBQcm90ZWluX0dBQUMoc2VsZik6CiAgICAgICAgIyBjbGVhcgog
ICAgICAgIHNlbGYuZW5jb2RpbmdfYXJyYXkgPSBucC5hcnJheShbXSkKCiAgICAgICAgZ3JvdXAgPSB7
CiAgICAgICAgICAgICdhbHBoYXRpYyc6ICdHQVZMTUknLAogICAgICAgICAgICAnYXJvbWF0aWMnOiAn
RllXJywKICAgICAgICAgICAgJ3Bvc3RpdmVjaGFyZ2UnOiAnS1JIJywKICAgICAgICAgICAgJ25lZ2F0
aXZlY2hhcmdlJzogJ0RFJywKICAgICAgICAgICAgJ3VuY2hhcmdlJzogJ1NUQ1BOUScKICAgICAgICB9
CgogICAgICAgIGdyb3VwS2V5ID0gZ3JvdXAua2V5cygpCgogICAgICAgIGVuY29kaW5ncyA9IFtdCiAg
ICAgICAgaGVhZGVyID0gWydTYW1wbGVOYW1lJywgJ2xhYmVsJ10KICAgICAgICBmb3Iga2V5IGluIGdy
b3VwS2V5OgogICAgICAgICAgICBoZWFkZXIuYXBwZW5kKGtleSkKICAgICAgICBlbmNvZGluZ3MuYXBw
ZW5kKGhlYWRlcikKCiAgICAgICAgZm9yIGkgaW4gc2VsZi5mYXN0YV9saXN0OgogICAgICAgICAgICBu
YW1lLCBzZXF1ZW5jZSwgbGFiZWwgPSBpWzBdLCByZS5zdWIoJy0nLCAnJywgaVsxXSksIGlbMl0KICAg
ICAgICAgICAgY29kZSA9IFtuYW1lLCBsYWJlbF0KICAgICAgICAgICAgY291bnQgPSBDb3VudGVyKHNl
cXVlbmNlKQogICAgICAgICAgICBteURpY3QgPSB7fQogICAgICAgICAgICBmb3Iga2V5IGluIGdyb3Vw
S2V5OgogICAgICAgICAgICAgICAgZm9yIGFhIGluIGdyb3VwW2tleV06CiAgICAgICAgICAgICAgICAg
ICAgbXlEaWN0W2tleV0gPSBteURpY3QuZ2V0KGtleSwgMCkgKyBjb3VudFthYV0KCiAgICAgICAgICAg
IGZvciBrZXkgaW4gZ3JvdXBLZXk6CiAgICAgICAgICAgICAgICBjb2RlLmFwcGVuZChteURpY3Rba2V5
XSAvIGxlbihzZXF1ZW5jZSkpCiAgICAgICAgICAgIGVuY29kaW5ncy5hcHBlbmQoY29kZSkKCiAgICAg
ICAgc2VsZi5lbmNvZGluZ19hcnJheSA9IG5wLmFycmF5KGVuY29kaW5ncywgZHR5cGU9c3RyKQogICAg
ICAgIHNlbGYuY29sdW1uID0gc2VsZi5lbmNvZGluZ19hcnJheS5zaGFwZVsxXQogICAgICAgIHNlbGYu
cm93ID0gc2VsZi5lbmNvZGluZ19hcnJheS5zaGFwZVswXSAtIDEKICAgICAgICBkZWwgZW5jb2Rpbmdz
CiAgICAgICAgaWYgc2VsZi5lbmNvZGluZ19hcnJheS5zaGFwZVswXSA+IDE6CiAgICAgICAgICAgIHJl
dHVybiBUcnVlCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmV0dXJuIEZhbHNlCgogICAgZGVmIFBy
b3RlaW5fRUdBQUMoc2VsZik6CiAgICAgICAgc2VsZi5lbmNvZGluZ19hcnJheSA9IG5wLmFycmF5KFtd
KQoKICAgICAgICBpZiBub3Qgc2VsZi5pc19lcXVhbDoKICAgICAgICAgICAgc2VsZi5lcnJvcl9tc2cg
PSAnRUdBQUMgZGVzY3JpcHRvciBuZWVkIGZhc3RhIHNlcXVlbmNlIHdpdGggZXF1YWwgbGVuZ3RoLicK
ICAgICAgICAgICAgcmV0dXJuIEZhbHNlCgogICAgICAgIGdyb3VwID0gewogICAgICAgICAgICAnYWxw
aGF0aWNyJzogJ0dBVkxNSScsCiAgICAgICAgICAgICdhcm9tYXRpYyc6ICdGWVcnLAogICAgICAgICAg
ICAncG9zdGl2ZWNoYXJnZXInOiAnS1JIJywKICAgICAgICAgICAgJ25lZ2F0aXZlY2hhcmdlcic6ICdE
RScsCiAgICAgICAgICAgICd1bmNoYXJnZXInOiAnU1RDUE5RJwogICAgICAgIH0KCiAgICAgICAgZ3Jv
dXBLZXkgPSBncm91cC5rZXlzKCkKCiAgICAgICAgZW5jb2RpbmdzID0gW10KICAgICAgICBoZWFkZXIg
PSBbJ1NhbXBsZU5hbWUnLCAnbGFiZWwnXQogICAgICAgIHdpbmRvdyA9IHNlbGYua3dbJ3NsaWRpbmdf
d2luZG93J10KICAgICAgICBmb3IgdyBpbiByYW5nZSgxLCBsZW4oc2VsZi5mYXN0YV9saXN0WzBdWzFd
KSAtIHdpbmRvdyArIDIpOgogICAgICAgICAgICBmb3IgZyBpbiBncm91cEtleToKICAgICAgICAgICAg
ICAgIGhlYWRlci5hcHBlbmQoJ1NXLicgKyBzdHIodykgKyAnLicgKyBnKQogICAgICAgIGVuY29kaW5n
cy5hcHBlbmQoaGVhZGVyKQoKICAgICAgICBmb3IgaSBpbiBzZWxmLmZhc3RhX2xpc3Q6CiAgICAgICAg
ICAgIG5hbWUsIHNlcXVlbmNlLCBsYWJlbCA9IGlbMF0sIGlbMV0sIGlbMl0KICAgICAgICAgICAgY29k
ZSA9IFtuYW1lLCBsYWJlbF0KICAgICAgICAgICAgZm9yIGogaW4gcmFuZ2UobGVuKHNlcXVlbmNlKSk6
CiAgICAgICAgICAgICAgICBpZiBqICsgd2luZG93IDw9IGxlbihzZXF1ZW5jZSk6CiAgICAgICAgICAg
ICAgICAgICAgY291bnQgPSBDb3VudGVyKHNlcXVlbmNlW2o6aiArIHdpbmRvd10pCiAgICAgICAgICAg
ICAgICAgICAgbXlEaWN0ID0ge30KICAgICAgICAgICAgICAgICAgICBmb3Iga2V5IGluIGdyb3VwS2V5
OgogICAgICAgICAgICAgICAgICAgICAgICBmb3IgYWEgaW4gZ3JvdXBba2V5XToKICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIG15RGljdFtrZXldID0gbXlEaWN0LmdldChrZXksIDApICsgY291bnRbYWFd
CiAgICAgICAgICAgICAgICAgICAgZm9yIGtleSBpbiBncm91cEtleToKICAgICAgICAgICAgICAgICAg
ICAgICAgY29kZS5hcHBlbmQobXlEaWN0W2tleV0gLyB3aW5kb3cpCiAgICAgICAgICAgIGVuY29kaW5n
cy5hcHBlbmQoY29kZSkKCiAgICAgICAgc2VsZi5lbmNvZGluZ19hcnJheSA9IG5wLmFycmF5KGVuY29k
aW5ncywgZHR5cGU9c3RyKQogICAgICAgIHNlbGYuY29sdW1uID0gc2VsZi5lbmNvZGluZ19hcnJheS5z
aGFwZVsxXQogICAgICAgIHNlbGYucm93ID0gc2VsZi5lbmNvZGluZ19hcnJheS5zaGFwZVswXSAtIDEK
ICAgICAgICBkZWwgZW5jb2RpbmdzCiAgICAgICAgaWYgc2VsZi5lbmNvZGluZ19hcnJheS5zaGFwZVsw
XSA+IDE6CiAgICAgICAgICAgIHJldHVybiBUcnVlCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmV0
dXJuIEZhbHNlCgogICAgZGVmIGdlbmVyYXRlR3JvdXBQYWlycyhzZWxmLCBncm91cEtleSk6CiAgICAg
ICAgZ1BhaXIgPSB7fQogICAgICAgIGZvciBrZXkxIGluIGdyb3VwS2V5OgogICAgICAgICAgICBmb3Ig
a2V5MiBpbiBncm91cEtleToKICAgICAgICAgICAgICAgIGdQYWlyW2tleTEgKyAnLicgKyBrZXkyXSA9
IDAKICAgICAgICByZXR1cm4gZ1BhaXIKCiAgICBkZWYgUHJvdGVpbl9DS1NBQUdQKHNlbGYpOgogICAg
ICAgICMgY2xlYXIKICAgICAgICBzZWxmLmVuY29kaW5nX2FycmF5ID0gbnAuYXJyYXkoW10pCiAgICAg
ICAgZ2FwID0gc2VsZi5rd1sna3NwYWNlJ10KCiAgICAgICAgZ3JvdXAgPSB7CiAgICAgICAgICAgICdh
bHBoYXRpY3InOiAnR0FWTE1JJywKICAgICAgICAgICAgJ2Fyb21hdGljJzogJ0ZZVycsCiAgICAgICAg
ICAgICdwb3N0aXZlY2hhcmdlcic6ICdLUkgnLAogICAgICAgICAgICAnbmVnYXRpdmVjaGFyZ2VyJzog
J0RFJywKICAgICAgICAgICAgJ3VuY2hhcmdlcic6ICdTVENQTlEnCiAgICAgICAgfQoKICAgICAgICBB
QSA9ICdBUk5EQ1FFR0hJTEtNRlBTVFdZVicKCiAgICAgICAgZ3JvdXBLZXkgPSBncm91cC5rZXlzKCkK
CiAgICAgICAgaW5kZXggPSB7fQogICAgICAgIGZvciBrZXkgaW4gZ3JvdXBLZXk6CiAgICAgICAgICAg
IGZvciBhYSBpbiBncm91cFtrZXldOgogICAgICAgICAgICAgICAgaW5kZXhbYWFdID0ga2V5CgogICAg
ICAgIGdQYWlySW5kZXggPSBbXQogICAgICAgIGZvciBrZXkxIGluIGdyb3VwS2V5OgogICAgICAgICAg
ICBmb3Iga2V5MiBpbiBncm91cEtleToKICAgICAgICAgICAgICAgIGdQYWlySW5kZXguYXBwZW5kKGtl
eTEgKyAnLicgKyBrZXkyKQoKICAgICAgICBlbmNvZGluZ3MgPSBbXQogICAgICAgIGhlYWRlciA9IFsn
U2FtcGxlTmFtZScsICdsYWJlbCddCiAgICAgICAgZm9yIGcgaW4gcmFuZ2UoZ2FwICsgMSk6CiAgICAg
ICAgICAgIGZvciBwIGluIGdQYWlySW5kZXg6CiAgICAgICAgICAgICAgICBoZWFkZXIuYXBwZW5kKHAg
KyAnLmdhcCcgKyBzdHIoZykpCiAgICAgICAgZW5jb2RpbmdzLmFwcGVuZChoZWFkZXIpCgogICAgICAg
IGZvciBpIGluIHNlbGYuZmFzdGFfbGlzdDoKICAgICAgICAgICAgbmFtZSwgc2VxdWVuY2UsIGxhYmVs
ID0gaVswXSwgcmUuc3ViKCctJywgJycsIGlbMV0pLCBpWzJdCiAgICAgICAgICAgIGNvZGUgPSBbbmFt
ZSwgbGFiZWxdCiAgICAgICAgICAgIGZvciBnIGluIHJhbmdlKGdhcCArIDEpOgogICAgICAgICAgICAg
ICAgZ1BhaXIgPSBzZWxmLmdlbmVyYXRlR3JvdXBQYWlycyhncm91cEtleSkKICAgICAgICAgICAgICAg
IHN1bSA9IDAKICAgICAgICAgICAgICAgIGZvciBwMSBpbiByYW5nZShsZW4oc2VxdWVuY2UpKToKICAg
ICAgICAgICAgICAgICAgICBwMiA9IHAxICsgZyArIDEKICAgICAgICAgICAgICAgICAgICBpZiBwMiA8
IGxlbihzZXF1ZW5jZSkgYW5kIHNlcXVlbmNlW3AxXSBpbiBBQSBhbmQgc2VxdWVuY2VbcDJdIGluIEFB
OgogICAgICAgICAgICAgICAgICAgICAgICBnUGFpcltpbmRleFtzZXF1ZW5jZVtwMV1dICsgJy4nICsg
aW5kZXhbc2VxdWVuY2VbcDJdXV0gPSBnUGFpclsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4
W3NlcXVlbmNlW3AxXV0gKyAnLicgKyBpbmRleFsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBz
ZXF1ZW5jZVtwMl1dXSArIDEKICAgICAgICAgICAgICAgICAgICAgICAgc3VtID0gc3VtICsgMQoKICAg
ICAgICAgICAgICAgIGlmIHN1bSA9PSAwOgogICAgICAgICAgICAgICAgICAgIGZvciBncCBpbiBnUGFp
ckluZGV4OgogICAgICAgICAgICAgICAgICAgICAgICBjb2RlLmFwcGVuZCgwKQogICAgICAgICAgICAg
ICAgZWxzZToKICAgICAgICAgICAgICAgICAgICBmb3IgZ3AgaW4gZ1BhaXJJbmRleDoKICAgICAgICAg
ICAgICAgICAgICAgICAgY29kZS5hcHBlbmQoZ1BhaXJbZ3BdIC8gc3VtKQogICAgICAgICAgICBlbmNv
ZGluZ3MuYXBwZW5kKGNvZGUpCgogICAgICAgIHNlbGYuZW5jb2RpbmdfYXJyYXkgPSBucC5hcnJheShl
bmNvZGluZ3MsIGR0eXBlPXN0cikKICAgICAgICBzZWxmLmNvbHVtbiA9IHNlbGYuZW5jb2RpbmdfYXJy
YXkuc2hhcGVbMV0KICAgICAgICBzZWxmLnJvdyA9IHNlbGYuZW5jb2RpbmdfYXJyYXkuc2hhcGVbMF0g
LSAxCiAgICAgICAgZGVsIGVuY29kaW5ncwogICAgICAgIGlmIHNlbGYuZW5jb2RpbmdfYXJyYXkuc2hh
cGVbMF0gPiAxOgogICAgICAgICAgICByZXR1cm4gVHJ1ZQogICAgICAgIGVsc2U6CiAgICAgICAgICAg
IHJldHVybiBGYWxzZQoKICAgIGRlZiBQcm90ZWluX0dEUEMoc2VsZik6CiAgICAgICAgIyBjbGVhcgog
ICAgICAgIHNlbGYuZW5jb2RpbmdfYXJyYXkgPSBucC5hcnJheShbXSkKCiAgICAgICAgZ3JvdXAgPSB7
CiAgICAgICAgICAgICdhbHBoYXRpY3InOiAnR0FWTE1JJywKICAgICAgICAgICAgJ2Fyb21hdGljJzog
J0ZZVycsCiAgICAgICAgICAgICdwb3N0aXZlY2hhcmdlcic6ICdLUkgnLAogICAgICAgICAgICAnbmVn
YXRpdmVjaGFyZ2VyJzogJ0RFJywKICAgICAgICAgICAgJ3VuY2hhcmdlcic6ICdTVENQTlEnCiAgICAg
ICAgfQoKICAgICAgICBncm91cEtleSA9IGdyb3VwLmtleXMoKQogICAgICAgIGJhc2VOdW0gPSBsZW4o
Z3JvdXBLZXkpCiAgICAgICAgZGlwZXB0aWRlID0gW2cxICsgJy4nICsgZzIgZm9yIGcxIGluIGdyb3Vw
S2V5IGZvciBnMiBpbiBncm91cEtleV0KCiAgICAgICAgaW5kZXggPSB7fQogICAgICAgIGZvciBrZXkg
aW4gZ3JvdXBLZXk6CiAgICAgICAgICAgIGZvciBhYSBpbiBncm91cFtrZXldOgogICAgICAgICAgICAg
ICAgaW5kZXhbYWFdID0ga2V5CgogICAgICAgIGVuY29kaW5ncyA9IFtdCiAgICAgICAgaGVhZGVyID0g
WydTYW1wbGVOYW1lJywgJ2xhYmVsJ10gKyBkaXBlcHRpZGUKICAgICAgICBlbmNvZGluZ3MuYXBwZW5k
KGhlYWRlcikKCiAgICAgICAgZm9yIGkgaW4gc2VsZi5mYXN0YV9saXN0OgogICAgICAgICAgICBuYW1l
LCBzZXF1ZW5jZSwgbGFiZWwgPSBpWzBdLCByZS5zdWIoJy0nLCAnJywgaVsxXSksIGlbMl0KCiAgICAg
ICAgICAgIGNvZGUgPSBbbmFtZSwgbGFiZWxdCiAgICAgICAgICAgIG15RGljdCA9IHt9CiAgICAgICAg
ICAgIGZvciB0IGluIGRpcGVwdGlkZToKICAgICAgICAgICAgICAgIG15RGljdFt0XSA9IDAKCiAgICAg
ICAgICAgIHN1bSA9IDAKICAgICAgICAgICAgZm9yIGogaW4gcmFuZ2UobGVuKHNlcXVlbmNlKSAtIDIg
KyAxKToKICAgICAgICAgICAgICAgIG15RGljdFtpbmRleFtzZXF1ZW5jZVtqXV0gKyAnLicgKyBpbmRl
eFtzZXF1ZW5jZVtqICsgMV1dXSA9IG15RGljdFtpbmRleFtzZXF1ZW5jZVtqXV0gKyAnLicgKyBpbmRl
eFsKICAgICAgICAgICAgICAgICAgICBzZXF1ZW5jZVtqICsgMV1dXSArIDEKICAgICAgICAgICAgICAg
IHN1bSA9IHN1bSArIDEKCiAgICAgICAgICAgIGlmIHN1bSA9PSAwOgogICAgICAgICAgICAgICAgZm9y
IHQgaW4gZGlwZXB0aWRlOgogICAgICAgICAgICAgICAgICAgIGNvZGUuYXBwZW5kKDApCiAgICAgICAg
ICAgIGVsc2U6CiAgICAgICAgICAgICAgICBmb3IgdCBpbiBkaXBlcHRpZGU6CiAgICAgICAgICAgICAg
ICAgICAgY29kZS5hcHBlbmQobXlEaWN0W3RdIC8gc3VtKQogICAgICAgICAgICBlbmNvZGluZ3MuYXBw
ZW5kKGNvZGUpCgogICAgICAgIHNlbGYuZW5jb2RpbmdfYXJyYXkgPSBucC5hcnJheShlbmNvZGluZ3Ms
IGR0eXBlPXN0cikKICAgICAgICBzZWxmLmNvbHVtbiA9IHNlbGYuZW5jb2RpbmdfYXJyYXkuc2hhcGVb
MV0KICAgICAgICBzZWxmLnJvdyA9IHNlbGYuZW5jb2RpbmdfYXJyYXkuc2hhcGVbMF0gLSAxCiAgICAg
ICAgZGVsIGVuY29kaW5ncwogICAgICAgIGlmIHNlbGYuZW5jb2RpbmdfYXJyYXkuc2hhcGVbMF0gPiAx
OgogICAgICAgICAgICByZXR1cm4gVHJ1ZQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJldHVybiBG
YWxzZQoKICAgIGRlZiBQcm90ZWluX0dUUEMoc2VsZik6CiAgICAgICAgIyBjbGVhcgogICAgICAgIHNl
bGYuZW5jb2RpbmdfYXJyYXkgPSBucC5hcnJheShbXSkKCiAgICAgICAgZ3JvdXAgPSB7CiAgICAgICAg
ICAgICdhbHBoYXRpY3InOiAnR0FWTE1JJywKICAgICAgICAgICAgJ2Fyb21hdGljJzogJ0ZZVycsCiAg
ICAgICAgICAgICdwb3N0aXZlY2hhcmdlcic6ICdLUkgnLAogICAgICAgICAgICAnbmVnYXRpdmVjaGFy
Z2VyJzogJ0RFJywKICAgICAgICAgICAgJ3VuY2hhcmdlcic6ICdTVENQTlEnCiAgICAgICAgfQoKICAg
ICAgICBncm91cEtleSA9IGdyb3VwLmtleXMoKQogICAgICAgIGJhc2VOdW0gPSBsZW4oZ3JvdXBLZXkp
CiAgICAgICAgdHJpcGxlID0gW2cxICsgJy4nICsgZzIgKyAnLicgKyBnMyBmb3IgZzEgaW4gZ3JvdXBL
ZXkgZm9yIGcyIGluIGdyb3VwS2V5IGZvciBnMyBpbiBncm91cEtleV0KCiAgICAgICAgaW5kZXggPSB7
fQogICAgICAgIGZvciBrZXkgaW4gZ3JvdXBLZXk6CiAgICAgICAgICAgIGZvciBhYSBpbiBncm91cFtr
ZXldOgogICAgICAgICAgICAgICAgaW5kZXhbYWFdID0ga2V5CgogICAgICAgIGVuY29kaW5ncyA9IFtd
CiAgICAgICAgaGVhZGVyID0gWydTYW1wbGVOYW1lJywgJ2xhYmVsJ10gKyB0cmlwbGUKICAgICAgICBl
bmNvZGluZ3MuYXBwZW5kKGhlYWRlcikKCiAgICAgICAgZm9yIGkgaW4gc2VsZi5mYXN0YV9saXN0Ogog
ICAgICAgICAgICBuYW1lLCBzZXF1ZW5jZSwgbGFiZWwgPSBpWzBdLCByZS5zdWIoJy0nLCAnJywgaVsx
XSksIGlbMl0KCiAgICAgICAgICAgIGNvZGUgPSBbbmFtZSwgbGFiZWxdCiAgICAgICAgICAgIG15RGlj
dCA9IHt9CiAgICAgICAgICAgIGZvciB0IGluIHRyaXBsZToKICAgICAgICAgICAgICAgIG15RGljdFt0
XSA9IDAKCiAgICAgICAgICAgIHN1bSA9IDAKICAgICAgICAgICAgZm9yIGogaW4gcmFuZ2UobGVuKHNl
cXVlbmNlKSAtIDMgKyAxKToKICAgICAgICAgICAgICAgIG15RGljdFtpbmRleFtzZXF1ZW5jZVtqXV0g
KyAnLicgKyBpbmRleFtzZXF1ZW5jZVtqICsgMV1dICsgJy4nICsgaW5kZXhbc2VxdWVuY2VbaiArIDJd
XV0gPSBteURpY3RbaW5kZXhbCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICBzZXF1ZW5jZVsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqXV0gKyAnLicgKwogICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleFsKICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcXVlbmNlWwogICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGogKyAxXV0g
KyAnLicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICBpbmRleFsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIHNlcXVlbmNlWwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIGogKyAyXV1dICsgMQogICAgICAgICAgICAgICAgc3VtID0gc3VtICsg
MQoKICAgICAgICAgICAgaWYgc3VtID09IDA6CiAgICAgICAgICAgICAgICBmb3IgdCBpbiB0cmlwbGU6
CiAgICAgICAgICAgICAgICAgICAgY29kZS5hcHBlbmQoMCkKICAgICAgICAgICAgZWxzZToKICAgICAg
ICAgICAgICAgIGZvciB0IGluIHRyaXBsZToKICAgICAgICAgICAgICAgICAgICBjb2RlLmFwcGVuZCht
eURpY3RbdF0gLyBzdW0pCiAgICAgICAgICAgIGVuY29kaW5ncy5hcHBlbmQoY29kZSkKCiAgICAgICAg
c2VsZi5lbmNvZGluZ19hcnJheSA9IG5wLmFycmF5KGVuY29kaW5ncywgZHR5cGU9c3RyKQogICAgICAg
IHNlbGYuY29sdW1uID0gc2VsZi5lbmNvZGluZ19hcnJheS5zaGFwZVsxXQogICAgICAgIHNlbGYucm93
ID0gc2VsZi5lbmNvZGluZ19hcnJheS5zaGFwZVswXSAtIDEKICAgICAgICBkZWwgZW5jb2RpbmdzCiAg
ICAgICAgaWYgc2VsZi5lbmNvZGluZ19hcnJheS5zaGFwZVswXSA+IDE6CiAgICAgICAgICAgIHJldHVy
biBUcnVlCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmV0dXJuIEZhbHNlCgogICAgZGVmIFByb3Rl
aW5fQUFJbmRleChzZWxmKToKICAgICAgICBwcm9wcyA9IHNlbGYua3dbJ2FhaW5kZXgnXS5zcGxpdCgn
OycpCiAgICAgICAgc2VsZi5lbmNvZGluZ19hcnJheSA9IG5wLmFycmF5KFtdKQogICAgICAgIGlmIG5v
dCBzZWxmLmlzX2VxdWFsOgogICAgICAgICAgICBzZWxmLmVycm9yX21zZyA9ICdBQUluZGV4IGRlc2Ny
aXB0b3IgbmVlZCBmYXN0YSBzZXF1ZW5jZSB3aXRoIGVxdWFsIGxlbmd0aC4nCiAgICAgICAgICAgIHJl
dHVybiBGYWxzZQogICAgICAgIEFBID0gJ0FSTkRDUUVHSElMS01GUFNUV1lWJwogICAgICAgIGZpbGVB
QWluZGV4ID0gb3MucGF0aC5zcGxpdChvcy5wYXRoLnJlYWxwYXRoKF9fZmlsZV9fKSlbCiAgICAgICAg
ICAgICAgICAgICAgICAgICAgMF0gKyByJ1xkYXRhXEFBaW5kZXgudHh0JyBpZiBwbGF0Zm9ybS5zeXN0
ZW0oKSA9PSAnV2luZG93cycgZWxzZSBcCiAgICAgICAgICAgIG9zLnBhdGguc3BsaXQob3MucGF0aC5y
ZWFscGF0aChfX2ZpbGVfXykpWzBdICsgcicvZGF0YS9BQWluZGV4LnR4dCcKICAgICAgICB3aXRoIG9w
ZW4oZmlsZUFBaW5kZXgpIGFzIGY6CiAgICAgICAgICAgIHJlY29yZHMgPSBmLnJlYWRsaW5lcygpWzE6
XQoKICAgICAgICBBQWluZGV4ID0gW10KICAgICAgICBBQWluZGV4TmFtZSA9IFtdCiAgICAgICAgZm9y
IGkgaW4gcmVjb3JkczoKICAgICAgICAgICAgQUFpbmRleC5hcHBlbmQoaS5yc3RyaXAoKS5zcGxpdCgp
WzE6XSBpZiBpLnJzdHJpcCgpICE9ICcnIGVsc2UgTm9uZSkKICAgICAgICAgICAgQUFpbmRleE5hbWUu
YXBwZW5kKGkucnN0cmlwKCkuc3BsaXQoKVswXSBpZiBpLnJzdHJpcCgpICE9ICcnIGVsc2UgTm9uZSkK
CiAgICAgICAgaW5kZXggPSB7fQogICAgICAgIGZvciBpIGluIHJhbmdlKGxlbihBQSkpOgogICAgICAg
ICAgICBpbmRleFtBQVtpXV0gPSBpCgogICAgICAgICMgIHVzZSB0aGUgdXNlciBpbnB1dGVkIHByb3Bl
cnRpZXMKICAgICAgICBpZiBwcm9wczoKICAgICAgICAgICAgdG1wSW5kZXhOYW1lcyA9IFtdCiAgICAg
ICAgICAgIHRtcEluZGV4ID0gW10KICAgICAgICAgICAgZm9yIHAgaW4gcHJvcHM6CiAgICAgICAgICAg
ICAgICBpZiBBQWluZGV4TmFtZS5pbmRleChwKSAhPSAtMToKICAgICAgICAgICAgICAgICAgICB0bXBJ
bmRleE5hbWVzLmFwcGVuZChwKQogICAgICAgICAgICAgICAgICAgIHRtcEluZGV4LmFwcGVuZChBQWlu
ZGV4W0FBaW5kZXhOYW1lLmluZGV4KHApXSkKICAgICAgICAgICAgaWYgbGVuKHRtcEluZGV4TmFtZXMp
ICE9IDA6CiAgICAgICAgICAgICAgICBBQWluZGV4TmFtZSA9IHRtcEluZGV4TmFtZXMKICAgICAgICAg
ICAgICAgIEFBaW5kZXggPSB0bXBJbmRleAoKICAgICAgICBlbmNvZGluZ3MgPSBbXQogICAgICAgIGhl
YWRlciA9IFsnU2FtcGxlTmFtZScsICdsYWJlbCddCiAgICAgICAgZm9yIHBvcyBpbiByYW5nZSgxLCBs
ZW4oc2VsZi5mYXN0YV9saXN0WzBdWzFdKSArIDEpOgogICAgICAgICAgICBmb3IgaWROYW1lIGluIEFB
aW5kZXhOYW1lOgogICAgICAgICAgICAgICAgaGVhZGVyLmFwcGVuZCgnU2VxUG9zLicgKyBzdHIocG9z
KSArICcuJyArIGlkTmFtZSkKICAgICAgICBlbmNvZGluZ3MuYXBwZW5kKGhlYWRlcikKCiAgICAgICAg
Zm9yIGkgaW4gc2VsZi5mYXN0YV9saXN0OgogICAgICAgICAgICBuYW1lLCBzZXF1ZW5jZSwgbGFiZWwg
PSBpWzBdLCBpWzFdLCBpWzJdCiAgICAgICAgICAgIGNvZGUgPSBbbmFtZSwgbGFiZWxdCiAgICAgICAg
ICAgIGZvciBhYSBpbiBzZXF1ZW5jZToKICAgICAgICAgICAgICAgIGlmIGFhID09ICctJzoKICAgICAg
ICAgICAgICAgICAgICBmb3IgaiBpbiBBQWluZGV4OgogICAgICAgICAgICAgICAgICAgICAgICBjb2Rl
LmFwcGVuZCgwKQogICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgICAgICAgICBmb3Ig
aiBpbiBBQWluZGV4OgogICAgICAgICAgICAgICAgICAgIGNvZGUuYXBwZW5kKGpbaW5kZXhbYWFdXSkK
ICAgICAgICAgICAgZW5jb2RpbmdzLmFwcGVuZChjb2RlKQoKICAgICAgICBzZWxmLmVuY29kaW5nX2Fy
cmF5ID0gbnAuYXJyYXkoZW5jb2RpbmdzLCBkdHlwZT1zdHIpCiAgICAgICAgc2VsZi5jb2x1bW4gPSBz
ZWxmLmVuY29kaW5nX2FycmF5LnNoYXBlWzFdCiAgICAgICAgc2VsZi5yb3cgPSBzZWxmLmVuY29kaW5n
X2FycmF5LnNoYXBlWzBdIC0gMQogICAgICAgIGRlbCBlbmNvZGluZ3MKICAgICAgICBpZiBzZWxmLmVu
Y29kaW5nX2FycmF5LnNoYXBlWzBdID4gMToKICAgICAgICAgICAgcmV0dXJuIFRydWUKICAgICAgICBl
bHNlOgogICAgICAgICAgICByZXR1cm4gRmFsc2UKCiAgICBkZWYgUHJvdGVpbl9aU2NhbGUoc2VsZik6
CiAgICAgICAgc2VsZi5lbmNvZGluZ19hcnJheSA9IG5wLmFycmF5KFtdKQoKICAgICAgICBpZiBub3Qg
c2VsZi5pc19lcXVhbDoKICAgICAgICAgICAgc2VsZi5lcnJvcl9tc2cgPSAnWlNjYWxlIGRlc2NyaXB0
b3IgbmVlZCBmYXN0YSBzZXF1ZW5jZSB3aXRoIGVxdWFsIGxlbmd0aC4nCiAgICAgICAgICAgIHJldHVy
biBGYWxzZQoKICAgICAgICB6c2NhbGUgPSB7CiAgICAgICAgICAgICdBJzogWzAuMjQsIC0yLjMyLCAw
LjYwLCAtMC4xNCwgMS4zMF0sICAjIEEKICAgICAgICAgICAgJ0MnOiBbMC44NCwgLTEuNjcsIDMuNzEs
IDAuMTgsIC0yLjY1XSwgICMgQwogICAgICAgICAgICAnRCc6IFszLjk4LCAwLjkzLCAxLjkzLCAtMi40
NiwgMC43NV0sICAjIEQKICAgICAgICAgICAgJ0UnOiBbMy4xMSwgMC4yNiwgLTAuMTEsIC0wLjM0LCAt
MC4yNV0sICAjIEUKICAgICAgICAgICAgJ0YnOiBbLTQuMjIsIDEuOTQsIDEuMDYsIDAuNTQsIC0wLjYy
XSwgICMgRgogICAgICAgICAgICAnRyc6IFsyLjA1LCAtNC4wNiwgMC4zNiwgLTAuODIsIC0wLjM4XSwg
ICMgRwogICAgICAgICAgICAnSCc6IFsyLjQ3LCAxLjk1LCAwLjI2LCAzLjkwLCAwLjA5XSwgICMgSAog
ICAgICAgICAgICAnSSc6IFstMy44OSwgLTEuNzMsIC0xLjcxLCAtMC44NCwgMC4yNl0sICAjIEkKICAg
ICAgICAgICAgJ0snOiBbMi4yOSwgMC44OSwgLTIuNDksIDEuNDksIDAuMzFdLCAgIyBLCiAgICAgICAg
ICAgICdMJzogWy00LjI4LCAtMS4zMCwgLTEuNDksIC0wLjcyLCAwLjg0XSwgICMgTAogICAgICAgICAg
ICAnTSc6IFstMi44NSwgLTAuMjIsIDAuNDcsIDEuOTQsIC0wLjk4XSwgICMgTQogICAgICAgICAgICAn
Tic6IFszLjA1LCAxLjYyLCAxLjA0LCAtMS4xNSwgMS42MV0sICAjIE4KICAgICAgICAgICAgJ1AnOiBb
LTEuNjYsIDAuMjcsIDEuODQsIDAuNzAsIDIuMDBdLCAgIyBQCiAgICAgICAgICAgICdRJzogWzEuNzUs
IDAuNTAsIC0xLjQ0LCAtMS4zNCwgMC42Nl0sICAjIFEKICAgICAgICAgICAgJ1InOiBbMy41MiwgMi41
MCwgLTMuNTAsIDEuOTksIC0wLjE3XSwgICMgUgogICAgICAgICAgICAnUyc6IFsyLjM5LCAtMS4wNywg
MS4xNSwgLTEuMzksIDAuNjddLCAgIyBTCiAgICAgICAgICAgICdUJzogWzAuNzUsIC0yLjE4LCAtMS4x
MiwgLTEuNDYsIC0wLjQwXSwgICMgVAogICAgICAgICAgICAnVic6IFstMi41OSwgLTIuNjQsIC0xLjU0
LCAtMC44NSwgLTAuMDJdLCAgIyBWCiAgICAgICAgICAgICdXJzogWy00LjM2LCAzLjk0LCAwLjU5LCAz
LjQ0LCAtMS41OV0sICAjIFcKICAgICAgICAgICAgJ1knOiBbLTIuNTQsIDIuNDQsIDAuNDMsIDAuMDQs
IC0xLjQ3XSwgICMgWQogICAgICAgICAgICAnLSc6IFswLjAwLCAwLjAwLCAwLjAwLCAwLjAwLCAwLjAw
XSwgICMgLQogICAgICAgIH0KICAgICAgICBlbmNvZGluZ3MgPSBbXQogICAgICAgIGhlYWRlciA9IFsn
U2FtcGxlTmFtZScsICdsYWJlbCddCiAgICAgICAgZm9yIHAgaW4gcmFuZ2UoMSwgbGVuKHNlbGYuZmFz
dGFfbGlzdFswXVsxXSkgKyAxKToKICAgICAgICAgICAgZm9yIHogaW4gKCcxJywgJzInLCAnMycsICc0
JywgJzUnKToKICAgICAgICAgICAgICAgIGhlYWRlci5hcHBlbmQoJ1BvcycgKyBzdHIocCkgKyAnLlpT
Q0FMRScgKyB6KQogICAgICAgIGVuY29kaW5ncy5hcHBlbmQoaGVhZGVyKQoKICAgICAgICBmb3IgaSBp
biBzZWxmLmZhc3RhX2xpc3Q6CiAgICAgICAgICAgIG5hbWUsIHNlcXVlbmNlLCBsYWJlbCA9IGlbMF0s
IGlbMV0sIGlbMl0KICAgICAgICAgICAgY29kZSA9IFtuYW1lLCBsYWJlbF0KICAgICAgICAgICAgZm9y
IGFhIGluIHNlcXVlbmNlOgogICAgICAgICAgICAgICAgY29kZSA9IGNvZGUgKyB6c2NhbGVbYWFdCiAg
ICAgICAgICAgIGVuY29kaW5ncy5hcHBlbmQoY29kZSkKCiAgICAgICAgc2VsZi5lbmNvZGluZ19hcnJh
eSA9IG5wLmFycmF5KGVuY29kaW5ncywgZHR5cGU9c3RyKQogICAgICAgIHNlbGYuY29sdW1uID0gc2Vs
Zi5lbmNvZGluZ19hcnJheS5zaGFwZVsxXQogICAgICAgIHNlbGYucm93ID0gc2VsZi5lbmNvZGluZ19h
cnJheS5zaGFwZVswXSAtIDEKICAgICAgICBkZWwgZW5jb2RpbmdzCiAgICAgICAgaWYgc2VsZi5lbmNv
ZGluZ19hcnJheS5zaGFwZVswXSA+IDE6CiAgICAgICAgICAgIHJldHVybiBUcnVlCiAgICAgICAgZWxz
ZToKICAgICAgICAgICAgcmV0dXJuIEZhbHNlCgogICAgZGVmIFByb3RlaW5fQkxPU1VNNjIoc2VsZik6
CiAgICAgICAgc2VsZi5lbmNvZGluZ19hcnJheSA9IG5wLmFycmF5KFtdKQoKICAgICAgICBpZiBub3Qg
c2VsZi5pc19lcXVhbDoKICAgICAgICAgICAgc2VsZi5lcnJvcl9tc2cgPSAnQkxPU1VNNjIgZGVzY3Jp
cHRvciBuZWVkIGZhc3RhIHNlcXVlbmNlIHdpdGggZXF1YWwgbGVuZ3RoLicKICAgICAgICAgICAgcmV0
dXJuIEZhbHNlCgogICAgICAgIGJsb3N1bTYyID0gewogICAgICAgICAgICAnQSc6IFs0LCAtMSwgLTIs
IC0yLCAwLCAtMSwgLTEsIDAsIC0yLCAtMSwgLTEsIC0xLCAtMSwgLTIsIC0xLCAxLCAwLCAtMywgLTIs
IDBdLCAgIyBBCiAgICAgICAgICAgICdSJzogWy0xLCA1LCAwLCAtMiwgLTMsIDEsIDAsIC0yLCAwLCAt
MywgLTIsIDIsIC0xLCAtMywgLTIsIC0xLCAtMSwgLTMsIC0yLCAtM10sICAjIFIKICAgICAgICAgICAg
J04nOiBbLTIsIDAsIDYsIDEsIC0zLCAwLCAwLCAwLCAxLCAtMywgLTMsIDAsIC0yLCAtMywgLTIsIDEs
IDAsIC00LCAtMiwgLTNdLCAgIyBOCiAgICAgICAgICAgICdEJzogWy0yLCAtMiwgMSwgNiwgLTMsIDAs
IDIsIC0xLCAtMSwgLTMsIC00LCAtMSwgLTMsIC0zLCAtMSwgMCwgLTEsIC00LCAtMywgLTNdLCAgIyBE
CiAgICAgICAgICAgICdDJzogWzAsIC0zLCAtMywgLTMsIDksIC0zLCAtNCwgLTMsIC0zLCAtMSwgLTEs
IC0zLCAtMSwgLTIsIC0zLCAtMSwgLTEsIC0yLCAtMiwgLTFdLCAgIyBDCiAgICAgICAgICAgICdRJzog
Wy0xLCAxLCAwLCAwLCAtMywgNSwgMiwgLTIsIDAsIC0zLCAtMiwgMSwgMCwgLTMsIC0xLCAwLCAtMSwg
LTIsIC0xLCAtMl0sICAjIFEKICAgICAgICAgICAgJ0UnOiBbLTEsIDAsIDAsIDIsIC00LCAyLCA1LCAt
MiwgMCwgLTMsIC0zLCAxLCAtMiwgLTMsIC0xLCAwLCAtMSwgLTMsIC0yLCAtMl0sICAjIEUKICAgICAg
ICAgICAgJ0cnOiBbMCwgLTIsIDAsIC0xLCAtMywgLTIsIC0yLCA2LCAtMiwgLTQsIC00LCAtMiwgLTMs
IC0zLCAtMiwgMCwgLTIsIC0yLCAtMywgLTNdLCAgIyBHCiAgICAgICAgICAgICdIJzogWy0yLCAwLCAx
LCAtMSwgLTMsIDAsIDAsIC0yLCA4LCAtMywgLTMsIC0xLCAtMiwgLTEsIC0yLCAtMSwgLTIsIC0yLCAy
LCAtM10sICAjIEgKICAgICAgICAgICAgJ0knOiBbLTEsIC0zLCAtMywgLTMsIC0xLCAtMywgLTMsIC00
LCAtMywgNCwgMiwgLTMsIDEsIDAsIC0zLCAtMiwgLTEsIC0zLCAtMSwgM10sICAjIEkKICAgICAgICAg
ICAgJ0wnOiBbLTEsIC0yLCAtMywgLTQsIC0xLCAtMiwgLTMsIC00LCAtMywgMiwgNCwgLTIsIDIsIDAs
IC0zLCAtMiwgLTEsIC0yLCAtMSwgMV0sICAjIEwKICAgICAgICAgICAgJ0snOiBbLTEsIDIsIDAsIC0x
LCAtMywgMSwgMSwgLTIsIC0xLCAtMywgLTIsIDUsIC0xLCAtMywgLTEsIDAsIC0xLCAtMywgLTIsIC0y
XSwgICMgSwogICAgICAgICAgICAnTSc6IFstMSwgLTEsIC0yLCAtMywgLTEsIDAsIC0yLCAtMywgLTIs
IDEsIDIsIC0xLCA1LCAwLCAtMiwgLTEsIC0xLCAtMSwgLTEsIDFdLCAgIyBNCiAgICAgICAgICAgICdG
JzogWy0yLCAtMywgLTMsIC0zLCAtMiwgLTMsIC0zLCAtMywgLTEsIDAsIDAsIC0zLCAwLCA2LCAtNCwg
LTIsIC0yLCAxLCAzLCAtMV0sICAjIEYKICAgICAgICAgICAgJ1AnOiBbLTEsIC0yLCAtMiwgLTEsIC0z
LCAtMSwgLTEsIC0yLCAtMiwgLTMsIC0zLCAtMSwgLTIsIC00LCA3LCAtMSwgLTEsIC00LCAtMywgLTJd
LCAgIyBQCiAgICAgICAgICAgICdTJzogWzEsIC0xLCAxLCAwLCAtMSwgMCwgMCwgMCwgLTEsIC0yLCAt
MiwgMCwgLTEsIC0yLCAtMSwgNCwgMSwgLTMsIC0yLCAtMl0sICAjIFMKICAgICAgICAgICAgJ1QnOiBb
MCwgLTEsIDAsIC0xLCAtMSwgLTEsIC0xLCAtMiwgLTIsIC0xLCAtMSwgLTEsIC0xLCAtMiwgLTEsIDEs
IDUsIC0yLCAtMiwgMF0sICAjIFQKICAgICAgICAgICAgJ1cnOiBbLTMsIC0zLCAtNCwgLTQsIC0yLCAt
MiwgLTMsIC0yLCAtMiwgLTMsIC0yLCAtMywgLTEsIDEsIC00LCAtMywgLTIsIDExLCAyLCAtM10sICAj
IFcKICAgICAgICAgICAgJ1knOiBbLTIsIC0yLCAtMiwgLTMsIC0yLCAtMSwgLTIsIC0zLCAyLCAtMSwg
LTEsIC0yLCAtMSwgMywgLTMsIC0yLCAtMiwgMiwgNywgLTFdLCAgIyBZCiAgICAgICAgICAgICdWJzog
WzAsIC0zLCAtMywgLTMsIC0xLCAtMiwgLTIsIC0zLCAtMywgMywgMSwgLTIsIDEsIC0xLCAtMiwgLTIs
IDAsIC0zLCAtMSwgNF0sICAjIFYKICAgICAgICAgICAgJy0nOiBbMCwgMCwgMCwgMCwgMCwgMCwgMCwg
MCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sICAjIC0KICAgICAgICB9CiAgICAg
ICAgZW5jb2RpbmdzID0gW10KICAgICAgICBoZWFkZXIgPSBbJ1NhbXBsZU5hbWUnLCAnbGFiZWwnXQog
ICAgICAgIGZvciBpIGluIHJhbmdlKDEsIGxlbihzZWxmLmZhc3RhX2xpc3RbMF1bMV0pICogMjAgKyAx
KToKICAgICAgICAgICAgaGVhZGVyLmFwcGVuZCgnYmxvc3VtNjIuRicgKyBzdHIoaSkpCiAgICAgICAg
ZW5jb2RpbmdzLmFwcGVuZChoZWFkZXIpCgogICAgICAgIGZvciBpIGluIHNlbGYuZmFzdGFfbGlzdDoK
ICAgICAgICAgICAgbmFtZSwgc2VxdWVuY2UsIGxhYmVsID0gaVswXSwgaVsxXSwgaVsyXQogICAgICAg
ICAgICBjb2RlID0gW25hbWUsIGxhYmVsXQogICAgICAgICAgICBmb3IgYWEgaW4gc2VxdWVuY2U6CiAg
ICAgICAgICAgICAgICBjb2RlID0gY29kZSArIGJsb3N1bTYyW2FhXQogICAgICAgICAgICBlbmNvZGlu
Z3MuYXBwZW5kKGNvZGUpCgogICAgICAgIHNlbGYuZW5jb2RpbmdfYXJyYXkgPSBucC5hcnJheShlbmNv
ZGluZ3MsIGR0eXBlPXN0cikKICAgICAgICBzZWxmLmNvbHVtbiA9IHNlbGYuZW5jb2RpbmdfYXJyYXku
c2hhcGVbMV0KICAgICAgICBzZWxmLnJvdyA9IHNlbGYuZW5jb2RpbmdfYXJyYXkuc2hhcGVbMF0gLSAx
CiAgICAgICAgZGVsIGVuY29kaW5ncwogICAgICAgIGlmIHNlbGYuZW5jb2RpbmdfYXJyYXkuc2hhcGVb
MF0gPiAxOgogICAgICAgICAgICByZXR1cm4gVHJ1ZQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJl
dHVybiBGYWxzZQoKICAgIGRlZiBQcm90ZWluX05NQnJvdG8oc2VsZik6CiAgICAgICAgc2VsZi5lbmNv
ZGluZ19hcnJheSA9IG5wLmFycmF5KFtdKQoKICAgICAgICBwcm9wcyA9IHNlbGYua3dbJ2FhaW5kZXgn
XS5zcGxpdCgnOycpCiAgICAgICAgbmxhZyA9IHNlbGYua3dbJ25sYWcnXQogICAgICAgIEFBID0gJ0FS
TkRDUUVHSElMS01GUFNUV1lWJwogICAgICAgIGZpbGVBQWlkeCA9IG9zLnBhdGguc3BsaXQob3MucGF0
aC5yZWFscGF0aChfX2ZpbGVfXykpWwogICAgICAgICAgICAgICAgICAgICAgICAwXSArIHInXGRhdGFc
QUFpZHgudHh0JyBpZiBwbGF0Zm9ybS5zeXN0ZW0oKSA9PSAnV2luZG93cycgZWxzZSBcCiAgICAgICAg
ICAgIG9zLnBhdGguc3BsaXQob3MucGF0aC5yZWFscGF0aChfX2ZpbGVfXykpWzBdICsgcicvZGF0YS9B
QWlkeC50eHQnCiAgICAgICAgd2l0aCBvcGVuKGZpbGVBQWlkeCkgYXMgZjoKICAgICAgICAgICAgcmVj
b3JkcyA9IGYucmVhZGxpbmVzKClbMTpdCiAgICAgICAgbXlEaWN0ID0ge30KICAgICAgICBmb3IgaSBp
biByZWNvcmRzOgogICAgICAgICAgICBhcnJheSA9IGkucnN0cmlwKCkuc3BsaXQoJ1x0JykKICAgICAg
ICAgICAgbXlEaWN0W2FycmF5WzBdXSA9IGFycmF5WzE6XQoKICAgICAgICBBQWlkeCA9IFtdCiAgICAg
ICAgQUFpZHhOYW1lID0gW10KICAgICAgICBmb3IgaSBpbiBwcm9wczoKICAgICAgICAgICAgaWYgaSBp
biBteURpY3Q6CiAgICAgICAgICAgICAgICBBQWlkeC5hcHBlbmQobXlEaWN0W2ldKQogICAgICAgICAg
ICAgICAgQUFpZHhOYW1lLmFwcGVuZChpKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAg
cHJpbnQoJyInICsgaSArICciIHByb3BlcnRpZXMgbm90IGV4aXN0LicpCiAgICAgICAgICAgICAgICBy
ZXR1cm4gTm9uZQoKICAgICAgICBBQWlkeDEgPSBucC5hcnJheShbZmxvYXQoaikgZm9yIGkgaW4gQUFp
ZHggZm9yIGogaW4gaV0pCiAgICAgICAgQUFpZHggPSBBQWlkeDEucmVzaGFwZSgobGVuKEFBaWR4KSwg
MjApKQogICAgICAgIHBzdGQgPSBucC5zdGQoQUFpZHgsIGF4aXM9MSkKICAgICAgICBwbWVhbiA9IG5w
LmF2ZXJhZ2UoQUFpZHgsIGF4aXM9MSkKCiAgICAgICAgZm9yIGkgaW4gcmFuZ2UobGVuKEFBaWR4KSk6
CiAgICAgICAgICAgIGZvciBqIGluIHJhbmdlKGxlbihBQWlkeFtpXSkpOgogICAgICAgICAgICAgICAg
QUFpZHhbaV1bal0gPSAoQUFpZHhbaV1bal0gLSBwbWVhbltpXSkgLyBwc3RkW2ldCgogICAgICAgIGlu
ZGV4ID0ge30KICAgICAgICBmb3IgaSBpbiByYW5nZShsZW4oQUEpKToKICAgICAgICAgICAgaW5kZXhb
QUFbaV1dID0gaQoKICAgICAgICBlbmNvZGluZ3MgPSBbXQogICAgICAgIGhlYWRlciA9IFsnU2FtcGxl
TmFtZScsICdsYWJlbCddCiAgICAgICAgZm9yIHAgaW4gcHJvcHM6CiAgICAgICAgICAgIGZvciBuIGlu
IHJhbmdlKDEsIG5sYWcgKyAxKToKICAgICAgICAgICAgICAgIGhlYWRlci5hcHBlbmQocCArICcubGFn
JyArIHN0cihuKSkKICAgICAgICBlbmNvZGluZ3MuYXBwZW5kKGhlYWRlcikKCiAgICAgICAgZm9yIGkg
aW4gc2VsZi5mYXN0YV9saXN0OgogICAgICAgICAgICBuYW1lLCBzZXF1ZW5jZSwgbGFiZWwgPSBpWzBd
LCByZS5zdWIoJy0nLCAnJywgaVsxXSksIGlbMl0KICAgICAgICAgICAgY29kZSA9IFtuYW1lLCBsYWJl
bF0KICAgICAgICAgICAgTiA9IGxlbihzZXF1ZW5jZSkKICAgICAgICAgICAgZm9yIHByb3AgaW4gcmFu
Z2UobGVuKHByb3BzKSk6CiAgICAgICAgICAgICAgICBmb3IgbiBpbiByYW5nZSgxLCBubGFnICsgMSk6
CiAgICAgICAgICAgICAgICAgICAgaWYgbGVuKHNlcXVlbmNlKSA+IG5sYWc6CiAgICAgICAgICAgICAg
ICAgICAgICAgICMgaWYga2V5IGlzICctJywgdGhlbiB0aGUgdmFsdWUgaXMgMAogICAgICAgICAgICAg
ICAgICAgICAgICBybiA9IHN1bSgKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtBQWlkeFtwcm9w
XVtpbmRleC5nZXQoc2VxdWVuY2Vbal0sIDApXSAqIEFBaWR4W3Byb3BdW2luZGV4LmdldChzZXF1ZW5j
ZVtqICsgbl0sIDApXSBmb3IgagogICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluIHJhbmdlKGxl
bihzZXF1ZW5jZSkgLSBuKV0pIC8gKE4gLSBuKQogICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAg
ICAgICAgICAgICAgICAgICAgIHJuID0gJ05BJwogICAgICAgICAgICAgICAgICAgIGNvZGUuYXBwZW5k
KHJuKQogICAgICAgICAgICBlbmNvZGluZ3MuYXBwZW5kKGNvZGUpCgogICAgICAgIHNlbGYuZW5jb2Rp
bmdfYXJyYXkgPSBucC5hcnJheShlbmNvZGluZ3MsIGR0eXBlPXN0cikKICAgICAgICBzZWxmLmNvbHVt
biA9IHNlbGYuZW5jb2RpbmdfYXJyYXkuc2hhcGVbMV0KICAgICAgICBzZWxmLnJvdyA9IHNlbGYuZW5j
b2RpbmdfYXJyYXkuc2hhcGVbMF0gLSAxCiAgICAgICAgZGVsIGVuY29kaW5ncwogICAgICAgIGlmIHNl
bGYuZW5jb2RpbmdfYXJyYXkuc2hhcGVbMF0gPiAxOgogICAgICAgICAgICByZXR1cm4gVHJ1ZQogICAg
ICAgIGVsc2U6CiAgICAgICAgICAgIHJldHVybiBGYWxzZQoKICAgIGRlZiBQcm90ZWluX01vcmFuKHNl
bGYpOgogICAgICAgIHNlbGYuZW5jb2RpbmdfYXJyYXkgPSBucC5hcnJheShbXSkKCiAgICAgICAgcHJv
cHMgPSBzZWxmLmt3WydhYWluZGV4J10uc3BsaXQoJzsnKQogICAgICAgIG5sYWcgPSBzZWxmLmt3Wydu
bGFnJ10KCiAgICAgICAgQUEgPSAnQVJORENRRUdISUxLTUZQU1RXWVYnCiAgICAgICAgZmlsZUFBaWR4
ID0gb3MucGF0aC5zcGxpdChvcy5wYXRoLnJlYWxwYXRoKF9fZmlsZV9fKSlbCiAgICAgICAgICAgICAg
ICAgICAgICAgIDBdICsgcidcZGF0YVxBQWlkeC50eHQnIGlmIHBsYXRmb3JtLnN5c3RlbSgpID09ICdX
aW5kb3dzJyBlbHNlIFwKICAgICAgICAgICAgb3MucGF0aC5zcGxpdChvcy5wYXRoLnJlYWxwYXRoKF9f
ZmlsZV9fKSlbMF0gKyByJy9kYXRhL0FBaWR4LnR4dCcKICAgICAgICB3aXRoIG9wZW4oZmlsZUFBaWR4
KSBhcyBmOgogICAgICAgICAgICByZWNvcmRzID0gZi5yZWFkbGluZXMoKVsxOl0KICAgICAgICBteURp
Y3QgPSB7fQogICAgICAgIGZvciBpIGluIHJlY29yZHM6CiAgICAgICAgICAgIGFycmF5ID0gaS5yc3Ry
aXAoKS5zcGxpdCgnXHQnKQogICAgICAgICAgICBteURpY3RbYXJyYXlbMF1dID0gYXJyYXlbMTpdCgog
ICAgICAgIEFBaWR4ID0gW10KICAgICAgICBBQWlkeE5hbWUgPSBbXQogICAgICAgIGZvciBpIGluIHBy
b3BzOgogICAgICAgICAgICBpZiBpIGluIG15RGljdDoKICAgICAgICAgICAgICAgIEFBaWR4LmFwcGVu
ZChteURpY3RbaV0pCiAgICAgICAgICAgICAgICBBQWlkeE5hbWUuYXBwZW5kKGkpCiAgICAgICAgICAg
IGVsc2U6CiAgICAgICAgICAgICAgICBwcmludCgnIicgKyBpICsgJyIgcHJvcGVydGllcyBub3QgZXhp
c3QuJykKICAgICAgICAgICAgICAgIHJldHVybiBOb25lCgogICAgICAgIEFBaWR4MSA9IG5wLmFycmF5
KFtmbG9hdChqKSBmb3IgaSBpbiBBQWlkeCBmb3IgaiBpbiBpXSkKICAgICAgICBBQWlkeCA9IEFBaWR4
MS5yZXNoYXBlKChsZW4oQUFpZHgpLCAyMCkpCgogICAgICAgIHByb3BNZWFuID0gbnAubWVhbihBQWlk
eCwgYXhpcz0xKQogICAgICAgIHByb3BTdGQgPSBucC5zdGQoQUFpZHgsIGF4aXM9MSkKCiAgICAgICAg
Zm9yIGkgaW4gcmFuZ2UobGVuKEFBaWR4KSk6CiAgICAgICAgICAgIGZvciBqIGluIHJhbmdlKGxlbihB
QWlkeFtpXSkpOgogICAgICAgICAgICAgICAgQUFpZHhbaV1bal0gPSAoQUFpZHhbaV1bal0gLSBwcm9w
TWVhbltpXSkgLyBwcm9wU3RkW2ldCgogICAgICAgIGluZGV4ID0ge30KICAgICAgICBmb3IgaSBpbiBy
YW5nZShsZW4oQUEpKToKICAgICAgICAgICAgaW5kZXhbQUFbaV1dID0gaQoKICAgICAgICBlbmNvZGlu
Z3MgPSBbXQogICAgICAgIGhlYWRlciA9IFsnU2FtcGxlTmFtZScsICdsYWJlbCddCiAgICAgICAgZm9y
IHAgaW4gcHJvcHM6CiAgICAgICAgICAgIGZvciBuIGluIHJhbmdlKDEsIG5sYWcgKyAxKToKICAgICAg
ICAgICAgICAgIGhlYWRlci5hcHBlbmQocCArICcubGFnJyArIHN0cihuKSkKICAgICAgICBlbmNvZGlu
Z3MuYXBwZW5kKGhlYWRlcikKCiAgICAgICAgZm9yIGkgaW4gc2VsZi5mYXN0YV9saXN0OgogICAgICAg
ICAgICBuYW1lLCBzZXF1ZW5jZSwgbGFiZWwgPSBpWzBdLCByZS5zdWIoJy0nLCAnJywgaVsxXSksIGlb
Ml0KICAgICAgICAgICAgY29kZSA9IFtuYW1lLCBsYWJlbF0KICAgICAgICAgICAgTiA9IGxlbihzZXF1
ZW5jZSkKICAgICAgICAgICAgZm9yIHByb3AgaW4gcmFuZ2UobGVuKHByb3BzKSk6CiAgICAgICAgICAg
ICAgICB4bWVhbiA9IHN1bShbQUFpZHhbcHJvcF1baW5kZXhbYWFdXSBmb3IgYWEgaW4gc2VxdWVuY2Vd
KSAvIE4KICAgICAgICAgICAgICAgIGZvciBuIGluIHJhbmdlKDEsIG5sYWcgKyAxKToKICAgICAgICAg
ICAgICAgICAgICBpZiBsZW4oc2VxdWVuY2UpID4gbmxhZzoKICAgICAgICAgICAgICAgICAgICAgICAg
IyBpZiBrZXkgaXMgJy0nLCB0aGVuIHRoZSB2YWx1ZSBpcyAwCiAgICAgICAgICAgICAgICAgICAgICAg
IGZlbnppID0gc3VtKFsoQUFpZHhbcHJvcF1baW5kZXguZ2V0KHNlcXVlbmNlW2pdLCAwKV0gLSB4bWVh
bikgKiAoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQUFpZHhbcHJvcF1baW5kZXguZ2V0
KHNlcXVlbmNlW2ogKyBuXSwgMCldIC0geG1lYW4pIGZvciBqIGluCiAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICByYW5nZShsZW4oc2VxdWVuY2UpIC0gbildKSAvIChOIC0gbikKICAgICAg
ICAgICAgICAgICAgICAgICAgZmVubXUgPSBzdW0oCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBb
KEFBaWR4W3Byb3BdW2luZGV4LmdldChzZXF1ZW5jZVtqXSwgMCldIC0geG1lYW4pICoqIDIgZm9yIGog
aW4gcmFuZ2UobGVuKHNlcXVlbmNlKSldKSAvIE4KICAgICAgICAgICAgICAgICAgICAgICAgcm4gPSBm
ZW56aSAvIGZlbm11CiAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAg
ICAgcm4gPSAnTkEnCiAgICAgICAgICAgICAgICAgICAgY29kZS5hcHBlbmQocm4pCiAgICAgICAgICAg
IGVuY29kaW5ncy5hcHBlbmQoY29kZSkKCiAgICAgICAgc2VsZi5lbmNvZGluZ19hcnJheSA9IG5wLmFy
cmF5KGVuY29kaW5ncywgZHR5cGU9c3RyKQogICAgICAgIHNlbGYuY29sdW1uID0gc2VsZi5lbmNvZGlu
Z19hcnJheS5zaGFwZVsxXQogICAgICAgIHNlbGYucm93ID0gc2VsZi5lbmNvZGluZ19hcnJheS5zaGFw
ZVswXSAtIDEKICAgICAgICBkZWwgZW5jb2RpbmdzCiAgICAgICAgaWYgc2VsZi5lbmNvZGluZ19hcnJh
eS5zaGFwZVswXSA+IDE6CiAgICAgICAgICAgIHJldHVybiBUcnVlCiAgICAgICAgZWxzZToKICAgICAg
ICAgICAgcmV0dXJuIEZhbHNlCgogICAgZGVmIFByb3RlaW5fR2Vhcnkoc2VsZik6CiAgICAgICAgc2Vs
Zi5lbmNvZGluZ19hcnJheSA9IG5wLmFycmF5KFtdKQoKICAgICAgICBwcm9wcyA9IHNlbGYua3dbJ2Fh
aW5kZXgnXS5zcGxpdCgnOycpCiAgICAgICAgbmxhZyA9IHNlbGYua3dbJ25sYWcnXQogICAgICAgIGZp
bGVBQWlkeCA9IG9zLnBhdGguc3BsaXQob3MucGF0aC5yZWFscGF0aChfX2ZpbGVfXykpWwogICAgICAg
ICAgICAgICAgICAgICAgICAwXSArIHInXGRhdGFcQUFpZHgudHh0JyBpZiBwbGF0Zm9ybS5zeXN0ZW0o
KSA9PSAnV2luZG93cycgZWxzZSBcCiAgICAgICAgICAgIG9zLnBhdGguc3BsaXQob3MucGF0aC5yZWFs
cGF0aChfX2ZpbGVfXykpWzBdICsgcicvZGF0YS9BQWlkeC50eHQnCiAgICAgICAgQUEgPSAnQVJORENR
RUdISUxLTUZQU1RXWVYnCgogICAgICAgIHdpdGggb3BlbihmaWxlQUFpZHgpIGFzIGY6CiAgICAgICAg
ICAgIHJlY29yZHMgPSBmLnJlYWRsaW5lcygpWzE6XQogICAgICAgIG15RGljdCA9IHt9CiAgICAgICAg
Zm9yIGkgaW4gcmVjb3JkczoKICAgICAgICAgICAgYXJyYXkgPSBpLnJzdHJpcCgpLnNwbGl0KCdcdCcp
CiAgICAgICAgICAgIG15RGljdFthcnJheVswXV0gPSBhcnJheVsxOl0KCiAgICAgICAgQUFpZHggPSBb
XQogICAgICAgIEFBaWR4TmFtZSA9IFtdCiAgICAgICAgZm9yIGkgaW4gcHJvcHM6CiAgICAgICAgICAg
IGlmIGkgaW4gbXlEaWN0OgogICAgICAgICAgICAgICAgQUFpZHguYXBwZW5kKG15RGljdFtpXSkKICAg
ICAgICAgICAgICAgIEFBaWR4TmFtZS5hcHBlbmQoaSkKICAgICAgICAgICAgZWxzZToKICAgICAgICAg
ICAgICAgIHByaW50KCciJyArIGkgKyAnIiBwcm9wZXJ0aWVzIG5vdCBleGlzdC4nKQogICAgICAgICAg
ICAgICAgcmV0dXJuIE5vbmUKCiAgICAgICAgQUFpZHgxID0gbnAuYXJyYXkoW2Zsb2F0KGopIGZvciBp
IGluIEFBaWR4IGZvciBqIGluIGldKQogICAgICAgIEFBaWR4ID0gQUFpZHgxLnJlc2hhcGUoKGxlbihB
QWlkeCksIDIwKSkKCiAgICAgICAgcHJvcE1lYW4gPSBucC5tZWFuKEFBaWR4LCBheGlzPTEpCiAgICAg
ICAgcHJvcFN0ZCA9IG5wLnN0ZChBQWlkeCwgYXhpcz0xKQoKICAgICAgICBmb3IgaSBpbiByYW5nZShs
ZW4oQUFpZHgpKToKICAgICAgICAgICAgZm9yIGogaW4gcmFuZ2UobGVuKEFBaWR4W2ldKSk6CiAgICAg
ICAgICAgICAgICBBQWlkeFtpXVtqXSA9IChBQWlkeFtpXVtqXSAtIHByb3BNZWFuW2ldKSAvIHByb3BT
dGRbaV0KCiAgICAgICAgaW5kZXggPSB7fQogICAgICAgIGZvciBpIGluIHJhbmdlKGxlbihBQSkpOgog
ICAgICAgICAgICBpbmRleFtBQVtpXV0gPSBpCgogICAgICAgIGVuY29kaW5ncyA9IFtdCiAgICAgICAg
aGVhZGVyID0gWydTYW1wbGVOYW1lJywgJ2xhYmVsJ10KICAgICAgICBmb3IgcCBpbiBwcm9wczoKICAg
ICAgICAgICAgZm9yIG4gaW4gcmFuZ2UoMSwgbmxhZyArIDEpOgogICAgICAgICAgICAgICAgaGVhZGVy
LmFwcGVuZChwICsgJy5sYWcnICsgc3RyKG4pKQogICAgICAgIGVuY29kaW5ncy5hcHBlbmQoaGVhZGVy
KQoKICAgICAgICBmb3IgaSBpbiBzZWxmLmZhc3RhX2xpc3Q6CiAgICAgICAgICAgIG5hbWUsIHNlcXVl
bmNlLCBsYWJlbCA9IGlbMF0sIHJlLnN1YignLScsICcnLCBpWzFdKSwgaVsyXQogICAgICAgICAgICBj
b2RlID0gW25hbWUsIGxhYmVsXQogICAgICAgICAgICBOID0gbGVuKHNlcXVlbmNlKQogICAgICAgICAg
ICBmb3IgcHJvcCBpbiByYW5nZShsZW4ocHJvcHMpKToKICAgICAgICAgICAgICAgIHhtZWFuID0gc3Vt
KFtBQWlkeFtwcm9wXVtpbmRleFthYV1dIGZvciBhYSBpbiBzZXF1ZW5jZV0pIC8gTgogICAgICAgICAg
ICAgICAgZm9yIG4gaW4gcmFuZ2UoMSwgbmxhZyArIDEpOgogICAgICAgICAgICAgICAgICAgIGlmIGxl
bihzZXF1ZW5jZSkgPiBubGFnOgogICAgICAgICAgICAgICAgICAgICAgICAjIGlmIGtleSBpcyAnLScs
IHRoZW4gdGhlIHZhbHVlIGlzIDAKICAgICAgICAgICAgICAgICAgICAgICAgcm4gPSAoTiAtIDEpIC8g
KDIgKiAoTiAtIG4pKSAqICgoc3VtKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgWyhBQWlkeFtw
cm9wXVtpbmRleC5nZXQoc2VxdWVuY2Vbal0sIDApXSAtIEFBaWR4W3Byb3BdW2luZGV4LmdldChzZXF1
ZW5jZVtqICsgbl0sIDApXSkgKiogMgogICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcgogICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIGogaW4gcmFuZ2UobGVuKHNlcXVlbmNlKSAtIG4pXSkpIC8g
KHN1bSgKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFsoQUFpZHhbcHJvcF1baW5kZXguZ2V0KHNl
cXVlbmNlW2pdLCAwKV0gLSB4bWVhbikgKiogMiBmb3IgaiBpbiByYW5nZShsZW4oc2VxdWVuY2UpKV0p
KSkKICAgICAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgICAgICBybiA9ICdO
QScKICAgICAgICAgICAgICAgICAgICBjb2RlLmFwcGVuZChybikKICAgICAgICAgICAgZW5jb2Rpbmdz
LmFwcGVuZChjb2RlKQoKICAgICAgICBzZWxmLmVuY29kaW5nX2FycmF5ID0gbnAuYXJyYXkoZW5jb2Rp
bmdzLCBkdHlwZT1zdHIpCiAgICAgICAgc2VsZi5jb2x1bW4gPSBzZWxmLmVuY29kaW5nX2FycmF5LnNo
YXBlWzFdCiAgICAgICAgc2VsZi5yb3cgPSBzZWxmLmVuY29kaW5nX2FycmF5LnNoYXBlWzBdIC0gMQog
ICAgICAgIGRlbCBlbmNvZGluZ3MKICAgICAgICBpZiBzZWxmLmVuY29kaW5nX2FycmF5LnNoYXBlWzBd
ID4gMToKICAgICAgICAgICAgcmV0dXJuIFRydWUKICAgICAgICBlbHNlOgogICAgICAgICAgICByZXR1
cm4gRmFsc2UKCiAgICBkZWYgUHJvdGVpbl9BQyhzZWxmKToKICAgICAgICBzZWxmLmVuY29kaW5nX2Fy
cmF5ID0gbnAuYXJyYXkoW10pCgogICAgICAgIHByb3BlcnR5X25hbWUgPSBzZWxmLmt3WydhYWluZGV4
J10uc3BsaXQoJzsnKQogICAgICAgIG5sYWcgPSBzZWxmLmt3WydubGFnJ10KCiAgICAgICAgaWYgc2Vs
Zi5taW5pbXVtX2xlbmd0aF93aXRob3V0X21pbnVzIDwgbmxhZyArIDE6CiAgICAgICAgICAgIHNlbGYu
ZXJyb3JfbXNnID0gJ1RoZSBubGFnIHZhbHVlIGlzIHRvbyBsYXJnZS4nCiAgICAgICAgICAgIHJldHVy
biBGYWxzZQoKICAgICAgICB0cnk6CiAgICAgICAgICAgIGRhdGFfZmlsZSA9IG9zLnBhdGguc3BsaXQo
b3MucGF0aC5yZWFscGF0aChfX2ZpbGVfXykpWzBdICsgcidcZGF0YVxBQWluZGV4LmRhdGEnIGlmIHBs
YXRmb3JtLnN5c3RlbSgpID09ICdXaW5kb3dzJyBlbHNlIG9zLnBhdGguc3BsaXQob3MucGF0aC5yZWFs
cGF0aChfX2ZpbGVfXykpWzBdICsgcicvZGF0YS9BQWluZGV4LmRhdGEnCiAgICAgICAgICAgIHdpdGgg
b3BlbihkYXRhX2ZpbGUsICdyYicpIGFzIGhhbmRsZToKICAgICAgICAgICAgICAgIHByb3BlcnR5X2Rp
Y3QgPSBwaWNrbGUubG9hZChoYW5kbGUpCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAg
ICAgICAgICBzZWxmLmVycm9yX21zZyA9ICdDb3VsZCBub3QgZmluZCB0aGUgcGh5c2ljb2NoZW1pY2Fs
IHByb3BlcnRpZXMgZmlsZS4nCiAgICAgICAgICAgIHJldHVybiBGYWxzZQoKICAgICAgICBmb3IgcF9u
YW1lIGluIHByb3BlcnR5X25hbWU6CiAgICAgICAgICAgIHRtcCA9IG5wLmFycmF5KHByb3BlcnR5X2Rp
Y3RbcF9uYW1lXSwgZHR5cGU9ZmxvYXQpCiAgICAgICAgICAgIHBtZWFuID0gbnAuYXZlcmFnZSh0bXAp
CiAgICAgICAgICAgIHBzdGQgPSBucC5zdGQodG1wKQogICAgICAgICAgICBwcm9wZXJ0eV9kaWN0W3Bf
bmFtZV0gPSBbKGVsZW0gLSBwbWVhbikgLyBwc3RkIGZvciBlbGVtIGluIHRtcF0KCiAgICAgICAgQUEg
PSAnQVJORENRRUdISUxLTUZQU1RXWVYnCiAgICAgICAgQUFfb3JkZXJfZGljdCA9IHt9CiAgICAgICAg
Zm9yIGkgaW4gcmFuZ2UobGVuKEFBKSk6CiAgICAgICAgICAgIEFBX29yZGVyX2RpY3RbQUFbaV1dID0g
aQoKICAgICAgICBlbmNvZGluZ3MgPSBbXQogICAgICAgIGhlYWRlciA9IFsnU2FtcGxlTmFtZScsICds
YWJlbCddCiAgICAgICAgZm9yIHBfbmFtZSBpbiBwcm9wZXJ0eV9uYW1lOgogICAgICAgICAgICBmb3Ig
aSBpbiByYW5nZShubGFnKToKICAgICAgICAgICAgICAgIGhlYWRlci5hcHBlbmQoJyVzLmxhZyVzJyAl
KHBfbmFtZSwgaSsxKSkKICAgICAgICBlbmNvZGluZ3MuYXBwZW5kKGhlYWRlcikKCiAgICAgICAgZm9y
IGkgaW4gc2VsZi5mYXN0YV9saXN0OgogICAgICAgICAgICBuYW1lLCBzZXF1ZW5jZSwgbGFiZWwgPSBp
WzBdLCByZS5zdWIoJy0nLCAnJywgaVsxXSksIGlbMl0KICAgICAgICAgICAgY29kZSA9IFtuYW1lLCBs
YWJlbF0KICAgICAgICAgICAgTCA9IGxlbihzZXF1ZW5jZSkKICAgICAgICAgICAgZm9yIHBfbmFtZSBp
biBwcm9wZXJ0eV9uYW1lOgogICAgICAgICAgICAgICAgeG1lYW4gPSBzdW0oW3Byb3BlcnR5X2RpY3Rb
cF9uYW1lXVtBQV9vcmRlcl9kaWN0W2FhXV0gZm9yIGFhIGluIHNlcXVlbmNlXSkgLyBMCiAgICAgICAg
ICAgICAgICBmb3IgbGFnIGluIHJhbmdlKDEsIG5sYWcgKyAxKToKICAgICAgICAgICAgICAgICAgICBh
YyA9IDAKICAgICAgICAgICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICAgICAgICAgIGFjID0g
c3VtKFsocHJvcGVydHlfZGljdFtwX25hbWVdW0FBX29yZGVyX2RpY3Rbc2VxdWVuY2Vbal1dXSAtIHht
ZWFuKSAqIChwcm9wZXJ0eV9kaWN0W3BfbmFtZV1bQUFfb3JkZXJfZGljdFtzZXF1ZW5jZVtqK2xhZ11d
XSAtIHhtZWFuKSBmb3IgaiBpbiByYW5nZShMIC0gbGFnKV0pLyhMLWxhZykKICAgICAgICAgICAgICAg
ICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgICAgICAgICAgICAgICAgIGFjID0gMAog
ICAgICAgICAgICAgICAgICAgIGNvZGUuYXBwZW5kKGFjKQogICAgICAgICAgICBlbmNvZGluZ3MuYXBw
ZW5kKGNvZGUpCgogICAgICAgIHNlbGYuZW5jb2RpbmdfYXJyYXkgPSBucC5hcnJheShlbmNvZGluZ3Ms
IGR0eXBlPXN0cikKICAgICAgICBzZWxmLmNvbHVtbiA9IHNlbGYuZW5jb2RpbmdfYXJyYXkuc2hhcGVb
MV0KICAgICAgICBzZWxmLnJvdyA9IHNlbGYuZW5jb2RpbmdfYXJyYXkuc2hhcGVbMF0gLSAxCiAgICAg
ICAgZGVsIGVuY29kaW5ncwogICAgICAgIGlmIHNlbGYuZW5jb2RpbmdfYXJyYXkuc2hhcGVbMF0gPiAx
OgogICAgICAgICAgICByZXR1cm4gVHJ1ZQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJldHVybiBG
YWxzZQoKICAgIGRlZiBQcm90ZWluX0NDKHNlbGYpOgogICAgICAgIHNlbGYuZW5jb2RpbmdfYXJyYXkg
PSBucC5hcnJheShbXSkKCiAgICAgICAgcHJvcGVydHlfbmFtZSA9IHNlbGYua3dbJ2FhaW5kZXgnXS5z
cGxpdCgnOycpCiAgICAgICAgaWYgbGVuKHByb3BlcnR5X25hbWUpIDwgMjoKICAgICAgICAgICAgc2Vs
Zi5lcnJvcl9tc2cgPSAnTW9yZSB0aGFuIHR3byBwcm9wZXJ0eSBzaG91bGQgYmUgc2VsZWN0ZWQgZm9y
IHRoaXMgZGVzY3JpcHRvci4nCiAgICAgICAgICAgIHJldHVybiBGYWxzZQoKICAgICAgICBubGFnID0g
c2VsZi5rd1snbmxhZyddCgogICAgICAgIGlmIHNlbGYubWluaW11bV9sZW5ndGhfd2l0aG91dF9taW51
cyA8IG5sYWcgKyAxOgogICAgICAgICAgICBzZWxmLmVycm9yX21zZyA9ICdUaGUgbmxhZyB2YWx1ZSBp
cyB0b28gbGFyZ2UuJwogICAgICAgICAgICByZXR1cm4gRmFsc2UKCiAgICAgICAgdHJ5OgogICAgICAg
ICAgICBkYXRhX2ZpbGUgPSBvcy5wYXRoLnNwbGl0KG9zLnBhdGgucmVhbHBhdGgoX19maWxlX18pKVsK
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIDBdICsgcidcZGF0YVxBQWluZGV4LmRhdGEnIGlmIHBs
YXRmb3JtLnN5c3RlbSgpID09ICdXaW5kb3dzJyBlbHNlIFwKICAgICAgICAgICAgb3MucGF0aC5zcGxp
dChvcy5wYXRoLnJlYWxwYXRoKF9fZmlsZV9fKSlbMF0gKyByJy9kYXRhL0FBaW5kZXguZGF0YScKICAg
ICAgICAgICAgd2l0aCBvcGVuKGRhdGFfZmlsZSwgJ3JiJykgYXMgaGFuZGxlOgogICAgICAgICAgICAg
ICAgcHJvcGVydHlfZGljdCA9IHBpY2tsZS5sb2FkKGhhbmRsZSkKICAgICAgICBleGNlcHQgRXhjZXB0
aW9uIGFzIGU6CiAgICAgICAgICAgIHNlbGYuZXJyb3JfbXNnID0gJ0NvdWxkIG5vdCBmaW5kIHRoZSBw
aHlzaWNvY2hlbWljYWwgcHJvcGVydGllcyBmaWxlLicKICAgICAgICAgICAgcmV0dXJuIEZhbHNlCgog
ICAgICAgIGZvciBwX25hbWUgaW4gcHJvcGVydHlfbmFtZToKICAgICAgICAgICAgdG1wID0gbnAuYXJy
YXkocHJvcGVydHlfZGljdFtwX25hbWVdLCBkdHlwZT1mbG9hdCkKICAgICAgICAgICAgcG1lYW4gPSBu
cC5hdmVyYWdlKHRtcCkKICAgICAgICAgICAgcHN0ZCA9IG5wLnN0ZCh0bXApCiAgICAgICAgICAgIHBy
b3BlcnR5X2RpY3RbcF9uYW1lXSA9IFsoZWxlbSAtIHBtZWFuKSAvIHBzdGQgZm9yIGVsZW0gaW4gdG1w
XQoKICAgICAgICBBQSA9ICdBUk5EQ1FFR0hJTEtNRlBTVFdZVicKICAgICAgICBBQV9vcmRlcl9kaWN0
ID0ge30KICAgICAgICBmb3IgaSBpbiByYW5nZShsZW4oQUEpKToKICAgICAgICAgICAgQUFfb3JkZXJf
ZGljdFtBQVtpXV0gPSBpCgogICAgICAgIHByb3BlcnR5X3BhaXJzID0gc2VsZi5nZW5lcmF0ZVByb3Bl
cnR5UGFpcnMocHJvcGVydHlfbmFtZSkKCiAgICAgICAgZW5jb2RpbmdzID0gW10KICAgICAgICBoZWFk
ZXIgPSBbJ1NhbXBsZU5hbWUnLCAnbGFiZWwnXQogICAgICAgIGhlYWRlciArPSBbcFswXSArICdfJyAr
IHBbMV0gKyAnX2xhZy4nICsgc3RyKGxhZykgZm9yIHAgaW4gcHJvcGVydHlfcGFpcnMgZm9yIGxhZyBp
biByYW5nZSgxLCBubGFnICsgMSldCiAgICAgICAgZW5jb2RpbmdzLmFwcGVuZChoZWFkZXIpCgogICAg
ICAgIGZvciBpIGluIHNlbGYuZmFzdGFfbGlzdDoKICAgICAgICAgICAgbmFtZSwgc2VxdWVuY2UsIGxh
YmVsID0gaVswXSwgcmUuc3ViKCctJywgJycsIGlbMV0pLCBpWzJdCiAgICAgICAgICAgIGNvZGUgPSBb
bmFtZSwgbGFiZWxdCiAgICAgICAgICAgIAogICAgICAgICAgICBMID0gbGVuKHNlcXVlbmNlKQogICAg
ICAgICAgICBmb3IgcGFpciBpbiBwcm9wZXJ0eV9wYWlyczoKICAgICAgICAgICAgICAgIG1lYW5fcDEg
PSBzdW0oW3Byb3BlcnR5X2RpY3RbcGFpclswXV1bQUFfb3JkZXJfZGljdFthYV1dIGZvciBhYSBpbiBz
ZXF1ZW5jZV0pIC8gTAogICAgICAgICAgICAgICAgbWVhbl9wMiA9IHN1bShbcHJvcGVydHlfZGljdFtw
YWlyWzFdXVtBQV9vcmRlcl9kaWN0W2FhXV0gZm9yIGFhIGluIHNlcXVlbmNlXSkgLyBMCiAgICAgICAg
ICAgICAgICBmb3IgbGFnIGluIHJhbmdlKDEsIG5sYWcgKyAxKToKICAgICAgICAgICAgICAgICAgICBj
YyA9IDAKICAgICAgICAgICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICAgICAgICAgIGNjID0g
c3VtKFsocHJvcGVydHlfZGljdFtwYWlyWzBdXVtBQV9vcmRlcl9kaWN0W3NlcXVlbmNlW2pdXV0gLSBt
ZWFuX3AxKSAqIChwcm9wZXJ0eV9kaWN0W3BhaXJbMV1dW0FBX29yZGVyX2RpY3Rbc2VxdWVuY2Vbaits
YWddXV0gLSBtZWFuX3AyKSBmb3IgaiBpbiByYW5nZShMIC0gbGFnKV0pIC8gKEwgLSBsYWcpCiAgICAg
ICAgICAgICAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICAgICAgICAgICAg
ICBjYyA9IDAKICAgICAgICAgICAgICAgICAgICBjb2RlLmFwcGVuZChjYykKICAgICAgICAgICAgZW5j
b2RpbmdzLmFwcGVuZChjb2RlKQoKICAgICAgICBzZWxmLmVuY29kaW5nX2FycmF5ID0gbnAuYXJyYXko
ZW5jb2RpbmdzLCBkdHlwZT1zdHIpCiAgICAgICAgc2VsZi5jb2x1bW4gPSBzZWxmLmVuY29kaW5nX2Fy
cmF5LnNoYXBlWzFdCiAgICAgICAgc2VsZi5yb3cgPSBzZWxmLmVuY29kaW5nX2FycmF5LnNoYXBlWzBd
IC0gMQogICAgICAgIGRlbCBlbmNvZGluZ3MKICAgICAgICBpZiBzZWxmLmVuY29kaW5nX2FycmF5LnNo
YXBlWzBdID4gMToKICAgICAgICAgICAgcmV0dXJuIFRydWUKICAgICAgICBlbHNlOgogICAgICAgICAg
ICByZXR1cm4gRmFsc2UKCiAgICBkZWYgUHJvdGVpbl9BQ0Moc2VsZik6CiAgICAgICAgc2VsZi5lbmNv
ZGluZ19hcnJheSA9IG5wLmFycmF5KFtdKQoKICAgICAgICBwcm9wZXJ0eV9uYW1lID0gc2VsZi5rd1sn
YWFpbmRleCddLnNwbGl0KCc7JykKICAgICAgICBpZiBsZW4ocHJvcGVydHlfbmFtZSkgPCAyOgogICAg
ICAgICAgICBzZWxmLmVycm9yX21zZyA9ICdNb3JlIHRoYW4gdHdvIHByb3BlcnR5IHNob3VsZCBiZSBz
ZWxlY3RlZCBmb3IgdGhpcyBkZXNjcmlwdG9yLicKICAgICAgICAgICAgcmV0dXJuIEZhbHNlCgogICAg
ICAgIG5sYWcgPSBzZWxmLmt3WydubGFnJ10KCiAgICAgICAgaWYgc2VsZi5taW5pbXVtX2xlbmd0aF93
aXRob3V0X21pbnVzIDwgbmxhZyArIDE6CiAgICAgICAgICAgIHNlbGYuZXJyb3JfbXNnID0gJ1RoZSBu
bGFnIHZhbHVlIGlzIHRvbyBsYXJnZS4nCiAgICAgICAgICAgIHJldHVybiBGYWxzZQoKICAgICAgICB0
cnk6CiAgICAgICAgICAgIGRhdGFfZmlsZSA9IG9zLnBhdGguc3BsaXQob3MucGF0aC5yZWFscGF0aChf
X2ZpbGVfXykpWwogICAgICAgICAgICAgICAgICAgICAgICAgICAgMF0gKyByJ1xkYXRhXEFBaW5kZXgu
ZGF0YScgaWYgcGxhdGZvcm0uc3lzdGVtKCkgPT0gJ1dpbmRvd3MnIGVsc2UgXAogICAgICAgICAgICAg
ICAgb3MucGF0aC5zcGxpdChvcy5wYXRoLnJlYWxwYXRoKF9fZmlsZV9fKSlbMF0gKyByJy9kYXRhL0FB
aW5kZXguZGF0YScKICAgICAgICAgICAgd2l0aCBvcGVuKGRhdGFfZmlsZSwgJ3JiJykgYXMgaGFuZGxl
OgogICAgICAgICAgICAgICAgcHJvcGVydHlfZGljdCA9IHBpY2tsZS5sb2FkKGhhbmRsZSkKICAgICAg
ICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgICAgIHNlbGYuZXJyb3JfbXNnID0gJ0NvdWxk
IG5vdCBmaW5kIHRoZSBwaHlzaWNvY2hlbWljYWwgcHJvcGVydGllcyBmaWxlLicKICAgICAgICAgICAg
cmV0dXJuIEZhbHNlCgogICAgICAgIGZvciBwX25hbWUgaW4gcHJvcGVydHlfbmFtZToKICAgICAgICAg
ICAgdG1wID0gbnAuYXJyYXkocHJvcGVydHlfZGljdFtwX25hbWVdLCBkdHlwZT1mbG9hdCkKICAgICAg
ICAgICAgcG1lYW4gPSBucC5hdmVyYWdlKHRtcCkKICAgICAgICAgICAgcHN0ZCA9IG5wLnN0ZCh0bXAp
CiAgICAgICAgICAgIHByb3BlcnR5X2RpY3RbcF9uYW1lXSA9IFsoZWxlbSAtIHBtZWFuKSAvIHBzdGQg
Zm9yIGVsZW0gaW4gdG1wXQoKICAgICAgICBBQSA9ICdBUk5EQ1FFR0hJTEtNRlBTVFdZVicKICAgICAg
ICBBQV9vcmRlcl9kaWN0ID0ge30KICAgICAgICBmb3IgaSBpbiByYW5nZShsZW4oQUEpKToKICAgICAg
ICAgICAgQUFfb3JkZXJfZGljdFtBQVtpXV0gPSBpCgogICAgICAgIHByb3BlcnR5X3BhaXJzID0gc2Vs
Zi5nZW5lcmF0ZVByb3BlcnR5UGFpcnMocHJvcGVydHlfbmFtZSkKCiAgICAgICAgZW5jb2RpbmdzID0g
W10KICAgICAgICBoZWFkZXIgPSBbJ1NhbXBsZU5hbWUnLCAnbGFiZWwnXQogICAgICAgIGZvciBwX25h
bWUgaW4gcHJvcGVydHlfbmFtZToKICAgICAgICAgICAgZm9yIGkgaW4gcmFuZ2UobmxhZyk6CiAgICAg
ICAgICAgICAgICBoZWFkZXIuYXBwZW5kKCclcy5sYWclcycgJSAocF9uYW1lLCBpICsgMSkpCiAgICAg
ICAgaGVhZGVyICs9IFtwWzBdICsgJ18nICsgcFsxXSArICdfbGFnLicgKyBzdHIobGFnKSBmb3IgcCBp
biBwcm9wZXJ0eV9wYWlycyBmb3IgbGFnIGluIHJhbmdlKDEsIG5sYWcgKyAxKV0KICAgICAgICBlbmNv
ZGluZ3MuYXBwZW5kKGhlYWRlcikKCiAgICAgICAgZm9yIGkgaW4gc2VsZi5mYXN0YV9saXN0OgogICAg
ICAgICAgICBuYW1lLCBzZXF1ZW5jZSwgbGFiZWwgPSBpWzBdLCByZS5zdWIoJy0nLCAnJywgaVsxXSks
IGlbMl0KICAgICAgICAgICAgY29kZSA9IFtuYW1lLCBsYWJlbF0KCiAgICAgICAgICAgIEwgPSBsZW4o
c2VxdWVuY2UpCiAgICAgICAgICAgIGZvciBwX25hbWUgaW4gcHJvcGVydHlfbmFtZToKICAgICAgICAg
ICAgICAgIHhtZWFuID0gc3VtKFtwcm9wZXJ0eV9kaWN0W3BfbmFtZV1bQUFfb3JkZXJfZGljdFthYV1d
IGZvciBhYSBpbiBzZXF1ZW5jZV0pIC8gTAogICAgICAgICAgICAgICAgZm9yIGxhZyBpbiByYW5nZSgx
LCBubGFnICsgMSk6CiAgICAgICAgICAgICAgICAgICAgYWMgPSAwCiAgICAgICAgICAgICAgICAgICAg
dHJ5OgogICAgICAgICAgICAgICAgICAgICAgICBhYyA9IHN1bShbKHByb3BlcnR5X2RpY3RbcF9uYW1l
XVtBQV9vcmRlcl9kaWN0W3NlcXVlbmNlW2pdXV0gLSB4bWVhbikgKiAocHJvcGVydHlfZGljdFtwX25h
bWVdW0FBX29yZGVyX2RpY3Rbc2VxdWVuY2VbaitsYWddXV0gLSB4bWVhbikgZm9yIGogaW4gcmFuZ2Uo
TCAtIGxhZyldKS8oTC1sYWcpCiAgICAgICAgICAgICAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBl
OgogICAgICAgICAgICAgICAgICAgICAgICBhYyA9IDAKICAgICAgICAgICAgICAgICAgICBjb2RlLmFw
cGVuZChhYykKICAgICAgICAgICAgZm9yIHBhaXIgaW4gcHJvcGVydHlfcGFpcnM6CiAgICAgICAgICAg
ICAgICBtZWFuX3AxID0gc3VtKFtwcm9wZXJ0eV9kaWN0W3BhaXJbMF1dW0FBX29yZGVyX2RpY3RbYWFd
XSBmb3IgYWEgaW4gc2VxdWVuY2VdKSAvIEwKICAgICAgICAgICAgICAgIG1lYW5fcDIgPSBzdW0oW3By
b3BlcnR5X2RpY3RbcGFpclsxXV1bQUFfb3JkZXJfZGljdFthYV1dIGZvciBhYSBpbiBzZXF1ZW5jZV0p
IC8gTAogICAgICAgICAgICAgICAgZm9yIGxhZyBpbiByYW5nZSgxLCBubGFnICsgMSk6CiAgICAgICAg
ICAgICAgICAgICAgY2MgPSAwCiAgICAgICAgICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAg
ICAgICAgICBjYyA9IHN1bShbKHByb3BlcnR5X2RpY3RbcGFpclswXV1bQUFfb3JkZXJfZGljdFtzZXF1
ZW5jZVtqXV1dIC0gbWVhbl9wMSkgKiAoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IHByb3BlcnR5X2RpY3RbcGFpclsxXV1bQUFfb3JkZXJfZGljdFtzZXF1ZW5jZVtqICsgbGFnXV1dIC0g
bWVhbl9wMikgZm9yIGogaW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlKEwg
LSBsYWcpXSkgLyAoTCAtIGxhZykKICAgICAgICAgICAgICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFz
IGU6CiAgICAgICAgICAgICAgICAgICAgICAgIGNjID0gMAogICAgICAgICAgICAgICAgICAgIGNvZGUu
YXBwZW5kKGNjKQogICAgICAgICAgICBlbmNvZGluZ3MuYXBwZW5kKGNvZGUpCgogICAgICAgIHNlbGYu
ZW5jb2RpbmdfYXJyYXkgPSBucC5hcnJheShlbmNvZGluZ3MsIGR0eXBlPXN0cikKICAgICAgICBzZWxm
LmNvbHVtbiA9IHNlbGYuZW5jb2RpbmdfYXJyYXkuc2hhcGVbMV0KICAgICAgICBzZWxmLnJvdyA9IHNl
bGYuZW5jb2RpbmdfYXJyYXkuc2hhcGVbMF0gLSAxCiAgICAgICAgZGVsIGVuY29kaW5ncwogICAgICAg
IGlmIHNlbGYuZW5jb2RpbmdfYXJyYXkuc2hhcGVbMF0gPiAxOgogICAgICAgICAgICByZXR1cm4gVHJ1
ZQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJldHVybiBGYWxzZQoKICAgIGRlZiBDb3VudChzZWxm
LCBzZXExLCBzZXEyKToKICAgICAgICBzdW0gPSAwCiAgICAgICAgZm9yIGFhIGluIHNlcTE6CiAgICAg
ICAgICAgIHN1bSA9IHN1bSArIHNlcTIuY291bnQoYWEpCiAgICAgICAgcmV0dXJuIHN1bQoKICAgIGRl
ZiBQcm90ZWluX0NUREMoc2VsZik6CiAgICAgICAgZ3JvdXAxID0gewogICAgICAgICAgICAnaHlkcm9w
aG9iaWNpdHlfUFJBTTkwMDEwMSc6ICdSS0VEUU4nLAogICAgICAgICAgICAnaHlkcm9waG9iaWNpdHlf
QVJHUDgyMDEwMSc6ICdRU1ROR0RFJywKICAgICAgICAgICAgJ2h5ZHJvcGhvYmljaXR5X1pJTUo2ODAx
MDEnOiAnUU5HU1dUREVSQScsCiAgICAgICAgICAgICdoeWRyb3Bob2JpY2l0eV9QT05QOTMwMTAxJzog
J0tQREVTTlFUJywKICAgICAgICAgICAgJ2h5ZHJvcGhvYmljaXR5X0NBU0c5MjAxMDEnOiAnS0RFUVBT
Uk5URycsCiAgICAgICAgICAgICdoeWRyb3Bob2JpY2l0eV9FTkdEODYwMTAxJzogJ1JES0VOUUhZUCcs
CiAgICAgICAgICAgICdoeWRyb3Bob2JpY2l0eV9GQVNHODkwMTAxJzogJ0tFUlNRRCcsCiAgICAgICAg
ICAgICdub3Jtd2FhbHN2b2x1bWUnOiAnR0FTVFBEQycsCiAgICAgICAgICAgICdwb2xhcml0eSc6ICdM
SUZXQ01WWScsCiAgICAgICAgICAgICdwb2xhcml6YWJpbGl0eSc6ICdHQVNEVCcsCiAgICAgICAgICAg
ICdjaGFyZ2UnOiAnS1InLAogICAgICAgICAgICAnc2Vjb25kYXJ5c3RydWN0JzogJ0VBTE1RS1JIJywK
ICAgICAgICAgICAgJ3NvbHZlbnRhY2Nlc3MnOiAnQUxGQ0dJVlcnCiAgICAgICAgfQogICAgICAgIGdy
b3VwMiA9IHsKICAgICAgICAgICAgJ2h5ZHJvcGhvYmljaXR5X1BSQU05MDAxMDEnOiAnR0FTVFBIWScs
CiAgICAgICAgICAgICdoeWRyb3Bob2JpY2l0eV9BUkdQODIwMTAxJzogJ1JBSENLTVYnLAogICAgICAg
ICAgICAnaHlkcm9waG9iaWNpdHlfWklNSjY4MDEwMSc6ICdITUNLVicsCiAgICAgICAgICAgICdoeWRy
b3Bob2JpY2l0eV9QT05QOTMwMTAxJzogJ0dSSEEnLAogICAgICAgICAgICAnaHlkcm9waG9iaWNpdHlf
Q0FTRzkyMDEwMSc6ICdBSFlNTFYnLAogICAgICAgICAgICAnaHlkcm9waG9iaWNpdHlfRU5HRDg2MDEw
MSc6ICdTR1RBVycsCiAgICAgICAgICAgICdoeWRyb3Bob2JpY2l0eV9GQVNHODkwMTAxJzogJ05UUEcn
LAogICAgICAgICAgICAnbm9ybXdhYWxzdm9sdW1lJzogJ05WRVFJTCcsCiAgICAgICAgICAgICdwb2xh
cml0eSc6ICdQQVRHUycsCiAgICAgICAgICAgICdwb2xhcml6YWJpbGl0eSc6ICdDUE5WRVFJTCcsCiAg
ICAgICAgICAgICdjaGFyZ2UnOiAnQU5DUUdISUxNRlBTVFdZVicsCiAgICAgICAgICAgICdzZWNvbmRh
cnlzdHJ1Y3QnOiAnVklZQ1dGVCcsCiAgICAgICAgICAgICdzb2x2ZW50YWNjZXNzJzogJ1JLUUVORCcK
ICAgICAgICB9CiAgICAgICAgZ3JvdXAzID0gewogICAgICAgICAgICAnaHlkcm9waG9iaWNpdHlfUFJB
TTkwMDEwMSc6ICdDTFZJTUZXJywKICAgICAgICAgICAgJ2h5ZHJvcGhvYmljaXR5X0FSR1A4MjAxMDEn
OiAnTFlQRklXJywKICAgICAgICAgICAgJ2h5ZHJvcGhvYmljaXR5X1pJTUo2ODAxMDEnOiAnTFBGWUkn
LAogICAgICAgICAgICAnaHlkcm9waG9iaWNpdHlfUE9OUDkzMDEwMSc6ICdZTUZXTENWSScsCiAgICAg
ICAgICAgICdoeWRyb3Bob2JpY2l0eV9DQVNHOTIwMTAxJzogJ0ZJV0MnLAogICAgICAgICAgICAnaHlk
cm9waG9iaWNpdHlfRU5HRDg2MDEwMSc6ICdDVkxJTUYnLAogICAgICAgICAgICAnaHlkcm9waG9iaWNp
dHlfRkFTRzg5MDEwMSc6ICdBWUhXVk1GTElDJywKICAgICAgICAgICAgJ25vcm13YWFsc3ZvbHVtZSc6
ICdNSEtGUllXJywKICAgICAgICAgICAgJ3BvbGFyaXR5JzogJ0hRUktORUQnLAogICAgICAgICAgICAn
cG9sYXJpemFiaWxpdHknOiAnS01IRlJZVycsCiAgICAgICAgICAgICdjaGFyZ2UnOiAnREUnLAogICAg
ICAgICAgICAnc2Vjb25kYXJ5c3RydWN0JzogJ0dOUFNEJywKICAgICAgICAgICAgJ3NvbHZlbnRhY2Nl
c3MnOiAnTVNQVEhZJwogICAgICAgIH0KCiAgICAgICAgZ3JvdXBzID0gW2dyb3VwMSwgZ3JvdXAyLCBn
cm91cDNdCiAgICAgICAgcHJvcGVydHkgPSAoCiAgICAgICAgICAgICdoeWRyb3Bob2JpY2l0eV9QUkFN
OTAwMTAxJywgJ2h5ZHJvcGhvYmljaXR5X0FSR1A4MjAxMDEnLCAnaHlkcm9waG9iaWNpdHlfWklNSjY4
MDEwMScsCiAgICAgICAgICAgICdoeWRyb3Bob2JpY2l0eV9QT05QOTMwMTAxJywKICAgICAgICAgICAg
J2h5ZHJvcGhvYmljaXR5X0NBU0c5MjAxMDEnLCAnaHlkcm9waG9iaWNpdHlfRU5HRDg2MDEwMScsICdo
eWRyb3Bob2JpY2l0eV9GQVNHODkwMTAxJywgJ25vcm13YWFsc3ZvbHVtZScsCiAgICAgICAgICAgICdw
b2xhcml0eScsICdwb2xhcml6YWJpbGl0eScsICdjaGFyZ2UnLCAnc2Vjb25kYXJ5c3RydWN0JywgJ3Nv
bHZlbnRhY2Nlc3MnKQoKICAgICAgICBlbmNvZGluZ3MgPSBbXQogICAgICAgIGhlYWRlciA9IFsnU2Ft
cGxlTmFtZScsICdsYWJlbCddCiAgICAgICAgZm9yIHAgaW4gcHJvcGVydHk6CiAgICAgICAgICAgIGZv
ciBnIGluIHJhbmdlKDEsIGxlbihncm91cHMpICsgMSk6CiAgICAgICAgICAgICAgICBoZWFkZXIuYXBw
ZW5kKHAgKyAnLkcnICsgc3RyKGcpKQogICAgICAgIGVuY29kaW5ncy5hcHBlbmQoaGVhZGVyKQogICAg
ICAgIGZvciBpIGluIHNlbGYuZmFzdGFfbGlzdDoKICAgICAgICAgICAgbmFtZSwgc2VxdWVuY2UsIGxh
YmVsID0gaVswXSwgcmUuc3ViKCctJywgJycsIGlbMV0pLCBpWzJdCiAgICAgICAgICAgIGNvZGUgPSBb
bmFtZSwgbGFiZWxdCiAgICAgICAgICAgIGZvciBwIGluIHByb3BlcnR5OgogICAgICAgICAgICAgICAg
YzEgPSBzZWxmLkNvdW50KGdyb3VwMVtwXSwgc2VxdWVuY2UpIC8gbGVuKHNlcXVlbmNlKQogICAgICAg
ICAgICAgICAgYzIgPSBzZWxmLkNvdW50KGdyb3VwMltwXSwgc2VxdWVuY2UpIC8gbGVuKHNlcXVlbmNl
KQogICAgICAgICAgICAgICAgYzMgPSAxIC0gYzEgLSBjMgogICAgICAgICAgICAgICAgY29kZSA9IGNv
ZGUgKyBbYzEsIGMyLCBjM10KICAgICAgICAgICAgZW5jb2RpbmdzLmFwcGVuZChjb2RlKQoKICAgICAg
ICBzZWxmLmVuY29kaW5nX2FycmF5ID0gbnAuYXJyYXkoW10pCiAgICAgICAgc2VsZi5lbmNvZGluZ19h
cnJheSA9IG5wLmFycmF5KGVuY29kaW5ncywgZHR5cGU9c3RyKQogICAgICAgIHNlbGYuY29sdW1uID0g
c2VsZi5lbmNvZGluZ19hcnJheS5zaGFwZVsxXQogICAgICAgIHNlbGYucm93ID0gc2VsZi5lbmNvZGlu
Z19hcnJheS5zaGFwZVswXSAtIDEKICAgICAgICBkZWwgZW5jb2RpbmdzCiAgICAgICAgaWYgc2VsZi5l
bmNvZGluZ19hcnJheS5zaGFwZVswXSA+IDE6CiAgICAgICAgICAgIHJldHVybiBUcnVlCiAgICAgICAg
ZWxzZToKICAgICAgICAgICAgcmV0dXJuIEZhbHNlCgogICAgZGVmIFByb3RlaW5fQ1REVChzZWxmKToK
ICAgICAgICBncm91cDEgPSB7CiAgICAgICAgICAgICdoeWRyb3Bob2JpY2l0eV9QUkFNOTAwMTAxJzog
J1JLRURRTicsCiAgICAgICAgICAgICdoeWRyb3Bob2JpY2l0eV9BUkdQODIwMTAxJzogJ1FTVE5HREUn
LAogICAgICAgICAgICAnaHlkcm9waG9iaWNpdHlfWklNSjY4MDEwMSc6ICdRTkdTV1RERVJBJywKICAg
ICAgICAgICAgJ2h5ZHJvcGhvYmljaXR5X1BPTlA5MzAxMDEnOiAnS1BERVNOUVQnLAogICAgICAgICAg
ICAnaHlkcm9waG9iaWNpdHlfQ0FTRzkyMDEwMSc6ICdLREVRUFNSTlRHJywKICAgICAgICAgICAgJ2h5
ZHJvcGhvYmljaXR5X0VOR0Q4NjAxMDEnOiAnUkRLRU5RSFlQJywKICAgICAgICAgICAgJ2h5ZHJvcGhv
YmljaXR5X0ZBU0c4OTAxMDEnOiAnS0VSU1FEJywKICAgICAgICAgICAgJ25vcm13YWFsc3ZvbHVtZSc6
ICdHQVNUUERDJywKICAgICAgICAgICAgJ3BvbGFyaXR5JzogJ0xJRldDTVZZJywKICAgICAgICAgICAg
J3BvbGFyaXphYmlsaXR5JzogJ0dBU0RUJywKICAgICAgICAgICAgJ2NoYXJnZSc6ICdLUicsCiAgICAg
ICAgICAgICdzZWNvbmRhcnlzdHJ1Y3QnOiAnRUFMTVFLUkgnLAogICAgICAgICAgICAnc29sdmVudGFj
Y2Vzcyc6ICdBTEZDR0lWVycKICAgICAgICB9CiAgICAgICAgZ3JvdXAyID0gewogICAgICAgICAgICAn
aHlkcm9waG9iaWNpdHlfUFJBTTkwMDEwMSc6ICdHQVNUUEhZJywKICAgICAgICAgICAgJ2h5ZHJvcGhv
YmljaXR5X0FSR1A4MjAxMDEnOiAnUkFIQ0tNVicsCiAgICAgICAgICAgICdoeWRyb3Bob2JpY2l0eV9a
SU1KNjgwMTAxJzogJ0hNQ0tWJywKICAgICAgICAgICAgJ2h5ZHJvcGhvYmljaXR5X1BPTlA5MzAxMDEn
OiAnR1JIQScsCiAgICAgICAgICAgICdoeWRyb3Bob2JpY2l0eV9DQVNHOTIwMTAxJzogJ0FIWU1MVics
CiAgICAgICAgICAgICdoeWRyb3Bob2JpY2l0eV9FTkdEODYwMTAxJzogJ1NHVEFXJywKICAgICAgICAg
ICAgJ2h5ZHJvcGhvYmljaXR5X0ZBU0c4OTAxMDEnOiAnTlRQRycsCiAgICAgICAgICAgICdub3Jtd2Fh
bHN2b2x1bWUnOiAnTlZFUUlMJywKICAgICAgICAgICAgJ3BvbGFyaXR5JzogJ1BBVEdTJywKICAgICAg
ICAgICAgJ3BvbGFyaXphYmlsaXR5JzogJ0NQTlZFUUlMJywKICAgICAgICAgICAgJ2NoYXJnZSc6ICdB
TkNRR0hJTE1GUFNUV1lWJywKICAgICAgICAgICAgJ3NlY29uZGFyeXN0cnVjdCc6ICdWSVlDV0ZUJywK
ICAgICAgICAgICAgJ3NvbHZlbnRhY2Nlc3MnOiAnUktRRU5EJwogICAgICAgIH0KICAgICAgICBncm91
cDMgPSB7CiAgICAgICAgICAgICdoeWRyb3Bob2JpY2l0eV9QUkFNOTAwMTAxJzogJ0NMVklNRlcnLAog
ICAgICAgICAgICAnaHlkcm9waG9iaWNpdHlfQVJHUDgyMDEwMSc6ICdMWVBGSVcnLAogICAgICAgICAg
ICAnaHlkcm9waG9iaWNpdHlfWklNSjY4MDEwMSc6ICdMUEZZSScsCiAgICAgICAgICAgICdoeWRyb3Bo
b2JpY2l0eV9QT05QOTMwMTAxJzogJ1lNRldMQ1ZJJywKICAgICAgICAgICAgJ2h5ZHJvcGhvYmljaXR5
X0NBU0c5MjAxMDEnOiAnRklXQycsCiAgICAgICAgICAgICdoeWRyb3Bob2JpY2l0eV9FTkdEODYwMTAx
JzogJ0NWTElNRicsCiAgICAgICAgICAgICdoeWRyb3Bob2JpY2l0eV9GQVNHODkwMTAxJzogJ0FZSFdW
TUZMSUMnLAogICAgICAgICAgICAnbm9ybXdhYWxzdm9sdW1lJzogJ01IS0ZSWVcnLAogICAgICAgICAg
ICAncG9sYXJpdHknOiAnSFFSS05FRCcsCiAgICAgICAgICAgICdwb2xhcml6YWJpbGl0eSc6ICdLTUhG
UllXJywKICAgICAgICAgICAgJ2NoYXJnZSc6ICdERScsCiAgICAgICAgICAgICdzZWNvbmRhcnlzdHJ1
Y3QnOiAnR05QU0QnLAogICAgICAgICAgICAnc29sdmVudGFjY2Vzcyc6ICdNU1BUSFknCiAgICAgICAg
fQoKICAgICAgICBncm91cHMgPSBbZ3JvdXAxLCBncm91cDIsIGdyb3VwM10KICAgICAgICBwcm9wZXJ0
eSA9ICgKICAgICAgICAgICAgJ2h5ZHJvcGhvYmljaXR5X1BSQU05MDAxMDEnLCAnaHlkcm9waG9iaWNp
dHlfQVJHUDgyMDEwMScsICdoeWRyb3Bob2JpY2l0eV9aSU1KNjgwMTAxJywKICAgICAgICAgICAgJ2h5
ZHJvcGhvYmljaXR5X1BPTlA5MzAxMDEnLAogICAgICAgICAgICAnaHlkcm9waG9iaWNpdHlfQ0FTRzky
MDEwMScsICdoeWRyb3Bob2JpY2l0eV9FTkdEODYwMTAxJywgJ2h5ZHJvcGhvYmljaXR5X0ZBU0c4OTAx
MDEnLCAnbm9ybXdhYWxzdm9sdW1lJywKICAgICAgICAgICAgJ3BvbGFyaXR5JywgJ3BvbGFyaXphYmls
aXR5JywgJ2NoYXJnZScsICdzZWNvbmRhcnlzdHJ1Y3QnLCAnc29sdmVudGFjY2VzcycpCgogICAgICAg
IGVuY29kaW5ncyA9IFtdCiAgICAgICAgaGVhZGVyID0gWydTYW1wbGVOYW1lJywgJ2xhYmVsJ10KICAg
ICAgICBmb3IgcCBpbiBwcm9wZXJ0eToKICAgICAgICAgICAgZm9yIHRyIGluICgnVHIxMjIxJywgJ1Ry
MTMzMScsICdUcjIzMzInKToKICAgICAgICAgICAgICAgIGhlYWRlci5hcHBlbmQocCArICcuJyArIHRy
KQogICAgICAgIGVuY29kaW5ncy5hcHBlbmQoaGVhZGVyKQoKICAgICAgICBmb3IgaSBpbiBzZWxmLmZh
c3RhX2xpc3Q6CiAgICAgICAgICAgIG5hbWUsIHNlcXVlbmNlLCBsYWJlbCA9IGlbMF0sIHJlLnN1Yign
LScsICcnLCBpWzFdKSwgaVsyXQogICAgICAgICAgICBjb2RlID0gW25hbWUsIGxhYmVsXQogICAgICAg
ICAgICBhYVBhaXIgPSBbc2VxdWVuY2VbajpqICsgMl0gZm9yIGogaW4gcmFuZ2UobGVuKHNlcXVlbmNl
KSAtIDEpXQogICAgICAgICAgICBmb3IgcCBpbiBwcm9wZXJ0eToKICAgICAgICAgICAgICAgIGMxMjIx
LCBjMTMzMSwgYzIzMzIgPSAwLCAwLCAwCiAgICAgICAgICAgICAgICBmb3IgcGFpciBpbiBhYVBhaXI6
CiAgICAgICAgICAgICAgICAgICAgaWYgKHBhaXJbMF0gaW4gZ3JvdXAxW3BdIGFuZCBwYWlyWzFdIGlu
IGdyb3VwMltwXSkgb3IgKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFpclswXSBpbiBncm91
cDJbcF0gYW5kIHBhaXJbMV0gaW4gZ3JvdXAxW3BdKToKICAgICAgICAgICAgICAgICAgICAgICAgYzEy
MjEgPSBjMTIyMSArIDEKICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWUKICAgICAgICAgICAg
ICAgICAgICBpZiAocGFpclswXSBpbiBncm91cDFbcF0gYW5kIHBhaXJbMV0gaW4gZ3JvdXAzW3BdKSBv
ciAoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWlyWzBdIGluIGdyb3VwM1twXSBhbmQgcGFp
clsxXSBpbiBncm91cDFbcF0pOgogICAgICAgICAgICAgICAgICAgICAgICBjMTMzMSA9IGMxMzMxICsg
MQogICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICAgICAgICAgICAgIGlmIChw
YWlyWzBdIGluIGdyb3VwMltwXSBhbmQgcGFpclsxXSBpbiBncm91cDNbcF0pIG9yICgKICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIHBhaXJbMF0gaW4gZ3JvdXAzW3BdIGFuZCBwYWlyWzFdIGluIGdyb3Vw
MltwXSk6CiAgICAgICAgICAgICAgICAgICAgICAgIGMyMzMyID0gYzIzMzIgKyAxCiAgICAgICAgICAg
ICAgICBjb2RlID0gY29kZSArIFtjMTIyMSAvIGxlbihhYVBhaXIpLCBjMTMzMSAvIGxlbihhYVBhaXIp
LCBjMjMzMiAvIGxlbihhYVBhaXIpXQogICAgICAgICAgICBlbmNvZGluZ3MuYXBwZW5kKGNvZGUpCgog
ICAgICAgIHNlbGYuZW5jb2RpbmdfYXJyYXkgPSBucC5hcnJheShbXSkKICAgICAgICBzZWxmLmVuY29k
aW5nX2FycmF5ID0gbnAuYXJyYXkoZW5jb2RpbmdzLCBkdHlwZT1zdHIpCiAgICAgICAgc2VsZi5jb2x1
bW4gPSBzZWxmLmVuY29kaW5nX2FycmF5LnNoYXBlWzFdCiAgICAgICAgc2VsZi5yb3cgPSBzZWxmLmVu
Y29kaW5nX2FycmF5LnNoYXBlWzBdIC0gMQogICAgICAgIGRlbCBlbmNvZGluZ3MKICAgICAgICBpZiBz
ZWxmLmVuY29kaW5nX2FycmF5LnNoYXBlWzBdID4gMToKICAgICAgICAgICAgcmV0dXJuIFRydWUKICAg
ICAgICBlbHNlOgogICAgICAgICAgICByZXR1cm4gRmFsc2UKCiAgICBkZWYgQ291bnQxKHNlbGYsIGFh
U2V0LCBzZXF1ZW5jZSk6CiAgICAgICAgbnVtYmVyID0gMAogICAgICAgIGZvciBhYSBpbiBzZXF1ZW5j
ZToKICAgICAgICAgICAgaWYgYWEgaW4gYWFTZXQ6CiAgICAgICAgICAgICAgICBudW1iZXIgPSBudW1i
ZXIgKyAxCiAgICAgICAgY3V0b2ZmTnVtcyA9IFsxLCBtYXRoLmZsb29yKDAuMjUgKiBudW1iZXIpLCBt
YXRoLmZsb29yKDAuNTAgKiBudW1iZXIpLCBtYXRoLmZsb29yKDAuNzUgKiBudW1iZXIpLCBudW1iZXJd
CiAgICAgICAgY3V0b2ZmTnVtcyA9IFtpIGlmIGkgPj0gMSBlbHNlIDEgZm9yIGkgaW4gY3V0b2ZmTnVt
c10KCiAgICAgICAgY29kZSA9IFtdCiAgICAgICAgZm9yIGN1dG9mZiBpbiBjdXRvZmZOdW1zOgogICAg
ICAgICAgICBteUNvdW50ID0gMAogICAgICAgICAgICBmb3IgaSBpbiByYW5nZShsZW4oc2VxdWVuY2Up
KToKICAgICAgICAgICAgICAgIGlmIHNlcXVlbmNlW2ldIGluIGFhU2V0OgogICAgICAgICAgICAgICAg
ICAgIG15Q291bnQgKz0gMQogICAgICAgICAgICAgICAgICAgIGlmIG15Q291bnQgPT0gY3V0b2ZmOgog
ICAgICAgICAgICAgICAgICAgICAgICBjb2RlLmFwcGVuZCgoaSArIDEpIC8gbGVuKHNlcXVlbmNlKSAq
IDEwMCkKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgaWYgbXlDb3VudCA9
PSAwOgogICAgICAgICAgICAgICAgY29kZS5hcHBlbmQoMCkKICAgICAgICByZXR1cm4gY29kZQoKICAg
IGRlZiBQcm90ZWluX0NUREQoc2VsZik6CiAgICAgICAgZ3JvdXAxID0gewogICAgICAgICAgICAnaHlk
cm9waG9iaWNpdHlfUFJBTTkwMDEwMSc6ICdSS0VEUU4nLAogICAgICAgICAgICAnaHlkcm9waG9iaWNp
dHlfQVJHUDgyMDEwMSc6ICdRU1ROR0RFJywKICAgICAgICAgICAgJ2h5ZHJvcGhvYmljaXR5X1pJTUo2
ODAxMDEnOiAnUU5HU1dUREVSQScsCiAgICAgICAgICAgICdoeWRyb3Bob2JpY2l0eV9QT05QOTMwMTAx
JzogJ0tQREVTTlFUJywKICAgICAgICAgICAgJ2h5ZHJvcGhvYmljaXR5X0NBU0c5MjAxMDEnOiAnS0RF
UVBTUk5URycsCiAgICAgICAgICAgICdoeWRyb3Bob2JpY2l0eV9FTkdEODYwMTAxJzogJ1JES0VOUUhZ
UCcsCiAgICAgICAgICAgICdoeWRyb3Bob2JpY2l0eV9GQVNHODkwMTAxJzogJ0tFUlNRRCcsCiAgICAg
ICAgICAgICdub3Jtd2FhbHN2b2x1bWUnOiAnR0FTVFBEQycsCiAgICAgICAgICAgICdwb2xhcml0eSc6
ICdMSUZXQ01WWScsCiAgICAgICAgICAgICdwb2xhcml6YWJpbGl0eSc6ICdHQVNEVCcsCiAgICAgICAg
ICAgICdjaGFyZ2UnOiAnS1InLAogICAgICAgICAgICAnc2Vjb25kYXJ5c3RydWN0JzogJ0VBTE1RS1JI
JywKICAgICAgICAgICAgJ3NvbHZlbnRhY2Nlc3MnOiAnQUxGQ0dJVlcnCiAgICAgICAgfQogICAgICAg
IGdyb3VwMiA9IHsKICAgICAgICAgICAgJ2h5ZHJvcGhvYmljaXR5X1BSQU05MDAxMDEnOiAnR0FTVFBI
WScsCiAgICAgICAgICAgICdoeWRyb3Bob2JpY2l0eV9BUkdQODIwMTAxJzogJ1JBSENLTVYnLAogICAg
ICAgICAgICAnaHlkcm9waG9iaWNpdHlfWklNSjY4MDEwMSc6ICdITUNLVicsCiAgICAgICAgICAgICdo
eWRyb3Bob2JpY2l0eV9QT05QOTMwMTAxJzogJ0dSSEEnLAogICAgICAgICAgICAnaHlkcm9waG9iaWNp
dHlfQ0FTRzkyMDEwMSc6ICdBSFlNTFYnLAogICAgICAgICAgICAnaHlkcm9waG9iaWNpdHlfRU5HRDg2
MDEwMSc6ICdTR1RBVycsCiAgICAgICAgICAgICdoeWRyb3Bob2JpY2l0eV9GQVNHODkwMTAxJzogJ05U
UEcnLAogICAgICAgICAgICAnbm9ybXdhYWxzdm9sdW1lJzogJ05WRVFJTCcsCiAgICAgICAgICAgICdw
b2xhcml0eSc6ICdQQVRHUycsCiAgICAgICAgICAgICdwb2xhcml6YWJpbGl0eSc6ICdDUE5WRVFJTCcs
CiAgICAgICAgICAgICdjaGFyZ2UnOiAnQU5DUUdISUxNRlBTVFdZVicsCiAgICAgICAgICAgICdzZWNv
bmRhcnlzdHJ1Y3QnOiAnVklZQ1dGVCcsCiAgICAgICAgICAgICdzb2x2ZW50YWNjZXNzJzogJ1JLUUVO
RCcKICAgICAgICB9CiAgICAgICAgZ3JvdXAzID0gewogICAgICAgICAgICAnaHlkcm9waG9iaWNpdHlf
UFJBTTkwMDEwMSc6ICdDTFZJTUZXJywKICAgICAgICAgICAgJ2h5ZHJvcGhvYmljaXR5X0FSR1A4MjAx
MDEnOiAnTFlQRklXJywKICAgICAgICAgICAgJ2h5ZHJvcGhvYmljaXR5X1pJTUo2ODAxMDEnOiAnTFBG
WUknLAogICAgICAgICAgICAnaHlkcm9waG9iaWNpdHlfUE9OUDkzMDEwMSc6ICdZTUZXTENWSScsCiAg
ICAgICAgICAgICdoeWRyb3Bob2JpY2l0eV9DQVNHOTIwMTAxJzogJ0ZJV0MnLAogICAgICAgICAgICAn
aHlkcm9waG9iaWNpdHlfRU5HRDg2MDEwMSc6ICdDVkxJTUYnLAogICAgICAgICAgICAnaHlkcm9waG9i
aWNpdHlfRkFTRzg5MDEwMSc6ICdBWUhXVk1GTElDJywKICAgICAgICAgICAgJ25vcm13YWFsc3ZvbHVt
ZSc6ICdNSEtGUllXJywKICAgICAgICAgICAgJ3BvbGFyaXR5JzogJ0hRUktORUQnLAogICAgICAgICAg
ICAncG9sYXJpemFiaWxpdHknOiAnS01IRlJZVycsCiAgICAgICAgICAgICdjaGFyZ2UnOiAnREUnLAog
ICAgICAgICAgICAnc2Vjb25kYXJ5c3RydWN0JzogJ0dOUFNEJywKICAgICAgICAgICAgJ3NvbHZlbnRh
Y2Nlc3MnOiAnTVNQVEhZJwogICAgICAgIH0KCiAgICAgICAgZ3JvdXBzID0gW2dyb3VwMSwgZ3JvdXAy
LCBncm91cDNdCiAgICAgICAgcHJvcGVydHkgPSAoCiAgICAgICAgICAgICdoeWRyb3Bob2JpY2l0eV9Q
UkFNOTAwMTAxJywgJ2h5ZHJvcGhvYmljaXR5X0FSR1A4MjAxMDEnLCAnaHlkcm9waG9iaWNpdHlfWklN
SjY4MDEwMScsCiAgICAgICAgICAgICdoeWRyb3Bob2JpY2l0eV9QT05QOTMwMTAxJywKICAgICAgICAg
ICAgJ2h5ZHJvcGhvYmljaXR5X0NBU0c5MjAxMDEnLCAnaHlkcm9waG9iaWNpdHlfRU5HRDg2MDEwMScs
ICdoeWRyb3Bob2JpY2l0eV9GQVNHODkwMTAxJywgJ25vcm13YWFsc3ZvbHVtZScsCiAgICAgICAgICAg
ICdwb2xhcml0eScsICdwb2xhcml6YWJpbGl0eScsICdjaGFyZ2UnLCAnc2Vjb25kYXJ5c3RydWN0Jywg
J3NvbHZlbnRhY2Nlc3MnKQoKICAgICAgICBlbmNvZGluZ3MgPSBbXQogICAgICAgIGhlYWRlciA9IFsn
U2FtcGxlTmFtZScsICdsYWJlbCddCiAgICAgICAgZm9yIHAgaW4gcHJvcGVydHk6CiAgICAgICAgICAg
IGZvciBnIGluICgnMScsICcyJywgJzMnKToKICAgICAgICAgICAgICAgIGZvciBkIGluIFsnMCcsICcy
NScsICc1MCcsICc3NScsICcxMDAnXToKICAgICAgICAgICAgICAgICAgICBoZWFkZXIuYXBwZW5kKHAg
KyAnLicgKyBnICsgJy5yZXNpZHVlJyArIGQpCiAgICAgICAgZW5jb2RpbmdzLmFwcGVuZChoZWFkZXIp
CgogICAgICAgIGZvciBpIGluIHNlbGYuZmFzdGFfbGlzdDoKICAgICAgICAgICAgbmFtZSwgc2VxdWVu
Y2UsIGxhYmVsID0gaVswXSwgcmUuc3ViKCctJywgJycsIGlbMV0pLCBpWzJdCiAgICAgICAgICAgIGNv
ZGUgPSBbbmFtZSwgbGFiZWxdCiAgICAgICAgICAgIGZvciBwIGluIHByb3BlcnR5OgogICAgICAgICAg
ICAgICAgY29kZSA9IGNvZGUgKyBzZWxmLkNvdW50MShncm91cDFbcF0sIHNlcXVlbmNlKSArIHNlbGYu
Q291bnQxKGdyb3VwMltwXSwgc2VxdWVuY2UpICsgc2VsZi5Db3VudDEoCiAgICAgICAgICAgICAgICAg
ICAgZ3JvdXAzW3BdLCBzZXF1ZW5jZSkKICAgICAgICAgICAgZW5jb2RpbmdzLmFwcGVuZChjb2RlKQoK
ICAgICAgICBzZWxmLmVuY29kaW5nX2FycmF5ID0gbnAuYXJyYXkoW10pCiAgICAgICAgc2VsZi5lbmNv
ZGluZ19hcnJheSA9IG5wLmFycmF5KGVuY29kaW5ncywgZHR5cGU9c3RyKQogICAgICAgIHNlbGYuY29s
dW1uID0gc2VsZi5lbmNvZGluZ19hcnJheS5zaGFwZVsxXQogICAgICAgIHNlbGYucm93ID0gc2VsZi5l
bmNvZGluZ19hcnJheS5zaGFwZVswXSAtIDEKICAgICAgICBkZWwgZW5jb2RpbmdzCiAgICAgICAgaWYg
c2VsZi5lbmNvZGluZ19hcnJheS5zaGFwZVswXSA+IDE6CiAgICAgICAgICAgIHJldHVybiBUcnVlCiAg
ICAgICAgZWxzZToKICAgICAgICAgICAgcmV0dXJuIEZhbHNlCgogICAgZGVmIENhbGN1bGF0ZUtTQ1Ry
aWFkKHNlbGYsIHNlcXVlbmNlLCBnYXAsIGZlYXR1cmVzLCBBQURpY3QpOgogICAgICAgIHJlcyA9IFtd
CiAgICAgICAgZm9yIGcgaW4gcmFuZ2UoZ2FwICsgMSk6CiAgICAgICAgICAgIG15RGljdCA9IHt9CiAg
ICAgICAgICAgIGZvciBmIGluIGZlYXR1cmVzOgogICAgICAgICAgICAgICAgbXlEaWN0W2ZdID0gMAoK
ICAgICAgICAgICAgZm9yIGkgaW4gcmFuZ2UobGVuKHNlcXVlbmNlKSk6CiAgICAgICAgICAgICAgICBp
ZiBpICsgZyArIDEgPCBsZW4oc2VxdWVuY2UpIGFuZCBpICsgMiAqIGcgKyAyIDwgbGVuKHNlcXVlbmNl
KToKICAgICAgICAgICAgICAgICAgICBmZWEgPSBBQURpY3Rbc2VxdWVuY2VbaV1dICsgJy4nICsgQUFE
aWN0W3NlcXVlbmNlW2kgKyBnICsgMV1dICsgJy4nICsgQUFEaWN0WwogICAgICAgICAgICAgICAgICAg
ICAgICBzZXF1ZW5jZVtpICsgMiAqIGcgKyAyXV0KICAgICAgICAgICAgICAgICAgICBteURpY3RbZmVh
XSA9IG15RGljdFtmZWFdICsgMQoKICAgICAgICAgICAgbWF4VmFsdWUsIG1pblZhbHVlID0gbWF4KG15
RGljdC52YWx1ZXMoKSksIG1pbihteURpY3QudmFsdWVzKCkpCiAgICAgICAgICAgIGZvciBmIGluIGZl
YXR1cmVzOgogICAgICAgICAgICAgICAgcmVzLmFwcGVuZCgobXlEaWN0W2ZdIC0gbWluVmFsdWUpIC8g
bWF4VmFsdWUpCiAgICAgICAgcmV0dXJuIHJlcwoKICAgIGRlZiBQcm90ZWluX0NUcmlhZChzZWxmKToK
ICAgICAgICBpZiBzZWxmLm1pbmltdW1fbGVuZ3RoX3dpdGhvdXRfbWludXMgPCAzOgogICAgICAgICAg
ICBzZWxmLmVycm9yX21zZyA9ICdDVHJpYWQgZGVzY3JpcHRvciBuZWVkIGZhc3RhIHNlcXVlbmNlIHdp
dGggbWluaW11bSBsZW5ndGggPiAzLicKICAgICAgICAgICAgcmV0dXJuIEZhbHNlCgogICAgICAgIEFB
R3JvdXAgPSB7CiAgICAgICAgICAgICdnMSc6ICdBR1YnLAogICAgICAgICAgICAnZzInOiAnSUxGUCcs
CiAgICAgICAgICAgICdnMyc6ICdZTVRTJywKICAgICAgICAgICAgJ2c0JzogJ0hOUVcnLAogICAgICAg
ICAgICAnZzUnOiAnUksnLAogICAgICAgICAgICAnZzYnOiAnREUnLAogICAgICAgICAgICAnZzcnOiAn
QycKICAgICAgICB9CgogICAgICAgIG15R3JvdXBzID0gc29ydGVkKEFBR3JvdXAua2V5cygpKQoKICAg
ICAgICBBQURpY3QgPSB7fQogICAgICAgIGZvciBnIGluIG15R3JvdXBzOgogICAgICAgICAgICBmb3Ig
YWEgaW4gQUFHcm91cFtnXToKICAgICAgICAgICAgICAgIEFBRGljdFthYV0gPSBnCgogICAgICAgIGZl
YXR1cmVzID0gW2YxICsgJy4nICsgZjIgKyAnLicgKyBmMyBmb3IgZjEgaW4gbXlHcm91cHMgZm9yIGYy
IGluIG15R3JvdXBzIGZvciBmMyBpbiBteUdyb3Vwc10KCiAgICAgICAgZW5jb2RpbmdzID0gW10KICAg
ICAgICBoZWFkZXIgPSBbJ1NhbXBsZU5hbWUnLCAnbGFiZWwnXQogICAgICAgIGZvciBmIGluIGZlYXR1
cmVzOgogICAgICAgICAgICBoZWFkZXIuYXBwZW5kKGYpCiAgICAgICAgZW5jb2RpbmdzLmFwcGVuZCho
ZWFkZXIpCgogICAgICAgIGZvciBpIGluIHNlbGYuZmFzdGFfbGlzdDoKICAgICAgICAgICAgbmFtZSwg
c2VxdWVuY2UsIGxhYmVsID0gaVswXSwgcmUuc3ViKCctJywgJycsIGlbMV0pLCBpWzJdCiAgICAgICAg
ICAgIGNvZGUgPSBbbmFtZSwgbGFiZWxdCiAgICAgICAgICAgIGNvZGUgPSBjb2RlICsgc2VsZi5DYWxj
dWxhdGVLU0NUcmlhZChzZXF1ZW5jZSwgMCwgZmVhdHVyZXMsIEFBRGljdCkKICAgICAgICAgICAgZW5j
b2RpbmdzLmFwcGVuZChjb2RlKQogICAgICAgIHNlbGYuZW5jb2RpbmdfYXJyYXkgPSBucC5hcnJheShb
XSkKICAgICAgICBzZWxmLmVuY29kaW5nX2FycmF5ID0gbnAuYXJyYXkoZW5jb2RpbmdzLCBkdHlwZT1z
dHIpCiAgICAgICAgc2VsZi5jb2x1bW4gPSBzZWxmLmVuY29kaW5nX2FycmF5LnNoYXBlWzFdCiAgICAg
ICAgc2VsZi5yb3cgPSBzZWxmLmVuY29kaW5nX2FycmF5LnNoYXBlWzBdIC0gMQogICAgICAgIGRlbCBl
bmNvZGluZ3MKICAgICAgICBpZiBzZWxmLmVuY29kaW5nX2FycmF5LnNoYXBlWzBdID4gMToKICAgICAg
ICAgICAgcmV0dXJuIFRydWUKICAgICAgICBlbHNlOgogICAgICAgICAgICByZXR1cm4gRmFsc2UKCiAg
ICBkZWYgUHJvdGVpbl9LU0NUcmlhZChzZWxmKToKICAgICAgICBnYXAgPSBzZWxmLmt3Wydrc3BhY2Un
XQogICAgICAgIGlmIHNlbGYubWluaW11bV9sZW5ndGhfd2l0aG91dF9taW51cyA8IDIgKiBnYXAgKyAz
OgogICAgICAgICAgICBzZWxmLmVycm9yX21zZyA9ICdLU0NUcmlhZCIgZW5jb2RpbmcsIHRoZSBpbnB1
dCBmYXN0YSBzZXF1ZW5jZXMgc2hvdWxkIGJlIGdyZWF0ZXIgdGhhbiAoMipnYXArMykuJwogICAgICAg
ICAgICByZXR1cm4gRmFsc2UKCiAgICAgICAgQUFHcm91cCA9IHsKICAgICAgICAgICAgJ2cxJzogJ0FH
VicsCiAgICAgICAgICAgICdnMic6ICdJTEZQJywKICAgICAgICAgICAgJ2czJzogJ1lNVFMnLAogICAg
ICAgICAgICAnZzQnOiAnSE5RVycsCiAgICAgICAgICAgICdnNSc6ICdSSycsCiAgICAgICAgICAgICdn
Nic6ICdERScsCiAgICAgICAgICAgICdnNyc6ICdDJwogICAgICAgIH0KCiAgICAgICAgbXlHcm91cHMg
PSBzb3J0ZWQoQUFHcm91cC5rZXlzKCkpCgogICAgICAgIEFBRGljdCA9IHt9CiAgICAgICAgZm9yIGcg
aW4gbXlHcm91cHM6CiAgICAgICAgICAgIGZvciBhYSBpbiBBQUdyb3VwW2ddOgogICAgICAgICAgICAg
ICAgQUFEaWN0W2FhXSA9IGcKCiAgICAgICAgZmVhdHVyZXMgPSBbZjEgKyAnLicgKyBmMiArICcuJyAr
IGYzIGZvciBmMSBpbiBteUdyb3VwcyBmb3IgZjIgaW4gbXlHcm91cHMgZm9yIGYzIGluIG15R3JvdXBz
XQoKICAgICAgICBlbmNvZGluZ3MgPSBbXQogICAgICAgIGhlYWRlciA9IFsnU2FtcGxlTmFtZScsICds
YWJlbCddCiAgICAgICAgZm9yIGcgaW4gcmFuZ2UoZ2FwICsgMSk6CiAgICAgICAgICAgIGZvciBmIGlu
IGZlYXR1cmVzOgogICAgICAgICAgICAgICAgaGVhZGVyLmFwcGVuZChmICsgJy5nYXAnICsgc3RyKGcp
KQogICAgICAgIGVuY29kaW5ncy5hcHBlbmQoaGVhZGVyKQoKICAgICAgICBmb3IgaSBpbiBzZWxmLmZh
c3RhX2xpc3Q6CiAgICAgICAgICAgIG5hbWUsIHNlcXVlbmNlLCBsYWJlbCA9IGlbMF0sIHJlLnN1Yign
LScsICcnLCBpWzFdKSwgaVsyXQogICAgICAgICAgICBjb2RlID0gW25hbWUsIGxhYmVsXQogICAgICAg
ICAgICBpZiBsZW4oc2VxdWVuY2UpIDwgMiAqIGdhcCArIDM6CiAgICAgICAgICAgICAgICBwcmludCgK
ICAgICAgICAgICAgICAgICAgICAnRXJyb3I6IGZvciAiS1NDVHJpYWQiIGVuY29kaW5nLCB0aGUgaW5w
dXQgZmFzdGEgc2VxdWVuY2VzIHNob3VsZCBiZSBncmVhdGVyIHRoYW4gKDIqZ2FwKzMpLiBcblxuJykK
ICAgICAgICAgICAgICAgIHJldHVybiAwCiAgICAgICAgICAgIGNvZGUgPSBjb2RlICsgc2VsZi5DYWxj
dWxhdGVLU0NUcmlhZChzZXF1ZW5jZSwgZ2FwLCBmZWF0dXJlcywgQUFEaWN0KQogICAgICAgICAgICBl
bmNvZGluZ3MuYXBwZW5kKGNvZGUpCiAgICAgICAgc2VsZi5lbmNvZGluZ19hcnJheSA9IG5wLmFycmF5
KFtdKQogICAgICAgIHNlbGYuZW5jb2RpbmdfYXJyYXkgPSBucC5hcnJheShlbmNvZGluZ3MsIGR0eXBl
PXN0cikKICAgICAgICBzZWxmLmNvbHVtbiA9IHNlbGYuZW5jb2RpbmdfYXJyYXkuc2hhcGVbMV0KICAg
ICAgICBzZWxmLnJvdyA9IHNlbGYuZW5jb2RpbmdfYXJyYXkuc2hhcGVbMF0gLSAxCiAgICAgICAgZGVs
IGVuY29kaW5ncwogICAgICAgIGlmIHNlbGYuZW5jb2RpbmdfYXJyYXkuc2hhcGVbMF0gPiAxOgogICAg
ICAgICAgICByZXR1cm4gVHJ1ZQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJldHVybiBGYWxzZQoK
ICAgIGRlZiBQcm90ZWluX1NPQ051bWJlcihzZWxmKToKICAgICAgICBubGFnID0gc2VsZi5rd1snbmxh
ZyddCiAgICAgICAgZGF0YUZpbGUgPSBvcy5wYXRoLnNwbGl0KG9zLnBhdGgucmVhbHBhdGgoX19maWxl
X18pKVsKICAgICAgICAgICAgICAgICAgICAgICAwXSArIHInXGRhdGFcU2NobmVpZGVyLVdyZWRlLnR4
dCcgaWYgcGxhdGZvcm0uc3lzdGVtKCkgPT0gJ1dpbmRvd3MnIGVsc2UgXAogICAgICAgICAgICBvcy5w
YXRoLnNwbGl0KG9zLnBhdGgucmVhbHBhdGgoX19maWxlX18pKVswXSArIHInL2RhdGEvU2NobmVpZGVy
LVdyZWRlLnR4dCcKICAgICAgICBkYXRhRmlsZTEgPSBvcy5wYXRoLnNwbGl0KG9zLnBhdGgucmVhbHBh
dGgoX19maWxlX18pKVsKICAgICAgICAgICAgICAgICAgICAgICAgMF0gKyByJ1xkYXRhXEdyYW50aGFt
LnR4dCcgaWYgcGxhdGZvcm0uc3lzdGVtKCkgPT0gJ1dpbmRvd3MnIGVsc2UgXAogICAgICAgICAgICBv
cy5wYXRoLnNwbGl0KG9zLnBhdGgucmVhbHBhdGgoX19maWxlX18pKVswXSArIHInL2RhdGEvR3JhbnRo
YW0udHh0JwogICAgICAgIEFBID0gJ0FDREVGR0hJS0xNTlBRUlNUVldZJwogICAgICAgIEFBMSA9ICdB
Uk5EQ1FFR0hJTEtNRlBTVFdZVicKCiAgICAgICAgRGljdEFBID0ge30KICAgICAgICBmb3IgaSBpbiBy
YW5nZShsZW4oQUEpKToKICAgICAgICAgICAgRGljdEFBW0FBW2ldXSA9IGkKCiAgICAgICAgRGljdEFB
MSA9IHt9CiAgICAgICAgZm9yIGkgaW4gcmFuZ2UobGVuKEFBMSkpOgogICAgICAgICAgICBEaWN0QUEx
W0FBMVtpXV0gPSBpCgogICAgICAgIHdpdGggb3BlbihkYXRhRmlsZSkgYXMgZjoKICAgICAgICAgICAg
cmVjb3JkcyA9IGYucmVhZGxpbmVzKClbMTpdCiAgICAgICAgQUFEaXN0YW5jZSA9IFtdCiAgICAgICAg
Zm9yIGkgaW4gcmVjb3JkczoKICAgICAgICAgICAgYXJyYXkgPSBpLnJzdHJpcCgpLnNwbGl0KClbMTpd
IGlmIGkucnN0cmlwKCkgIT0gJycgZWxzZSBOb25lCiAgICAgICAgICAgIEFBRGlzdGFuY2UuYXBwZW5k
KGFycmF5KQogICAgICAgIEFBRGlzdGFuY2UgPSBucC5hcnJheSgKICAgICAgICAgICAgW2Zsb2F0KEFB
RGlzdGFuY2VbaV1bal0pIGZvciBpIGluIHJhbmdlKGxlbihBQURpc3RhbmNlKSkgZm9yIGogaW4gcmFu
Z2UobGVuKEFBRGlzdGFuY2VbaV0pKV0pLnJlc2hhcGUoCiAgICAgICAgICAgICgyMCwgMjApKQoKICAg
ICAgICB3aXRoIG9wZW4oZGF0YUZpbGUxKSBhcyBmOgogICAgICAgICAgICByZWNvcmRzID0gZi5yZWFk
bGluZXMoKVsxOl0KICAgICAgICBBQURpc3RhbmNlMSA9IFtdCiAgICAgICAgZm9yIGkgaW4gcmVjb3Jk
czoKICAgICAgICAgICAgYXJyYXkgPSBpLnJzdHJpcCgpLnNwbGl0KClbMTpdIGlmIGkucnN0cmlwKCkg
IT0gJycgZWxzZSBOb25lCiAgICAgICAgICAgIEFBRGlzdGFuY2UxLmFwcGVuZChhcnJheSkKICAgICAg
ICBBQURpc3RhbmNlMSA9IG5wLmFycmF5KAogICAgICAgICAgICBbZmxvYXQoQUFEaXN0YW5jZTFbaV1b
al0pIGZvciBpIGluIHJhbmdlKGxlbihBQURpc3RhbmNlMSkpIGZvciBqIGluIHJhbmdlKGxlbihBQURp
c3RhbmNlMVtpXSkpXSkucmVzaGFwZSgKICAgICAgICAgICAgKDIwLCAyMCkpCgogICAgICAgIGVuY29k
aW5ncyA9IFtdCiAgICAgICAgaGVhZGVyID0gWydTYW1wbGVOYW1lJywgJ2xhYmVsJ10KICAgICAgICBm
b3IgbiBpbiByYW5nZSgxLCBubGFnICsgMSk6CiAgICAgICAgICAgIGhlYWRlci5hcHBlbmQoJ1NjaG5l
aWRlci5sYWcnICsgc3RyKG4pKQogICAgICAgIGZvciBuIGluIHJhbmdlKDEsIG5sYWcgKyAxKToKICAg
ICAgICAgICAgaGVhZGVyLmFwcGVuZCgnZ0dyYW50aGFtLmxhZycgKyBzdHIobikpCiAgICAgICAgZW5j
b2RpbmdzLmFwcGVuZChoZWFkZXIpCgogICAgICAgIGZvciBpIGluIHNlbGYuZmFzdGFfbGlzdDoKICAg
ICAgICAgICAgbmFtZSwgc2VxdWVuY2UsIGxhYmVsID0gaVswXSwgcmUuc3ViKCctJywgJycsIGlbMV0p
LCBpWzJdCiAgICAgICAgICAgIGNvZGUgPSBbbmFtZSwgbGFiZWxdCiAgICAgICAgICAgIGZvciBuIGlu
IHJhbmdlKDEsIG5sYWcgKyAxKToKICAgICAgICAgICAgICAgIGNvZGUuYXBwZW5kKHN1bShbQUFEaXN0
YW5jZVtEaWN0QUFbc2VxdWVuY2Vbal1dXVtEaWN0QUFbc2VxdWVuY2VbaiArIG5dXV0gKiogMiBmb3Ig
aiBpbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5nZShsZW4oc2VxdWVuY2UpIC0g
bildKSAvIChsZW4oc2VxdWVuY2UpIC0gbikpCgogICAgICAgICAgICBmb3IgbiBpbiByYW5nZSgxLCBu
bGFnICsgMSk6CiAgICAgICAgICAgICAgICBjb2RlLmFwcGVuZChzdW0oW0FBRGlzdGFuY2UxW0RpY3RB
QTFbc2VxdWVuY2Vbal1dXVtEaWN0QUExW3NlcXVlbmNlW2ogKyBuXV1dICoqIDIgZm9yIGogaW4KICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2UobGVuKHNlcXVlbmNlKSAtIG4pXSkgLyAo
bGVuKHNlcXVlbmNlKSAtIG4pKQogICAgICAgICAgICBlbmNvZGluZ3MuYXBwZW5kKGNvZGUpCiAgICAg
ICAgc2VsZi5lbmNvZGluZ19hcnJheSA9IG5wLmFycmF5KFtdKQogICAgICAgIHNlbGYuZW5jb2Rpbmdf
YXJyYXkgPSBucC5hcnJheShlbmNvZGluZ3MsIGR0eXBlPXN0cikKICAgICAgICBzZWxmLmNvbHVtbiA9
IHNlbGYuZW5jb2RpbmdfYXJyYXkuc2hhcGVbMV0KICAgICAgICBzZWxmLnJvdyA9IHNlbGYuZW5jb2Rp
bmdfYXJyYXkuc2hhcGVbMF0gLSAxCiAgICAgICAgZGVsIGVuY29kaW5ncwogICAgICAgIGlmIHNlbGYu
ZW5jb2RpbmdfYXJyYXkuc2hhcGVbMF0gPiAxOgogICAgICAgICAgICByZXR1cm4gVHJ1ZQogICAgICAg
IGVsc2U6CiAgICAgICAgICAgIHJldHVybiBGYWxzZQoKICAgIGRlZiBQcm90ZWluX1FTT3JkZXIoc2Vs
Zik6CiAgICAgICAgbmxhZyA9IHNlbGYua3dbJ25sYWcnXQogICAgICAgIHcgPSBzZWxmLmt3Wyd3ZWln
aHQnXQoKICAgICAgICBpZiBubGFnID4gc2VsZi5taW5pbXVtX2xlbmd0aF93aXRob3V0X21pbnVzIC0g
MToKICAgICAgICAgICAgc2VsZi5lcnJvcl9tc2cgPSAnVGhlIGxhZyB2YWx1ZSBpcyBvdXQgb2YgcmFu
Z2UuJwogICAgICAgICAgICByZXR1cm4gRmFsc2UKCiAgICAgICAgZGF0YUZpbGUgPSBvcy5wYXRoLnNw
bGl0KG9zLnBhdGgucmVhbHBhdGgoX19maWxlX18pKVsKICAgICAgICAgICAgICAgICAgICAgICAwXSAr
IHInXGRhdGFcU2NobmVpZGVyLVdyZWRlLnR4dCcgaWYgcGxhdGZvcm0uc3lzdGVtKCkgPT0gJ1dpbmRv
d3MnIGVsc2UgXAogICAgICAgICAgICBvcy5wYXRoLnNwbGl0KG9zLnBhdGgucmVhbHBhdGgoX19maWxl
X18pKVswXSArIHInL2RhdGEvU2NobmVpZGVyLVdyZWRlLnR4dCcKICAgICAgICBkYXRhRmlsZTEgPSBv
cy5wYXRoLnNwbGl0KG9zLnBhdGgucmVhbHBhdGgoX19maWxlX18pKVsKICAgICAgICAgICAgICAgICAg
ICAgICAgMF0gKyByJ1xkYXRhXEdyYW50aGFtLnR4dCcgaWYgcGxhdGZvcm0uc3lzdGVtKCkgPT0gJ1dp
bmRvd3MnIGVsc2UgXAogICAgICAgICAgICBvcy5wYXRoLnNwbGl0KG9zLnBhdGgucmVhbHBhdGgoX19m
aWxlX18pKVswXSArIHInL2RhdGEvR3JhbnRoYW0udHh0JwogICAgICAgIEFBID0gJ0FDREVGR0hJS0xN
TlBRUlNUVldZJwogICAgICAgIEFBMSA9ICdBUk5EQ1FFR0hJTEtNRlBTVFdZVicKCiAgICAgICAgRGlj
dEFBID0ge30KICAgICAgICBmb3IgaSBpbiByYW5nZShsZW4oQUEpKToKICAgICAgICAgICAgRGljdEFB
W0FBW2ldXSA9IGkKCiAgICAgICAgRGljdEFBMSA9IHt9CiAgICAgICAgZm9yIGkgaW4gcmFuZ2UobGVu
KEFBMSkpOgogICAgICAgICAgICBEaWN0QUExW0FBMVtpXV0gPSBpCgogICAgICAgIHdpdGggb3Blbihk
YXRhRmlsZSkgYXMgZjoKICAgICAgICAgICAgcmVjb3JkcyA9IGYucmVhZGxpbmVzKClbMTpdCiAgICAg
ICAgQUFEaXN0YW5jZSA9IFtdCiAgICAgICAgZm9yIGkgaW4gcmVjb3JkczoKICAgICAgICAgICAgYXJy
YXkgPSBpLnJzdHJpcCgpLnNwbGl0KClbMTpdIGlmIGkucnN0cmlwKCkgIT0gJycgZWxzZSBOb25lCiAg
ICAgICAgICAgIEFBRGlzdGFuY2UuYXBwZW5kKGFycmF5KQogICAgICAgIEFBRGlzdGFuY2UgPSBucC5h
cnJheSgKICAgICAgICAgICAgW2Zsb2F0KEFBRGlzdGFuY2VbaV1bal0pIGZvciBpIGluIHJhbmdlKGxl
bihBQURpc3RhbmNlKSkgZm9yIGogaW4gcmFuZ2UobGVuKEFBRGlzdGFuY2VbaV0pKV0pLnJlc2hhcGUo
CiAgICAgICAgICAgICgyMCwgMjApKQoKICAgICAgICB3aXRoIG9wZW4oZGF0YUZpbGUxKSBhcyBmOgog
ICAgICAgICAgICByZWNvcmRzID0gZi5yZWFkbGluZXMoKVsxOl0KICAgICAgICBBQURpc3RhbmNlMSA9
IFtdCiAgICAgICAgZm9yIGkgaW4gcmVjb3JkczoKICAgICAgICAgICAgYXJyYXkgPSBpLnJzdHJpcCgp
LnNwbGl0KClbMTpdIGlmIGkucnN0cmlwKCkgIT0gJycgZWxzZSBOb25lCiAgICAgICAgICAgIEFBRGlz
dGFuY2UxLmFwcGVuZChhcnJheSkKICAgICAgICBBQURpc3RhbmNlMSA9IG5wLmFycmF5KAogICAgICAg
ICAgICBbZmxvYXQoQUFEaXN0YW5jZTFbaV1bal0pIGZvciBpIGluIHJhbmdlKGxlbihBQURpc3RhbmNl
MSkpIGZvciBqIGluIHJhbmdlKGxlbihBQURpc3RhbmNlMVtpXSkpXSkucmVzaGFwZSgKICAgICAgICAg
ICAgKDIwLCAyMCkpCgogICAgICAgIGVuY29kaW5ncyA9IFtdCiAgICAgICAgaGVhZGVyID0gWydTYW1w
bGVOYW1lJywgJ2xhYmVsJ10KICAgICAgICBmb3IgYWEgaW4gQUExOgogICAgICAgICAgICBoZWFkZXIu
YXBwZW5kKCdTY2huZWlkZXIuWHIuJyArIGFhKQogICAgICAgIGZvciBhYSBpbiBBQTE6CiAgICAgICAg
ICAgIGhlYWRlci5hcHBlbmQoJ0dyYW50aGFtLlhyLicgKyBhYSkKICAgICAgICBmb3IgbiBpbiByYW5n
ZSgxLCBubGFnICsgMSk6CiAgICAgICAgICAgIGhlYWRlci5hcHBlbmQoJ1NjaG5laWRlci5YZC4nICsg
c3RyKG4pKQogICAgICAgIGZvciBuIGluIHJhbmdlKDEsIG5sYWcgKyAxKToKICAgICAgICAgICAgaGVh
ZGVyLmFwcGVuZCgnR3JhbnRoYW0uWGQuJyArIHN0cihuKSkKICAgICAgICBlbmNvZGluZ3MuYXBwZW5k
KGhlYWRlcikKCiAgICAgICAgZm9yIGkgaW4gc2VsZi5mYXN0YV9saXN0OgogICAgICAgICAgICBuYW1l
LCBzZXF1ZW5jZSwgbGFiZWwgPSBpWzBdLCByZS5zdWIoJy0nLCAnJywgaVsxXSksIGlbMl0KICAgICAg
ICAgICAgY29kZSA9IFtuYW1lLCBsYWJlbF0KICAgICAgICAgICAgYXJyYXlTVyA9IFtdCiAgICAgICAg
ICAgIGFycmF5R00gPSBbXQogICAgICAgICAgICBmb3IgbiBpbiByYW5nZSgxLCBubGFnICsgMSk6CiAg
ICAgICAgICAgICAgICBhcnJheVNXLmFwcGVuZCgKICAgICAgICAgICAgICAgICAgICBzdW0oW0FBRGlz
dGFuY2VbRGljdEFBW3NlcXVlbmNlW2pdXV1bRGljdEFBW3NlcXVlbmNlW2ogKyBuXV1dICoqIDIgZm9y
IGogaW4KICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlKGxlbihzZXF1ZW5jZSkgLSBuKV0pKQog
ICAgICAgICAgICAgICAgYXJyYXlHTS5hcHBlbmQoc3VtKAogICAgICAgICAgICAgICAgICAgIFtBQURp
c3RhbmNlMVtEaWN0QUExW3NlcXVlbmNlW2pdXV1bRGljdEFBMVtzZXF1ZW5jZVtqICsgbl1dXSAqKiAy
IGZvciBqIGluCiAgICAgICAgICAgICAgICAgICAgIHJhbmdlKGxlbihzZXF1ZW5jZSkgLSBuKV0pKQog
ICAgICAgICAgICBteURpY3QgPSB7fQogICAgICAgICAgICBmb3IgYWEgaW4gQUExOgogICAgICAgICAg
ICAgICAgbXlEaWN0W2FhXSA9IHNlcXVlbmNlLmNvdW50KGFhKQogICAgICAgICAgICBmb3IgYWEgaW4g
QUExOgogICAgICAgICAgICAgICAgY29kZS5hcHBlbmQobXlEaWN0W2FhXSAvICgxICsgdyAqIHN1bShh
cnJheVNXKSkpCiAgICAgICAgICAgIGZvciBhYSBpbiBBQTE6CiAgICAgICAgICAgICAgICBjb2RlLmFw
cGVuZChteURpY3RbYWFdIC8gKDEgKyB3ICogc3VtKGFycmF5R00pKSkKICAgICAgICAgICAgZm9yIG51
bSBpbiBhcnJheVNXOgogICAgICAgICAgICAgICAgY29kZS5hcHBlbmQoKHcgKiBudW0pIC8gKDEgKyB3
ICogc3VtKGFycmF5U1cpKSkKICAgICAgICAgICAgZm9yIG51bSBpbiBhcnJheUdNOgogICAgICAgICAg
ICAgICAgY29kZS5hcHBlbmQoKHcgKiBudW0pIC8gKDEgKyB3ICogc3VtKGFycmF5R00pKSkKICAgICAg
ICAgICAgZW5jb2RpbmdzLmFwcGVuZChjb2RlKQogICAgICAgIHNlbGYuZW5jb2RpbmdfYXJyYXkgPSBu
cC5hcnJheShbXSkKICAgICAgICBzZWxmLmVuY29kaW5nX2FycmF5ID0gbnAuYXJyYXkoZW5jb2Rpbmdz
LCBkdHlwZT1zdHIpCiAgICAgICAgc2VsZi5jb2x1bW4gPSBzZWxmLmVuY29kaW5nX2FycmF5LnNoYXBl
WzFdCiAgICAgICAgc2VsZi5yb3cgPSBzZWxmLmVuY29kaW5nX2FycmF5LnNoYXBlWzBdIC0gMQogICAg
ICAgIGRlbCBlbmNvZGluZ3MKICAgICAgICBpZiBzZWxmLmVuY29kaW5nX2FycmF5LnNoYXBlWzBdID4g
MToKICAgICAgICAgICAgcmV0dXJuIFRydWUKICAgICAgICBlbHNlOgogICAgICAgICAgICByZXR1cm4g
RmFsc2UKCiAgICBkZWYgUnZhbHVlKHNlbGYsIGFhMSwgYWEyLCBBQURpY3QsIE1hdHJpeCk6CiAgICAg
ICAgcmV0dXJuIHN1bShbKE1hdHJpeFtpXVtBQURpY3RbYWExXV0gLSBNYXRyaXhbaV1bQUFEaWN0W2Fh
Ml1dKSAqKiAyIGZvciBpIGluIHJhbmdlKGxlbihNYXRyaXgpKV0pIC8gbGVuKE1hdHJpeCkKCiAgICBk
ZWYgUHJvdGVpbl9QQUFDKHNlbGYpOgogICAgICAgIGxhbWJkYVZhbHVlID0gc2VsZi5rd1snbGFtYmRh
VmFsdWUnXQogICAgICAgIGlmIGxhbWJkYVZhbHVlID4gc2VsZi5taW5pbXVtX2xlbmd0aF93aXRob3V0
X21pbnVzIC0gMToKICAgICAgICAgICAgc2VsZi5lcnJvcl9tc2cgPSAnVGhlIGxhbWJkYSB2YWx1ZSBp
cyBvdXQgb2YgcmFuZ2UuJwogICAgICAgICAgICByZXR1cm4gRmFsc2UKCiAgICAgICAgdyA9IHNlbGYu
a3dbJ3dlaWdodCddCiAgICAgICAgZGF0YUZpbGUgPSBvcy5wYXRoLnNwbGl0KG9zLnBhdGgucmVhbHBh
dGgoX19maWxlX18pKVsKICAgICAgICAgICAgICAgICAgICAgICAwXSArIHInXGRhdGFcUEFBQy50eHQn
IGlmIHBsYXRmb3JtLnN5c3RlbSgpID09ICdXaW5kb3dzJyBlbHNlIFwKICAgICAgICAgICAgb3MucGF0
aC5zcGxpdChvcy5wYXRoLnJlYWxwYXRoKF9fZmlsZV9fKSlbMF0gKyByJy9kYXRhL1BBQUMudHh0Jwog
ICAgICAgIHdpdGggb3BlbihkYXRhRmlsZSkgYXMgZjoKICAgICAgICAgICAgcmVjb3JkcyA9IGYucmVh
ZGxpbmVzKCkKICAgICAgICBBQSA9ICcnLmpvaW4ocmVjb3Jkc1swXS5yc3RyaXAoKS5zcGxpdCgpWzE6
XSkKICAgICAgICBBQURpY3QgPSB7fQogICAgICAgIGZvciBpIGluIHJhbmdlKGxlbihBQSkpOgogICAg
ICAgICAgICBBQURpY3RbQUFbaV1dID0gaQogICAgICAgIEFBUHJvcGVydHkgPSBbXQogICAgICAgIEFB
UHJvcGVydHlOYW1lcyA9IFtdCiAgICAgICAgZm9yIGkgaW4gcmFuZ2UoMSwgbGVuKHJlY29yZHMpKToK
ICAgICAgICAgICAgYXJyYXkgPSByZWNvcmRzW2ldLnJzdHJpcCgpLnNwbGl0KCkgaWYgcmVjb3Jkc1tp
XS5yc3RyaXAoKSAhPSAnJyBlbHNlIE5vbmUKICAgICAgICAgICAgQUFQcm9wZXJ0eS5hcHBlbmQoW2Zs
b2F0KGopIGZvciBqIGluIGFycmF5WzE6XV0pCiAgICAgICAgICAgIEFBUHJvcGVydHlOYW1lcy5hcHBl
bmQoYXJyYXlbMF0pCgogICAgICAgIEFBUHJvcGVydHkxID0gW10KICAgICAgICBmb3IgaSBpbiBBQVBy
b3BlcnR5OgogICAgICAgICAgICBtZWFuSSA9IHN1bShpKSAvIDIwCiAgICAgICAgICAgIGZlbm11ID0g
bWF0aC5zcXJ0KHN1bShbKGogLSBtZWFuSSkgKiogMiBmb3IgaiBpbiBpXSkgLyAyMCkKICAgICAgICAg
ICAgQUFQcm9wZXJ0eTEuYXBwZW5kKFsoaiAtIG1lYW5JKSAvIGZlbm11IGZvciBqIGluIGldKQoKICAg
ICAgICBlbmNvZGluZ3MgPSBbXQogICAgICAgIGhlYWRlciA9IFsnU2FtcGxlTmFtZScsICdsYWJlbCdd
CiAgICAgICAgZm9yIGFhIGluIEFBOgogICAgICAgICAgICBoZWFkZXIuYXBwZW5kKCdYYzEuJyArIGFh
KQogICAgICAgIGZvciBuIGluIHJhbmdlKDEsIGxhbWJkYVZhbHVlICsgMSk6CiAgICAgICAgICAgIGhl
YWRlci5hcHBlbmQoJ1hjMi5sYW1iZGEnICsgc3RyKG4pKQogICAgICAgIGVuY29kaW5ncy5hcHBlbmQo
aGVhZGVyKQoKICAgICAgICBmb3IgaSBpbiBzZWxmLmZhc3RhX2xpc3Q6CiAgICAgICAgICAgIG5hbWUs
IHNlcXVlbmNlLCBsYWJlbCA9IGlbMF0sIHJlLnN1YignLScsICcnLCBpWzFdKSwgaVsyXQogICAgICAg
ICAgICBjb2RlID0gW25hbWUsIGxhYmVsXQogICAgICAgICAgICB0aGV0YSA9IFtdCiAgICAgICAgICAg
IGZvciBuIGluIHJhbmdlKDEsIGxhbWJkYVZhbHVlICsgMSk6CiAgICAgICAgICAgICAgICB0aGV0YS5h
cHBlbmQoCiAgICAgICAgICAgICAgICAgICAgc3VtKFtzZWxmLlJ2YWx1ZShzZXF1ZW5jZVtqXSwgc2Vx
dWVuY2VbaiArIG5dLCBBQURpY3QsIEFBUHJvcGVydHkxKSBmb3IgaiBpbgogICAgICAgICAgICAgICAg
ICAgICAgICAgcmFuZ2UobGVuKHNlcXVlbmNlKSAtIG4pXSkgLyAoCiAgICAgICAgICAgICAgICAgICAg
ICAgICAgICBsZW4oc2VxdWVuY2UpIC0gbikpCiAgICAgICAgICAgIG15RGljdCA9IHt9CiAgICAgICAg
ICAgIGZvciBhYSBpbiBBQToKICAgICAgICAgICAgICAgIG15RGljdFthYV0gPSBzZXF1ZW5jZS5jb3Vu
dChhYSkKICAgICAgICAgICAgY29kZSA9IGNvZGUgKyBbbXlEaWN0W2FhXSAvICgxICsgdyAqIHN1bSh0
aGV0YSkpIGZvciBhYSBpbiBBQV0KICAgICAgICAgICAgY29kZSA9IGNvZGUgKyBbKHcgKiBqKSAvICgx
ICsgdyAqIHN1bSh0aGV0YSkpIGZvciBqIGluIHRoZXRhXQogICAgICAgICAgICBlbmNvZGluZ3MuYXBw
ZW5kKGNvZGUpCiAgICAgICAgc2VsZi5lbmNvZGluZ19hcnJheSA9IG5wLmFycmF5KFtdKQogICAgICAg
IHNlbGYuZW5jb2RpbmdfYXJyYXkgPSBucC5hcnJheShlbmNvZGluZ3MsIGR0eXBlPXN0cikKICAgICAg
ICBzZWxmLmNvbHVtbiA9IHNlbGYuZW5jb2RpbmdfYXJyYXkuc2hhcGVbMV0KICAgICAgICBzZWxmLnJv
dyA9IHNlbGYuZW5jb2RpbmdfYXJyYXkuc2hhcGVbMF0gLSAxCiAgICAgICAgZGVsIGVuY29kaW5ncwog
ICAgICAgIGlmIHNlbGYuZW5jb2RpbmdfYXJyYXkuc2hhcGVbMF0gPiAxOgogICAgICAgICAgICByZXR1
cm4gVHJ1ZQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJldHVybiBGYWxzZQoKICAgIGRlZiBQcm90
ZWluX0FQQUFDKHNlbGYpOgogICAgICAgIGxhbWJkYVZhbHVlID0gc2VsZi5rd1snbGFtYmRhVmFsdWUn
XQogICAgICAgIGlmIGxhbWJkYVZhbHVlID4gc2VsZi5taW5pbXVtX2xlbmd0aF93aXRob3V0X21pbnVz
IC0gMToKICAgICAgICAgICAgc2VsZi5lcnJvcl9tc2cgPSAnVGhlIGxhbWJkYSB2YWx1ZSBpcyBvdXQg
b2YgcmFuZ2UuJwogICAgICAgICAgICByZXR1cm4gRmFsc2UKICAgICAgICB3ID0gc2VsZi5rd1snd2Vp
Z2h0J10KICAgICAgICBkYXRhRmlsZSA9IG9zLnBhdGguc3BsaXQob3MucGF0aC5yZWFscGF0aChfX2Zp
bGVfXykpWwogICAgICAgICAgICAgICAgICAgICAgIDBdICsgcidcZGF0YVxQQUFDLnR4dCcgaWYgcGxh
dGZvcm0uc3lzdGVtKCkgPT0gJ1dpbmRvd3MnIGVsc2UgXAogICAgICAgICAgICBvcy5wYXRoLnNwbGl0
KG9zLnBhdGgucmVhbHBhdGgoX19maWxlX18pKVswXSArIHInL2RhdGEvUEFBQy50eHQnCiAgICAgICAg
d2l0aCBvcGVuKGRhdGFGaWxlKSBhcyBmOgogICAgICAgICAgICByZWNvcmRzID0gZi5yZWFkbGluZXMo
KQogICAgICAgIEFBID0gJycuam9pbihyZWNvcmRzWzBdLnJzdHJpcCgpLnNwbGl0KClbMTpdKQogICAg
ICAgIEFBRGljdCA9IHt9CiAgICAgICAgZm9yIGkgaW4gcmFuZ2UobGVuKEFBKSk6CiAgICAgICAgICAg
IEFBRGljdFtBQVtpXV0gPSBpCiAgICAgICAgQUFQcm9wZXJ0eSA9IFtdCiAgICAgICAgQUFQcm9wZXJ0
eU5hbWVzID0gW10KICAgICAgICBmb3IgaSBpbiByYW5nZSgxLCBsZW4ocmVjb3JkcykgLSAxKToKICAg
ICAgICAgICAgYXJyYXkgPSByZWNvcmRzW2ldLnJzdHJpcCgpLnNwbGl0KCkgaWYgcmVjb3Jkc1tpXS5y
c3RyaXAoKSAhPSAnJyBlbHNlIE5vbmUKICAgICAgICAgICAgQUFQcm9wZXJ0eS5hcHBlbmQoW2Zsb2F0
KGopIGZvciBqIGluIGFycmF5WzE6XV0pCiAgICAgICAgICAgIEFBUHJvcGVydHlOYW1lcy5hcHBlbmQo
YXJyYXlbMF0pCgogICAgICAgIEFBUHJvcGVydHkxID0gW10KICAgICAgICBmb3IgaSBpbiBBQVByb3Bl
cnR5OgogICAgICAgICAgICBtZWFuSSA9IHN1bShpKSAvIDIwCiAgICAgICAgICAgIGZlbm11ID0gbWF0
aC5zcXJ0KHN1bShbKGogLSBtZWFuSSkgKiogMiBmb3IgaiBpbiBpXSkgLyAyMCkKICAgICAgICAgICAg
QUFQcm9wZXJ0eTEuYXBwZW5kKFsoaiAtIG1lYW5JKSAvIGZlbm11IGZvciBqIGluIGldKQoKICAgICAg
ICBlbmNvZGluZ3MgPSBbXQogICAgICAgIGhlYWRlciA9IFsnU2FtcGxlTmFtZScsICdsYWJlbCddCiAg
ICAgICAgZm9yIGkgaW4gQUE6CiAgICAgICAgICAgIGhlYWRlci5hcHBlbmQoJ1BjMS4nICsgaSkKICAg
ICAgICBmb3IgaiBpbiByYW5nZSgxLCBsYW1iZGFWYWx1ZSArIDEpOgogICAgICAgICAgICBmb3IgaSBp
biBBQVByb3BlcnR5TmFtZXM6CiAgICAgICAgICAgICAgICBoZWFkZXIuYXBwZW5kKCdQYzIuJyArIGkg
KyAnLicgKyBzdHIoaikpCiAgICAgICAgZW5jb2RpbmdzLmFwcGVuZChoZWFkZXIpCiAgICAgICAgZm9y
IGkgaW4gc2VsZi5mYXN0YV9saXN0OgogICAgICAgICAgICBuYW1lLCBzZXF1ZW5jZSwgbGFiZWwgPSBp
WzBdLCByZS5zdWIoJy0nLCAnJywgaVsxXSksIGlbMl0KICAgICAgICAgICAgY29kZSA9IFtuYW1lLCBs
YWJlbF0KICAgICAgICAgICAgdGhldGEgPSBbXQogICAgICAgICAgICBmb3IgbiBpbiByYW5nZSgxLCBs
YW1iZGFWYWx1ZSArIDEpOgogICAgICAgICAgICAgICAgZm9yIGogaW4gcmFuZ2UobGVuKEFBUHJvcGVy
dHkxKSk6CiAgICAgICAgICAgICAgICAgICAgdGhldGEuYXBwZW5kKAogICAgICAgICAgICAgICAgICAg
ICAgICBzdW0oW0FBUHJvcGVydHkxW2pdW0FBRGljdFtzZXF1ZW5jZVtrXV1dICogQUFQcm9wZXJ0eTFb
al1bQUFEaWN0W3NlcXVlbmNlW2sgKyBuXV1dIGZvciBrIGluCiAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgcmFuZ2UobGVuKHNlcXVlbmNlKSAtIG4pXSkgLyAobGVuKHNlcXVlbmNlKSAtIG4pKQogICAg
ICAgICAgICBteURpY3QgPSB7fQogICAgICAgICAgICBmb3IgYWEgaW4gQUE6CiAgICAgICAgICAgICAg
ICBteURpY3RbYWFdID0gc2VxdWVuY2UuY291bnQoYWEpCgogICAgICAgICAgICBjb2RlID0gY29kZSAr
IFtteURpY3RbYWFdIC8gKDEgKyB3ICogc3VtKHRoZXRhKSkgZm9yIGFhIGluIEFBXQogICAgICAgICAg
ICBjb2RlID0gY29kZSArIFt3ICogdmFsdWUgLyAoMSArIHcgKiBzdW0odGhldGEpKSBmb3IgdmFsdWUg
aW4gdGhldGFdCiAgICAgICAgICAgIGVuY29kaW5ncy5hcHBlbmQoY29kZSkKICAgICAgICBzZWxmLmVu
Y29kaW5nX2FycmF5ID0gbnAuYXJyYXkoW10pCiAgICAgICAgc2VsZi5lbmNvZGluZ19hcnJheSA9IG5w
LmFycmF5KGVuY29kaW5ncywgZHR5cGU9c3RyKQogICAgICAgIHNlbGYuY29sdW1uID0gc2VsZi5lbmNv
ZGluZ19hcnJheS5zaGFwZVsxXQogICAgICAgIHNlbGYucm93ID0gc2VsZi5lbmNvZGluZ19hcnJheS5z
aGFwZVswXSAtIDEKICAgICAgICBkZWwgZW5jb2RpbmdzCiAgICAgICAgaWYgc2VsZi5lbmNvZGluZ19h
cnJheS5zaGFwZVswXSA+IDE6CiAgICAgICAgICAgIHJldHVybiBUcnVlCiAgICAgICAgZWxzZToKICAg
ICAgICAgICAgcmV0dXJuIEZhbHNlCgogICAgZGVmIFByb3RlaW5fT1BGXzEwYml0KHNlbGYpOgogICAg
ICAgICMgY2xlYXIKICAgICAgICBzZWxmLmVuY29kaW5nX2FycmF5ID0gbnAuYXJyYXkoW10pCgogICAg
ICAgIGlmIG5vdCBzZWxmLmlzX2VxdWFsOgogICAgICAgICAgICBzZWxmLmVycm9yX21zZyA9ICdPUEYg
ZGVzY3JpcHRvciBuZWVkIGZhc3RhIHNlcXVlbmNlIHdpdGggZXF1YWwgbGVuZ3RoLicKICAgICAgICAg
ICAgcmV0dXJuIEZhbHNlCgogICAgICAgIHBoeXNpY29jaGVtaWNhbF9wcm9wZXJ0aWVzX2xpc3QgPSBb
CiAgICAgICAgICAgICdGWVdIJywKICAgICAgICAgICAgJ0RFJywKICAgICAgICAgICAgJ0tIUicsCiAg
ICAgICAgICAgICdOUVNERUNUS1JIWVcnLAogICAgICAgICAgICAnQUdDVElWTEtIRllXTScsCiAgICAg
ICAgICAgICdJVkwnLAogICAgICAgICAgICAnQVNHQycsCiAgICAgICAgICAgICdLSFJERScsCiAgICAg
ICAgICAgICdQTkRUQ0FHU1YnLAogICAgICAgICAgICAnUCcsCiAgICAgICAgXQoKICAgICAgICBwaHlz
aWNvY2hlbWljYWxfcHJvcGVydGllc19pbmRleCA9IFsnQXJvbWF0aWMnLCAnTmVnYXRpdmUnLCAnUG9z
aXRpdmUnLCAnUG9sYXInLCAnSHlkcm9waG9iaWMnLCAnQWxpcGhhdGljJywKICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnVGlueScsICdDaGFyZ2VkJywgJ1NtYWxsJywgJ1By
b2xpbmUnXQoKICAgICAgICBoZWFkZXIgPSBbJ1NhbXBsZU5hbWUnLCAnbGFiZWwnXQogICAgICAgIGVu
Y29kaW5ncyA9IFtdCiAgICAgICAgaGVhZGVyICs9IFsnUG9zJXNfJXMnICUgKGkgKyAxLCBqKSBmb3Ig
aSBpbiByYW5nZShsZW4oc2VsZi5mYXN0YV9saXN0WzBdWzFdKSkgZm9yIGogaW4KICAgICAgICAgICAg
ICAgICAgIHBoeXNpY29jaGVtaWNhbF9wcm9wZXJ0aWVzX2luZGV4XQogICAgICAgIGVuY29kaW5ncy5h
cHBlbmQoaGVhZGVyKQoKICAgICAgICBmb3IgaSBpbiBzZWxmLmZhc3RhX2xpc3Q6CiAgICAgICAgICAg
IG5hbWUsIHNlcXVlbmNlLCBsYWJlbCA9IGlbMF0sIGlbMV0sIGlbMl0KICAgICAgICAgICAgY29kZSA9
IFtuYW1lLCBsYWJlbF0KICAgICAgICAgICAgZm9yIGFhIGluIGlbMV06CiAgICAgICAgICAgICAgICBm
b3IgaiBpbiBwaHlzaWNvY2hlbWljYWxfcHJvcGVydGllc19saXN0OgogICAgICAgICAgICAgICAgICAg
IGlmIGFhIGluIGo6CiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGUuYXBwZW5kKDEpCiAgICAgICAg
ICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgY29kZS5hcHBlbmQoMCkKICAg
ICAgICAgICAgZW5jb2RpbmdzLmFwcGVuZChjb2RlKQoKICAgICAgICBzZWxmLmVuY29kaW5nX2FycmF5
ID0gbnAuYXJyYXkoZW5jb2RpbmdzLCBkdHlwZT1zdHIpCiAgICAgICAgc2VsZi5jb2x1bW4gPSBzZWxm
LmVuY29kaW5nX2FycmF5LnNoYXBlWzFdCiAgICAgICAgc2VsZi5yb3cgPSBzZWxmLmVuY29kaW5nX2Fy
cmF5LnNoYXBlWzBdIC0gMQogICAgICAgIGRlbCBlbmNvZGluZ3MKICAgICAgICBpZiBzZWxmLmVuY29k
aW5nX2FycmF5LnNoYXBlWzBdID4gMToKICAgICAgICAgICAgcmV0dXJuIFRydWUKICAgICAgICBlbHNl
OgogICAgICAgICAgICByZXR1cm4gRmFsc2UKCiAgICBkZWYgUHJvdGVpbl9PUEZfN2JpdF90eXBlXzEo
c2VsZik6CiAgICAgICAgIyBjbGVhcgogICAgICAgIHNlbGYuZW5jb2RpbmdfYXJyYXkgPSBucC5hcnJh
eShbXSkKCiAgICAgICAgaWYgbm90IHNlbGYuaXNfZXF1YWw6CiAgICAgICAgICAgIHNlbGYuZXJyb3Jf
bXNnID0gJ09QRiBkZXNjcmlwdG9yIG5lZWQgZmFzdGEgc2VxdWVuY2Ugd2l0aCBlcXVhbCBsZW5ndGgu
JwogICAgICAgICAgICByZXR1cm4gRmFsc2UKCiAgICAgICAgcGh5c2ljb2NoZW1pY2FsX3Byb3BlcnRp
ZXNfbGlzdCA9IFsKICAgICAgICAgICAgJ0FDRkdISUxNTlBRU1RWV1knLAogICAgICAgICAgICAnQ0ZJ
TE1WVycsCiAgICAgICAgICAgICdBQ0RHUFNUJywKICAgICAgICAgICAgJ0NGSUxNVldZJywKICAgICAg
ICAgICAgJ0FER1NUJywKICAgICAgICAgICAgJ0RHTlBTJywKICAgICAgICAgICAgJ0FDRkdJTFZXJywK
ICAgICAgICBdCgogICAgICAgIHBoeXNpY29jaGVtaWNhbF9wcm9wZXJ0aWVzX2luZGV4ID0gWydDaGFy
Z2UnLCAnSHlkcm9waG9iaWNpdHknLCAnTm9ybWFsaXplZCB2YW5kZXIgV2FhbHMgdm9sdW1lJywgJ1Bv
bGFyaXR5JywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnUG9sYXJp
aXphYmlsaXR5JywgJ1NlY29uZGFyeSBTdHJ1Y3R1cmUnLCAnU29sdmVudCBBY2Nlc3NpYmlsaXR5J10K
CiAgICAgICAgaGVhZGVyID0gWydTYW1wbGVOYW1lJywgJ2xhYmVsJ10KICAgICAgICBlbmNvZGluZ3Mg
PSBbXQogICAgICAgIGhlYWRlciArPSBbJ1BvcyVzXyVzJyAlIChpICsgMSwgaikgZm9yIGkgaW4gcmFu
Z2UobGVuKHNlbGYuZmFzdGFfbGlzdFswXVsxXSkpIGZvciBqIGluCiAgICAgICAgICAgICAgICAgICBw
aHlzaWNvY2hlbWljYWxfcHJvcGVydGllc19pbmRleF0KICAgICAgICBlbmNvZGluZ3MuYXBwZW5kKGhl
YWRlcikKCiAgICAgICAgZm9yIGkgaW4gc2VsZi5mYXN0YV9saXN0OgogICAgICAgICAgICBuYW1lLCBz
ZXF1ZW5jZSwgbGFiZWwgPSBpWzBdLCBpWzFdLCBpWzJdCiAgICAgICAgICAgIGNvZGUgPSBbbmFtZSwg
bGFiZWxdCiAgICAgICAgICAgIGZvciBhYSBpbiBpWzFdOgogICAgICAgICAgICAgICAgZm9yIGogaW4g
cGh5c2ljb2NoZW1pY2FsX3Byb3BlcnRpZXNfbGlzdDoKICAgICAgICAgICAgICAgICAgICBpZiBhYSBp
biBqOgogICAgICAgICAgICAgICAgICAgICAgICBjb2RlLmFwcGVuZCgxKQogICAgICAgICAgICAgICAg
ICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGUuYXBwZW5kKDApCiAgICAgICAgICAg
IGVuY29kaW5ncy5hcHBlbmQoY29kZSkKCiAgICAgICAgc2VsZi5lbmNvZGluZ19hcnJheSA9IG5wLmFy
cmF5KGVuY29kaW5ncywgZHR5cGU9c3RyKQogICAgICAgIHNlbGYuY29sdW1uID0gc2VsZi5lbmNvZGlu
Z19hcnJheS5zaGFwZVsxXQogICAgICAgIHNlbGYucm93ID0gc2VsZi5lbmNvZGluZ19hcnJheS5zaGFw
ZVswXSAtIDEKICAgICAgICBkZWwgZW5jb2RpbmdzCiAgICAgICAgaWYgc2VsZi5lbmNvZGluZ19hcnJh
eS5zaGFwZVswXSA+IDE6CiAgICAgICAgICAgIHJldHVybiBUcnVlCiAgICAgICAgZWxzZToKICAgICAg
ICAgICAgcmV0dXJuIEZhbHNlCgogICAgZGVmIFByb3RlaW5fT1BGXzdiaXRfdHlwZV8yKHNlbGYpOgog
ICAgICAgICMgY2xlYXIKICAgICAgICBzZWxmLmVuY29kaW5nX2FycmF5ID0gbnAuYXJyYXkoW10pCgog
ICAgICAgIGlmIG5vdCBzZWxmLmlzX2VxdWFsOgogICAgICAgICAgICBzZWxmLmVycm9yX21zZyA9ICdP
UEYgZGVzY3JpcHRvciBuZWVkIGZhc3RhIHNlcXVlbmNlIHdpdGggZXF1YWwgbGVuZ3RoLicKICAgICAg
ICAgICAgcmV0dXJuIEZhbHNlCgogICAgICAgIHBoeXNpY29jaGVtaWNhbF9wcm9wZXJ0aWVzX2xpc3Qg
PSBbCiAgICAgICAgICAgICdERScsCiAgICAgICAgICAgICdBR0hQU1RZJywKICAgICAgICAgICAgJ0VJ
TE5RVicsCiAgICAgICAgICAgICdBR1BTVCcsCiAgICAgICAgICAgICdDRUlMTlBRVicsCiAgICAgICAg
ICAgICdBRUhLTE1RUicsCiAgICAgICAgICAgICdITVBTVFknLAogICAgICAgIF0KCiAgICAgICAgcGh5
c2ljb2NoZW1pY2FsX3Byb3BlcnRpZXNfaW5kZXggPSBbJ0NoYXJnZScsICdIeWRyb3Bob2JpY2l0eScs
ICdOb3JtYWxpemVkIHZhbmRlciBXYWFscyB2b2x1bWUnLCAnUG9sYXJpdHknLAogICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdQb2xhcmlpemFiaWxpdHknLCAnU2Vjb25kYXJ5
IFN0cnVjdHVyZScsICdTb2x2ZW50IEFjY2Vzc2liaWxpdHknXQoKICAgICAgICBoZWFkZXIgPSBbJ1Nh
bXBsZU5hbWUnLCAnbGFiZWwnXQogICAgICAgIGVuY29kaW5ncyA9IFtdCiAgICAgICAgaGVhZGVyICs9
IFsnUG9zJXNfJXMnICUgKGkgKyAxLCBqKSBmb3IgaSBpbiByYW5nZShsZW4oc2VsZi5mYXN0YV9saXN0
WzBdWzFdKSkgZm9yIGogaW4KICAgICAgICAgICAgICAgICAgIHBoeXNpY29jaGVtaWNhbF9wcm9wZXJ0
aWVzX2luZGV4XQogICAgICAgIGVuY29kaW5ncy5hcHBlbmQoaGVhZGVyKQoKICAgICAgICBmb3IgaSBp
biBzZWxmLmZhc3RhX2xpc3Q6CiAgICAgICAgICAgIG5hbWUsIHNlcXVlbmNlLCBsYWJlbCA9IGlbMF0s
IGlbMV0sIGlbMl0KICAgICAgICAgICAgY29kZSA9IFtuYW1lLCBsYWJlbF0KICAgICAgICAgICAgZm9y
IGFhIGluIGlbMV06CiAgICAgICAgICAgICAgICBmb3IgaiBpbiBwaHlzaWNvY2hlbWljYWxfcHJvcGVy
dGllc19saXN0OgogICAgICAgICAgICAgICAgICAgIGlmIGFhIGluIGo6CiAgICAgICAgICAgICAgICAg
ICAgICAgIGNvZGUuYXBwZW5kKDEpCiAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAg
ICAgICAgICAgICAgY29kZS5hcHBlbmQoMCkKICAgICAgICAgICAgZW5jb2RpbmdzLmFwcGVuZChjb2Rl
KQoKICAgICAgICBzZWxmLmVuY29kaW5nX2FycmF5ID0gbnAuYXJyYXkoZW5jb2RpbmdzLCBkdHlwZT1z
dHIpCiAgICAgICAgc2VsZi5jb2x1bW4gPSBzZWxmLmVuY29kaW5nX2FycmF5LnNoYXBlWzFdCiAgICAg
ICAgc2VsZi5yb3cgPSBzZWxmLmVuY29kaW5nX2FycmF5LnNoYXBlWzBdIC0gMQogICAgICAgIGRlbCBl
bmNvZGluZ3MKICAgICAgICBpZiBzZWxmLmVuY29kaW5nX2FycmF5LnNoYXBlWzBdID4gMToKICAgICAg
ICAgICAgcmV0dXJuIFRydWUKICAgICAgICBlbHNlOgogICAgICAgICAgICByZXR1cm4gRmFsc2UKCiAg
ICBkZWYgUHJvdGVpbl9PUEZfN2JpdF90eXBlXzMoc2VsZik6CiAgICAgICAgIyBjbGVhcgogICAgICAg
IHNlbGYuZW5jb2RpbmdfYXJyYXkgPSBucC5hcnJheShbXSkKCiAgICAgICAgaWYgbm90IHNlbGYuaXNf
ZXF1YWw6CiAgICAgICAgICAgIHNlbGYuZXJyb3JfbXNnID0gJ09QRiBkZXNjcmlwdG9yIG5lZWQgZmFz
dGEgc2VxdWVuY2Ugd2l0aCBlcXVhbCBsZW5ndGguJwogICAgICAgICAgICByZXR1cm4gRmFsc2UKCiAg
ICAgICAgcGh5c2ljb2NoZW1pY2FsX3Byb3BlcnRpZXNfbGlzdCA9IFsKICAgICAgICAgICAgJ0tSJywK
ICAgICAgICAgICAgJ0RFS05RUicsCiAgICAgICAgICAgICdGSEtNUldZJywKICAgICAgICAgICAgJ0RF
SEtOUVInLAogICAgICAgICAgICAnRkhLTVJXWScsCiAgICAgICAgICAgICdDRklUVldZJywKICAgICAg
ICAgICAgJ0RFS05SUScsCiAgICAgICAgXQoKICAgICAgICBwaHlzaWNvY2hlbWljYWxfcHJvcGVydGll
c19pbmRleCA9IFsnQ2hhcmdlJywgJ0h5ZHJvcGhvYmljaXR5JywgJ05vcm1hbGl6ZWQgdmFuZGVyIFdh
YWxzIHZvbHVtZScsICdQb2xhcml0eScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgJ1BvbGFyaWl6YWJpbGl0eScsICdTZWNvbmRhcnkgU3RydWN0dXJlJywgJ1NvbHZlbnQg
QWNjZXNzaWJpbGl0eSddCgogICAgICAgIGhlYWRlciA9IFsnU2FtcGxlTmFtZScsICdsYWJlbCddCiAg
ICAgICAgZW5jb2RpbmdzID0gW10KICAgICAgICBoZWFkZXIgKz0gWydQb3Mlc18lcycgJSAoaSArIDEs
IGopIGZvciBpIGluIHJhbmdlKGxlbihzZWxmLmZhc3RhX2xpc3RbMF1bMV0pKSBmb3IgaiBpbgogICAg
ICAgICAgICAgICAgICAgcGh5c2ljb2NoZW1pY2FsX3Byb3BlcnRpZXNfaW5kZXhdCiAgICAgICAgZW5j
b2RpbmdzLmFwcGVuZChoZWFkZXIpCgogICAgICAgIGZvciBpIGluIHNlbGYuZmFzdGFfbGlzdDoKICAg
ICAgICAgICAgbmFtZSwgc2VxdWVuY2UsIGxhYmVsID0gaVswXSwgaVsxXSwgaVsyXQogICAgICAgICAg
ICBjb2RlID0gW25hbWUsIGxhYmVsXQogICAgICAgICAgICBmb3IgYWEgaW4gaVsxXToKICAgICAgICAg
ICAgICAgIGZvciBqIGluIHBoeXNpY29jaGVtaWNhbF9wcm9wZXJ0aWVzX2xpc3Q6CiAgICAgICAgICAg
ICAgICAgICAgaWYgYWEgaW4gajoKICAgICAgICAgICAgICAgICAgICAgICAgY29kZS5hcHBlbmQoMSkK
ICAgICAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgICAgICBjb2RlLmFwcGVu
ZCgwKQogICAgICAgICAgICBlbmNvZGluZ3MuYXBwZW5kKGNvZGUpCgogICAgICAgIHNlbGYuZW5jb2Rp
bmdfYXJyYXkgPSBucC5hcnJheShlbmNvZGluZ3MsIGR0eXBlPXN0cikKICAgICAgICBzZWxmLmNvbHVt
biA9IHNlbGYuZW5jb2RpbmdfYXJyYXkuc2hhcGVbMV0KICAgICAgICBzZWxmLnJvdyA9IHNlbGYuZW5j
b2RpbmdfYXJyYXkuc2hhcGVbMF0gLSAxCiAgICAgICAgZGVsIGVuY29kaW5ncwogICAgICAgIGlmIHNl
bGYuZW5jb2RpbmdfYXJyYXkuc2hhcGVbMF0gPiAxOgogICAgICAgICAgICByZXR1cm4gVHJ1ZQogICAg
ICAgIGVsc2U6CiAgICAgICAgICAgIHJldHVybiBGYWxzZQoKICAgIGRlZiBQcm90ZWluX0FTREMoc2Vs
Zik6CiAgICAgICAgIyBjbGVhcgogICAgICAgIHNlbGYuZW5jb2RpbmdfYXJyYXkgPSBucC5hcnJheShb
XSkKCiAgICAgICAgQUEgPSAnQUNERUZHSElLTE1OUFFSU1RWV1knCiAgICAgICAgZW5jb2RpbmdzID0g
W10KICAgICAgICBhYVBhaXJzID0gW10KICAgICAgICBmb3IgYWExIGluIEFBOgogICAgICAgICAgICBm
b3IgYWEyIGluIEFBOgogICAgICAgICAgICAgICAgYWFQYWlycy5hcHBlbmQoYWExICsgYWEyKQoKICAg
ICAgICBoZWFkZXIgPSBbJ1NhbXBsZU5hbWUnLCAnbGFiZWwnXQogICAgICAgIGhlYWRlciArPSBbYWEx
ICsgYWEyIGZvciBhYTEgaW4gQUEgZm9yIGFhMiBpbiBBQV0KICAgICAgICBlbmNvZGluZ3MuYXBwZW5k
KGhlYWRlcikKCiAgICAgICAgZm9yIGkgaW4gc2VsZi5mYXN0YV9saXN0OgogICAgICAgICAgICBuYW1l
LCBzZXF1ZW5jZSwgbGFiZWwgPSBpWzBdLCByZS5zdWIoJy0nLCAnJywgaVsxXSksIGlbMl0KICAgICAg
ICAgICAgY29kZSA9IFtuYW1lLCBsYWJlbF0KICAgICAgICAgICAgc3VtID0gMAogICAgICAgICAgICBw
YWlyX2RpY3QgPSB7fQogICAgICAgICAgICBmb3IgcGFpciBpbiBhYVBhaXJzOgogICAgICAgICAgICAg
ICAgcGFpcl9kaWN0W3BhaXJdID0gMAogICAgICAgICAgICBmb3IgaiBpbiByYW5nZShsZW4oc2VxdWVu
Y2UpKToKICAgICAgICAgICAgICAgIGZvciBrIGluIHJhbmdlKGogKyAxLCBsZW4oc2VxdWVuY2UpKToK
ICAgICAgICAgICAgICAgICAgICBpZiBzZXF1ZW5jZVtqXSBpbiBBQSBhbmQgc2VxdWVuY2Vba10gaW4g
QUE6CiAgICAgICAgICAgICAgICAgICAgICAgIHBhaXJfZGljdFtzZXF1ZW5jZVtqXSArIHNlcXVlbmNl
W2tdXSArPSAxCiAgICAgICAgICAgICAgICAgICAgICAgIHN1bSArPSAxCiAgICAgICAgICAgIGZvciBw
YWlyIGluIGFhUGFpcnM6CiAgICAgICAgICAgICAgICBjb2RlLmFwcGVuZChwYWlyX2RpY3RbcGFpcl0g
LyBzdW0pCiAgICAgICAgICAgIGVuY29kaW5ncy5hcHBlbmQoY29kZSkKCiAgICAgICAgc2VsZi5lbmNv
ZGluZ19hcnJheSA9IG5wLmFycmF5KGVuY29kaW5ncywgZHR5cGU9c3RyKQogICAgICAgIHNlbGYuY29s
dW1uID0gc2VsZi5lbmNvZGluZ19hcnJheS5zaGFwZVsxXQogICAgICAgIHNlbGYucm93ID0gc2VsZi5l
bmNvZGluZ19hcnJheS5zaGFwZVswXSAtIDEKICAgICAgICBkZWwgZW5jb2RpbmdzCiAgICAgICAgaWYg
c2VsZi5lbmNvZGluZ19hcnJheS5zaGFwZVswXSA+IDE6CiAgICAgICAgICAgIHJldHVybiBUcnVlCiAg
ICAgICAgZWxzZToKICAgICAgICAgICAgcmV0dXJuIEZhbHNlCgogICAgJycnIEtOTiBkZXNjcmlwdG9y
ICcnJwogICAgZGVmIFNpbShzZWxmLCBhLCBiKToKICAgICAgICBibG9zdW02MiA9IFsKICAgICAgICAg
ICAgWyA0LCAtMSwgLTIsIC0yLCAgMCwgLTEsIC0xLCAgMCwgLTIsIC0xLCAtMSwgLTEsIC0xLCAtMiwg
LTEsICAxLCAgMCwgLTMsIC0yLCAgMCwgMF0sICAjIEEKICAgICAgICAgICAgWy0xLCAgNSwgIDAsIC0y
LCAtMywgIDEsICAwLCAtMiwgIDAsIC0zLCAtMiwgIDIsIC0xLCAtMywgLTIsIC0xLCAtMSwgLTMsIC0y
LCAtMywgMF0sICAjIFIKICAgICAgICAgICAgWy0yLCAgMCwgIDYsICAxLCAtMywgIDAsICAwLCAgMCwg
IDEsIC0zLCAtMywgIDAsIC0yLCAtMywgLTIsICAxLCAgMCwgLTQsIC0yLCAtMywgMF0sICAjIE4KICAg
ICAgICAgICAgWy0yLCAtMiwgIDEsICA2LCAtMywgIDAsICAyLCAtMSwgLTEsIC0zLCAtNCwgLTEsIC0z
LCAtMywgLTEsICAwLCAtMSwgLTQsIC0zLCAtMywgMF0sICAjIEQKICAgICAgICAgICAgWyAwLCAtMywg
LTMsIC0zLCAgOSwgLTMsIC00LCAtMywgLTMsIC0xLCAtMSwgLTMsIC0xLCAtMiwgLTMsIC0xLCAtMSwg
LTIsIC0yLCAtMSwgMF0sICAjIEMKICAgICAgICAgICAgWy0xLCAgMSwgIDAsICAwLCAtMywgIDUsICAy
LCAtMiwgIDAsIC0zLCAtMiwgIDEsICAwLCAtMywgLTEsICAwLCAtMSwgLTIsIC0xLCAtMiwgMF0sICAj
IFEKICAgICAgICAgICAgWy0xLCAgMCwgIDAsICAyLCAtNCwgIDIsICA1LCAtMiwgIDAsIC0zLCAtMywg
IDEsIC0yLCAtMywgLTEsICAwLCAtMSwgLTMsIC0yLCAtMiwgMF0sICAjIEUKICAgICAgICAgICAgWyAw
LCAtMiwgIDAsIC0xLCAtMywgLTIsIC0yLCAgNiwgLTIsIC00LCAtNCwgLTIsIC0zLCAtMywgLTIsICAw
LCAtMiwgLTIsIC0zLCAtMywgMF0sICAjIEcKICAgICAgICAgICAgWy0yLCAgMCwgIDEsIC0xLCAtMywg
IDAsICAwLCAtMiwgIDgsIC0zLCAtMywgLTEsIC0yLCAtMSwgLTIsIC0xLCAtMiwgLTIsICAyLCAtMywg
MF0sICAjIEgKICAgICAgICAgICAgWy0xLCAtMywgLTMsIC0zLCAtMSwgLTMsIC0zLCAtNCwgLTMsICA0
LCAgMiwgLTMsICAxLCAgMCwgLTMsIC0yLCAtMSwgLTMsIC0xLCAgMywgMF0sICAjIEkKICAgICAgICAg
ICAgWy0xLCAtMiwgLTMsIC00LCAtMSwgLTIsIC0zLCAtNCwgLTMsICAyLCAgNCwgLTIsICAyLCAgMCwg
LTMsIC0yLCAtMSwgLTIsIC0xLCAgMSwgMF0sICAjIEwKICAgICAgICAgICAgWy0xLCAgMiwgIDAsIC0x
LCAtMywgIDEsICAxLCAtMiwgLTEsIC0zLCAtMiwgIDUsIC0xLCAtMywgLTEsICAwLCAtMSwgLTMsIC0y
LCAtMiwgMF0sICAjIEsKICAgICAgICAgICAgWy0xLCAtMSwgLTIsIC0zLCAtMSwgIDAsIC0yLCAtMywg
LTIsICAxLCAgMiwgLTEsICA1LCAgMCwgLTIsIC0xLCAtMSwgLTEsIC0xLCAgMSwgMF0sICAjIE0KICAg
ICAgICAgICAgWy0yLCAtMywgLTMsIC0zLCAtMiwgLTMsIC0zLCAtMywgLTEsICAwLCAgMCwgLTMsICAw
LCAgNiwgLTQsIC0yLCAtMiwgIDEsICAzLCAtMSwgMF0sICAjIEYKICAgICAgICAgICAgWy0xLCAtMiwg
LTIsIC0xLCAtMywgLTEsIC0xLCAtMiwgLTIsIC0zLCAtMywgLTEsIC0yLCAtNCwgIDcsIC0xLCAtMSwg
LTQsIC0zLCAtMiwgMF0sICAjIFAKICAgICAgICAgICAgWyAxLCAtMSwgIDEsICAwLCAtMSwgIDAsICAw
LCAgMCwgLTEsIC0yLCAtMiwgIDAsIC0xLCAtMiwgLTEsICA0LCAgMSwgLTMsIC0yLCAtMiwgMF0sICAj
IFMKICAgICAgICAgICAgWyAwLCAtMSwgIDAsIC0xLCAtMSwgLTEsIC0xLCAtMiwgLTIsIC0xLCAtMSwg
LTEsIC0xLCAtMiwgLTEsICAxLCAgNSwgLTIsIC0yLCAgMCwgMF0sICAjIFQKICAgICAgICAgICAgWy0z
LCAtMywgLTQsIC00LCAtMiwgLTIsIC0zLCAtMiwgLTIsIC0zLCAtMiwgLTMsIC0xLCAgMSwgLTQsIC0z
LCAtMiwgMTEsICAyLCAtMywgMF0sICAjIFcKICAgICAgICAgICAgWy0yLCAtMiwgLTIsIC0zLCAtMiwg
LTEsIC0yLCAtMywgIDIsIC0xLCAtMSwgLTIsIC0xLCAgMywgLTMsIC0yLCAtMiwgIDIsICA3LCAtMSwg
MF0sICAjIFkKICAgICAgICAgICAgWyAwLCAtMywgLTMsIC0zLCAtMSwgLTIsIC0yLCAtMywgLTMsICAz
LCAgMSwgLTIsICAxLCAtMSwgLTIsIC0yLCAgMCwgLTMsIC0xLCAgNCwgMF0sICAjIFYKICAgICAgICAg
ICAgWyAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwg
IDAsICAwLCAgMCwgIDAsICAwLCAgMCwgMF0sICAjIC0KICAgICAgICBdCiAgICAgICAgQUEgPSAnQVJO
RENRRUdISUxLTUZQU1RXWVYtJwogICAgICAgIG15RGljdCA9IHt9CiAgICAgICAgZm9yIGkgaW4gcmFu
Z2UobGVuKEFBKSk6CiAgICAgICAgICAgIG15RGljdFtBQVtpXV0gPSBpCiAgICAgICAgbWF4VmFsdWUs
IG1pblZhbHVlID0gMTEsIC00CiAgICAgICAgcmV0dXJuIChibG9zdW02MltteURpY3RbYV1dW215RGlj
dFtiXV0gLSBtaW5WYWx1ZSkgLyAobWF4VmFsdWUgLSBtaW5WYWx1ZSkKCiAgICBkZWYgQ2FsY3VsYXRl
RGlzdGFuY2Uoc2VsZiwgc2VxdWVuY2UxLCBzZXF1ZW5jZTIpOgogICAgICAgIGlmIGxlbihzZXF1ZW5j
ZTEpICE9IGxlbihzZXF1ZW5jZTIpOgogICAgICAgICAgICBzZWxmLmVycm9yX21zZyA9ICdLTk4gZGVz
Y3JpcHRvciBuZWVkIGZhc3RhIHNlcXVlbmNlIHdpdGggZXF1YWwgbGVuZ3RoLicKICAgICAgICAgICAg
cmV0dXJuIDEKICAgICAgICBkaXN0YW5jZSA9IDEgLSBzdW0oW3NlbGYuU2ltKHNlcXVlbmNlMVtpXSwg
c2VxdWVuY2UyW2ldKSBmb3IgaSBpbiByYW5nZShsZW4oc2VxdWVuY2UxKSldKSAvIGxlbihzZXF1ZW5j
ZTEpCiAgICAgICAgcmV0dXJuIGRpc3RhbmNlCgogICAgZGVmIENhbGN1bGF0ZUNvbnRlbnQoc2VsZiwg
bXlEaXN0YW5jZSwgaiwgbXlMYWJlbFNldHMpOgogICAgICAgIGNvbnRlbnQgPSBbXQogICAgICAgIG15
RGljdCA9IHt9CiAgICAgICAgZm9yIGkgaW4gbXlMYWJlbFNldHM6CiAgICAgICAgICAgIG15RGljdFtp
XSA9IDAKICAgICAgICBmb3IgaSBpbiByYW5nZShqKToKICAgICAgICAgICAgbXlEaWN0W215RGlzdGFu
Y2VbaV1bMF1dID0gbXlEaWN0W215RGlzdGFuY2VbaV1bMF1dICsgMQogICAgICAgIGZvciBpIGluIG15
TGFiZWxTZXRzOgogICAgICAgICAgICBjb250ZW50LmFwcGVuZChteURpY3RbbXlMYWJlbFNldHNbaV1d
IC8gaikKICAgICAgICByZXR1cm4gY29udGVudAoKICAgIGRlZiBQcm90ZWluX0tOTihzZWxmKToKICAg
ICAgICAjIGNsZWFyCiAgICAgICAgc2VsZi5lbmNvZGluZ19hcnJheSA9IG5wLmFycmF5KFtdKQoKICAg
ICAgICBpZiBub3Qgc2VsZi5pc19lcXVhbDoKICAgICAgICAgICAgc2VsZi5lcnJvcl9tc2cgPSAnS05O
IGRlc2NyaXB0b3IgbmVlZCBmYXN0YSBzZXF1ZW5jZSB3aXRoIGVxdWFsIGxlbmd0aC4nCiAgICAgICAg
ICAgIHJldHVybiBGYWxzZQoKICAgICAgICB0b3BLX3ZhbHVlcyA9IFswLjAxLCAwLjAyLCAwLjAzLCAw
LjA0LCAwLjA1LCAwLjA2LCAwLjA3LCAwLjA4LCAwLjA5LCAwLjEwLCAwLjExLCAwLjEyLCAwLjEzLCAw
LjE0LCAwLjE1LCAwLjE2LAogICAgICAgICAgICAgICAgICAgICAgIDAuMTcsIDAuMTgsIDAuMTksIDAu
MjAsIDAuMjEsIDAuMjIsIDAuMjMsIDAuMjQsIDAuMjUsIDAuMjYsIDAuMjcsIDAuMjgsIDAuMjksIDAu
MzBdCgogICAgICAgIHRyYWluaW5nX2RhdGEgPSBbXQogICAgICAgIHRyYWluaW5nX2xhYmVsID0ge30K
ICAgICAgICBmb3IgaSBpbiBzZWxmLmZhc3RhX2xpc3Q6CiAgICAgICAgICAgIGlmIGlbM10gPT0gJ3Ry
YWluaW5nJzoKICAgICAgICAgICAgICAgIHRyYWluaW5nX2RhdGEuYXBwZW5kKGkpCiAgICAgICAgICAg
ICAgICB0cmFpbmluZ19sYWJlbFtpWzBdXSA9IGludChpWzJdKQogICAgICAgIHRtcF9sYWJlbF9zZXRz
ID0gbGlzdChzZXQodHJhaW5pbmdfbGFiZWwudmFsdWVzKCkpKQoKICAgICAgICB0b3BLX251bWJlcnMg
PSBbXQogICAgICAgIGZvciBpIGluIHRvcEtfdmFsdWVzOgogICAgICAgICAgICB0b3BLX251bWJlcnMu
YXBwZW5kKG1hdGguY2VpbChsZW4odHJhaW5pbmdfZGF0YSkgKiBpKSkKCiAgICAgICAgIyBjYWxjdWxh
dGUgcGFpciBkaXN0YW5jZQogICAgICAgIGRpc3RhbmNlX2RpY3QgPSB7fQogICAgICAgIGZvciBpIGlu
IHJhbmdlKGxlbihzZWxmLmZhc3RhX2xpc3QpKToKICAgICAgICAgICAgbmFtZV9zZXExLCBzZXF1ZW5j
ZV8xLCBsYWJlbF8xLCB1c2FnZV8xID0gc2VsZi5mYXN0YV9saXN0W2ldWzBdLCBzZWxmLmZhc3RhX2xp
c3RbaV1bMV0sIHNlbGYuZmFzdGFfbGlzdFtpXVsyXSwgc2VsZi5mYXN0YV9saXN0W2ldWzNdCiAgICAg
ICAgICAgIGZvciBqIGluIHJhbmdlKGkrMSwgbGVuKHNlbGYuZmFzdGFfbGlzdCkpOgogICAgICAgICAg
ICAgICAgbmFtZV9zZXEyLCBzZXF1ZW5jZV8yLCBsYWJlbF8yLCB1c2FnZV8yID0gc2VsZi5mYXN0YV9s
aXN0W2pdWzBdLCBzZWxmLmZhc3RhX2xpc3Rbal1bMV0sIHNlbGYuZmFzdGFfbGlzdFtqXVsyXSwgc2Vs
Zi5mYXN0YV9saXN0W2pdWzNdCiAgICAgICAgICAgICAgICBpZiB1c2FnZV8xID09ICd0ZXN0aW5nJyBh
bmQgdXNhZ2VfMiA9PSAndGVzdGluZyc6CiAgICAgICAgICAgICAgICAgICAgY29udGludWUKICAgICAg
ICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgZGlzdGFuY2VfZGljdFsnOicuam9pbihz
b3J0ZWQoW25hbWVfc2VxMSwgbmFtZV9zZXEyXSkpXSA9IHNlbGYuQ2FsY3VsYXRlRGlzdGFuY2Uoc2Vx
dWVuY2VfMSwgc2VxdWVuY2VfMikKCiAgICAgICAgZW5jb2RpbmdzID0gW10KICAgICAgICBoZWFkZXIg
PSBbJyMnLCAnbGFiZWwnXQogICAgICAgIGZvciBrIGluIHRvcEtfbnVtYmVyczoKICAgICAgICAgICAg
Zm9yIGwgaW4gdG1wX2xhYmVsX3NldHM6CiAgICAgICAgICAgICAgICBoZWFkZXIuYXBwZW5kKCdUb3An
ICsgc3RyKGspICsgJy5sYWJlbCcgKyBzdHIobCkpCiAgICAgICAgZW5jb2RpbmdzLmFwcGVuZChoZWFk
ZXIpCgogICAgICAgIGZvciBpIGluIHNlbGYuZmFzdGFfbGlzdDoKICAgICAgICAgICAgbmFtZSwgc2Vx
dWVuY2UsIGxhYmVsID0gaVswXSwgaVsxXSwgaVsyXQogICAgICAgICAgICBjb2RlID0gW25hbWUsIGxh
YmVsXQogICAgICAgICAgICB0bXBfZGlzdGFuY2VfbGlzdCA9IFtdCiAgICAgICAgICAgIGZvciBqIGlu
IHJhbmdlKGxlbih0cmFpbmluZ19kYXRhKSk6CiAgICAgICAgICAgICAgICBpZiBuYW1lICE9IHRyYWlu
aW5nX2RhdGFbal1bMF06CiAgICAgICAgICAgICAgICAgICAgdG1wX2Rpc3RhbmNlX2xpc3QuYXBwZW5k
KFtpbnQodHJhaW5pbmdfZGF0YVtqXVsyXSksIGRpc3RhbmNlX2RpY3QuZ2V0KCc6Jy5qb2luKHNvcnRl
ZChbbmFtZSwgdHJhaW5pbmdfZGF0YVtqXVswXV0pKSwgMSldKQoKICAgICAgICAgICAgdG1wX2Rpc3Rh
bmNlX2xpc3QgPSBucC5hcnJheSh0bXBfZGlzdGFuY2VfbGlzdCkKICAgICAgICAgICAgdG1wX2Rpc3Rh
bmNlX2xpc3QgPSB0bXBfZGlzdGFuY2VfbGlzdFtucC5sZXhzb3J0KHRtcF9kaXN0YW5jZV9saXN0LlQp
XQoKICAgICAgICAgICAgZm9yIGogaW4gdG9wS19udW1iZXJzOgogICAgICAgICAgICAgICAgY29kZSAr
PSBzZWxmLkNhbGN1bGF0ZUNvbnRlbnQodG1wX2Rpc3RhbmNlX2xpc3QsIGosIHRtcF9sYWJlbF9zZXRz
KQogICAgICAgICAgICBlbmNvZGluZ3MuYXBwZW5kKGNvZGUpCgogICAgICAgIHNlbGYuZW5jb2Rpbmdf
YXJyYXkgPSBucC5hcnJheShlbmNvZGluZ3MsIGR0eXBlPXN0cikKICAgICAgICBzZWxmLmNvbHVtbiA9
IHNlbGYuZW5jb2RpbmdfYXJyYXkuc2hhcGVbMV0KICAgICAgICBzZWxmLnJvdyA9IHNlbGYuZW5jb2Rp
bmdfYXJyYXkuc2hhcGVbMF0gLSAxCiAgICAgICAgZGVsIGVuY29kaW5ncwogICAgICAgIGlmIHNlbGYu
ZW5jb2RpbmdfYXJyYXkuc2hhcGVbMF0gPiAxOgogICAgICAgICAgICByZXR1cm4gVHJ1ZQogICAgICAg
IGVsc2U6CiAgICAgICAgICAgIHJldHVybiBGYWxzZQogICAgJycnIGVuZCBQcm90ZWluIEtOTiBkZXNj
cmlwdG9yICcnJwoKICAgIGRlZiBnYXBNb2RlbChzZWxmLCBmYXN0YXMsIG15RGljdCwgZ0RpY3QsIGdO
YW1lcywga3R1cGxlLCBnbFZhbHVlKToKICAgICAgICBlbmNvZGluZ3MgPSBbXQogICAgICAgIGhlYWRl
ciA9IFsnU2FtcGxlTmFtZScsICdsYWJlbCddCiAgICAgICAgaWYga3R1cGxlID09IDE6CiAgICAgICAg
ICAgIGhlYWRlciA9IGhlYWRlciArIFtnICsgJ19nYXAnICsgc3RyKGdsVmFsdWUpIGZvciBnIGluIGdO
YW1lc10KICAgICAgICAgICAgZW5jb2RpbmdzLmFwcGVuZChoZWFkZXIpCiAgICAgICAgICAgIGZvciBp
IGluIGZhc3RhczoKICAgICAgICAgICAgICAgIG5hbWUsIHNlcXVlbmNlLCBsYWJlbCA9IGlbMF0sIHJl
LnN1YignLScsICcnLCBpWzFdKSwgaVsyXQogICAgICAgICAgICAgICAgY29kZSA9IFtuYW1lLCBsYWJl
bF0KICAgICAgICAgICAgICAgIG51bURpY3QgPSB7fQogICAgICAgICAgICAgICAgZm9yIGogaW4gcmFu
Z2UoMCwgbGVuKHNlcXVlbmNlKSwgZ2xWYWx1ZSArIDEpOgogICAgICAgICAgICAgICAgICAgIG51bURp
Y3RbZ0RpY3RbbXlEaWN0W3NlcXVlbmNlW2pdXV1dID0gbnVtRGljdC5nZXQoZ0RpY3RbbXlEaWN0W3Nl
cXVlbmNlW2pdXV0sIDApICsgMQoKICAgICAgICAgICAgICAgIGZvciBnIGluIGdOYW1lczoKICAgICAg
ICAgICAgICAgICAgICBjb2RlLmFwcGVuZChudW1EaWN0LmdldChnLCAwKSkKICAgICAgICAgICAgICAg
IGVuY29kaW5ncy5hcHBlbmQoY29kZSkKICAgICAgICBpZiBrdHVwbGUgPT0gMjoKICAgICAgICAgICAg
aGVhZGVyID0gaGVhZGVyICsgW2cxICsgJ18nICsgZzIgKyAnX2dhcCcgKyBzdHIoZ2xWYWx1ZSkgZm9y
IGcxIGluIGdOYW1lcyBmb3IgZzIgaW4gZ05hbWVzXQogICAgICAgICAgICBlbmNvZGluZ3MuYXBwZW5k
KGhlYWRlcikKICAgICAgICAgICAgZm9yIGkgaW4gZmFzdGFzOgogICAgICAgICAgICAgICAgbmFtZSwg
c2VxdWVuY2UsIGxhYmVsID0gaVswXSwgcmUuc3ViKCctJywgJycsIGlbMV0pLCBpWzJdCiAgICAgICAg
ICAgICAgICBjb2RlID0gW25hbWUsIGxhYmVsXQogICAgICAgICAgICAgICAgbnVtRGljdCA9IHt9CiAg
ICAgICAgICAgICAgICBmb3IgaiBpbiByYW5nZSgwLCBsZW4oc2VxdWVuY2UpLCBnbFZhbHVlICsgMSk6
CiAgICAgICAgICAgICAgICAgICAgaWYgaiArIDEgPCBsZW4oc2VxdWVuY2UpOgogICAgICAgICAgICAg
ICAgICAgICAgICBudW1EaWN0W2dEaWN0W215RGljdFtzZXF1ZW5jZVtqXV1dICsgJ18nICsgZ0RpY3Rb
bXlEaWN0W3NlcXVlbmNlW2ogKyAxXV1dXSA9IG51bURpY3QuZ2V0KAogICAgICAgICAgICAgICAgICAg
ICAgICAgICAgZ0RpY3RbbXlEaWN0W3NlcXVlbmNlW2pdXV0gKyAnXycgKyBnRGljdFtteURpY3Rbc2Vx
dWVuY2VbaiArIDFdXV0sIDApICsgMQoKICAgICAgICAgICAgICAgIGZvciBnIGluIFtnMSArICdfJyAr
IGcyIGZvciBnMSBpbiBnTmFtZXMgZm9yIGcyIGluIGdOYW1lc106CiAgICAgICAgICAgICAgICAgICAg
Y29kZS5hcHBlbmQobnVtRGljdC5nZXQoZywgMCkpCiAgICAgICAgICAgICAgICBlbmNvZGluZ3MuYXBw
ZW5kKGNvZGUpCiAgICAgICAgaWYga3R1cGxlID09IDM6CiAgICAgICAgICAgIGhlYWRlciA9IGhlYWRl
ciArIFtnMSArICdfJyArIGcyICsgJ18nICsgZzMgKyAnX2dhcCcgKyBzdHIoZ2xWYWx1ZSkgZm9yIGcx
IGluIGdOYW1lcyBmb3IgZzIgaW4gZ05hbWVzIGZvciBnMwogICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgaW4gZ05hbWVzXQogICAgICAgICAgICBlbmNvZGluZ3MuYXBwZW5kKGhlYWRlcikKICAgICAg
ICAgICAgZm9yIGkgaW4gZmFzdGFzOgogICAgICAgICAgICAgICAgbmFtZSwgc2VxdWVuY2UsIGxhYmVs
ID0gaVswXSwgcmUuc3ViKCctJywgJycsIGlbMV0pLCBpWzJdCiAgICAgICAgICAgICAgICBjb2RlID0g
W25hbWUsIGxhYmVsXQogICAgICAgICAgICAgICAgbnVtRGljdCA9IHt9CiAgICAgICAgICAgICAgICBm
b3IgaiBpbiByYW5nZSgwLCBsZW4oc2VxdWVuY2UpLCBnbFZhbHVlICsgMSk6CiAgICAgICAgICAgICAg
ICAgICAgaWYgaiArIDEgPCBsZW4oc2VxdWVuY2UpIGFuZCBqICsgMiA8IGxlbihzZXF1ZW5jZSk6CiAg
ICAgICAgICAgICAgICAgICAgICAgIG51bURpY3RbZ0RpY3RbbXlEaWN0W3NlcXVlbmNlW2pdXV0gKyAn
XycgKyBnRGljdFtteURpY3Rbc2VxdWVuY2VbaiArIDFdXV0gKyAnXycgKyBnRGljdFsKICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIG15RGljdFtzZXF1ZW5jZVtqICsgMl1dXV0gPSBudW1EaWN0LmdldCgK
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdEaWN0W215RGljdFtzZXF1ZW5jZVtqXV1dICsgJ18n
ICsgZ0RpY3RbbXlEaWN0W3NlcXVlbmNlW2ogKyAxXV1dICsgJ18nICsgZ0RpY3RbCiAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgbXlEaWN0W3NlcXVlbmNlW2ogKyAyXV1dLCAwKSArIDEKCiAgICAg
ICAgICAgICAgICBmb3IgZyBpbiBbZzEgKyAnXycgKyBnMiArICdfJyArIGczIGZvciBnMSBpbiBnTmFt
ZXMgZm9yIGcyIGluIGdOYW1lcyBmb3IgZzMgaW4gZ05hbWVzXToKICAgICAgICAgICAgICAgICAgICBj
b2RlLmFwcGVuZChudW1EaWN0LmdldChnLCAwKSkKICAgICAgICAgICAgICAgIGVuY29kaW5ncy5hcHBl
bmQoY29kZSkKICAgICAgICByZXR1cm4gZW5jb2RpbmdzCgogICAgZGVmIGxhbWJkYU1vZGVsKHNlbGYs
IGZhc3RhcywgbXlEaWN0LCBnRGljdCwgZ05hbWVzLCBrdHVwbGUsIGdsVmFsdWUpOgogICAgICAgIGVu
Y29kaW5ncyA9IFtdCiAgICAgICAgaGVhZGVyID0gWydTYW1wbGVOYW1lJywgJ2xhYmVsJ10KICAgICAg
ICBpZiBrdHVwbGUgPT0gMToKICAgICAgICAgICAgaGVhZGVyID0gaGVhZGVyICsgW2cgKyAnX0xDJyAr
IHN0cihnbFZhbHVlKSBmb3IgZyBpbiBnTmFtZXNdCiAgICAgICAgICAgIGVuY29kaW5ncy5hcHBlbmQo
aGVhZGVyKQogICAgICAgICAgICBmb3IgaSBpbiBmYXN0YXM6CiAgICAgICAgICAgICAgICBuYW1lLCBz
ZXF1ZW5jZSwgbGFiZWwgPSBpWzBdLCByZS5zdWIoJy0nLCAnJywgaVsxXSksIGlbMl0KICAgICAgICAg
ICAgICAgIGNvZGUgPSBbbmFtZSwgbGFiZWxdCiAgICAgICAgICAgICAgICBudW1EaWN0ID0ge30KICAg
ICAgICAgICAgICAgIGZvciBqIGluIHJhbmdlKDAsIGxlbihzZXF1ZW5jZSkpOgogICAgICAgICAgICAg
ICAgICAgIG51bURpY3RbZ0RpY3RbbXlEaWN0W3NlcXVlbmNlW2pdXV1dID0gbnVtRGljdC5nZXQoZ0Rp
Y3RbbXlEaWN0W3NlcXVlbmNlW2pdXV0sIDApICsgMQoKICAgICAgICAgICAgICAgIGZvciBnIGluIGdO
YW1lczoKICAgICAgICAgICAgICAgICAgICBjb2RlLmFwcGVuZChudW1EaWN0LmdldChnLCAwKSkKICAg
ICAgICAgICAgICAgIGVuY29kaW5ncy5hcHBlbmQoY29kZSkKICAgICAgICBpZiBrdHVwbGUgPT0gMjoK
ICAgICAgICAgICAgaGVhZGVyID0gaGVhZGVyICsgW2cxICsgJ18nICsgZzIgKyAnX0xDJyArIHN0cihn
bFZhbHVlKSBmb3IgZzEgaW4gZ05hbWVzIGZvciBnMiBpbiBnTmFtZXNdCiAgICAgICAgICAgIGVuY29k
aW5ncy5hcHBlbmQoaGVhZGVyKQogICAgICAgICAgICBmb3IgaSBpbiBmYXN0YXM6CiAgICAgICAgICAg
ICAgICBuYW1lLCBzZXF1ZW5jZSwgbGFiZWwgPSBpWzBdLCByZS5zdWIoJy0nLCAnJywgaVsxXSksIGlb
Ml0KICAgICAgICAgICAgICAgIGNvZGUgPSBbbmFtZSwgbGFiZWxdCiAgICAgICAgICAgICAgICBudW1E
aWN0ID0ge30KICAgICAgICAgICAgICAgIGZvciBqIGluIHJhbmdlKDAsIGxlbihzZXF1ZW5jZSkpOgog
ICAgICAgICAgICAgICAgICAgIGlmIGogKyBnbFZhbHVlIDwgbGVuKHNlcXVlbmNlKToKICAgICAgICAg
ICAgICAgICAgICAgICAgbnVtRGljdFtnRGljdFtteURpY3Rbc2VxdWVuY2Vbal1dXSArICdfJyArIGdE
aWN0W215RGljdFtzZXF1ZW5jZVtqICsgZ2xWYWx1ZV1dXV0gPSBudW1EaWN0LmdldCgKICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIGdEaWN0W215RGljdFtzZXF1ZW5jZVtqXV1dICsgJ18nICsgZ0RpY3Rb
bXlEaWN0W3NlcXVlbmNlW2ogKyBnbFZhbHVlXV1dLCAwKSArIDEKCiAgICAgICAgICAgICAgICBmb3Ig
ZyBpbiBbZzEgKyAnXycgKyBnMiBmb3IgZzEgaW4gZ05hbWVzIGZvciBnMiBpbiBnTmFtZXNdOgogICAg
ICAgICAgICAgICAgICAgIGNvZGUuYXBwZW5kKG51bURpY3QuZ2V0KGcsIDApKQogICAgICAgICAgICAg
ICAgZW5jb2RpbmdzLmFwcGVuZChjb2RlKQogICAgICAgIGlmIGt0dXBsZSA9PSAzOgogICAgICAgICAg
ICBoZWFkZXIgPSBoZWFkZXIgKyBbZzEgKyAnXycgKyBnMiArICdfJyArIGczICsgJ19MQycgKyBzdHIo
Z2xWYWx1ZSkgZm9yIGcxIGluIGdOYW1lcyBmb3IgZzIgaW4gZ05hbWVzIGZvciBnMwogICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgaW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdOYW1l
c10KICAgICAgICAgICAgZW5jb2RpbmdzLmFwcGVuZChoZWFkZXIpCiAgICAgICAgICAgIGZvciBpIGlu
IGZhc3RhczoKICAgICAgICAgICAgICAgIG5hbWUsIHNlcXVlbmNlLCBsYWJlbCA9IGlbMF0sIHJlLnN1
YignLScsICcnLCBpWzFdKSwgaVsyXQogICAgICAgICAgICAgICAgY29kZSA9IFtuYW1lLCBsYWJlbF0K
ICAgICAgICAgICAgICAgIG51bURpY3QgPSB7fQogICAgICAgICAgICAgICAgZm9yIGogaW4gcmFuZ2Uo
MCwgbGVuKHNlcXVlbmNlKSk6CiAgICAgICAgICAgICAgICAgICAgaWYgaiArIGdsVmFsdWUgPCBsZW4o
c2VxdWVuY2UpIGFuZCBqICsgMiAqIGdsVmFsdWUgPCBsZW4oc2VxdWVuY2UpOgogICAgICAgICAgICAg
ICAgICAgICAgICBudW1EaWN0W2dEaWN0W215RGljdFtzZXF1ZW5jZVtqXV1dICsgJ18nICsgZ0RpY3Rb
bXlEaWN0W3NlcXVlbmNlW2ogKyBnbFZhbHVlXV1dICsgJ18nICsgZ0RpY3RbCiAgICAgICAgICAgICAg
ICAgICAgICAgICAgICBteURpY3Rbc2VxdWVuY2VbaiArIDIgKiBnbFZhbHVlXV1dXSA9IG51bURpY3Qu
Z2V0KAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZ0RpY3RbbXlEaWN0W3NlcXVlbmNlW2pdXV0g
KyAnXycgKyBnRGljdFtteURpY3Rbc2VxdWVuY2VbaiArIGdsVmFsdWVdXV0gKyAnXycgKyBnRGljdFsK
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBteURpY3Rbc2VxdWVuY2VbaiArIDIgKiBnbFZh
bHVlXV1dLCAwKSArIDEKCiAgICAgICAgICAgICAgICBmb3IgZyBpbiBbZzEgKyAnXycgKyBnMiArICdf
JyArIGczIGZvciBnMSBpbiBnTmFtZXMgZm9yIGcyIGluIGdOYW1lcyBmb3IgZzMgaW4gZ05hbWVzXToK
ICAgICAgICAgICAgICAgICAgICBjb2RlLmFwcGVuZChudW1EaWN0LmdldChnLCAwKSkKICAgICAgICAg
ICAgICAgIGVuY29kaW5ncy5hcHBlbmQoY29kZSkKICAgICAgICByZXR1cm4gZW5jb2RpbmdzCgogICAg
ZGVmIFByb3RlaW5fUHNlS1JBQUNfdHlwZV8xKHNlbGYpOgogICAgICAgIEFBR3JvdXAgPSB7CiAgICAg
ICAgICAgIDI6IFsnQ01GSUxWV1knLCAnQUdUU05RREVIUktQJ10sCiAgICAgICAgICAgIDM6IFsnQ01G
SUxWV1knLCAnQUdUU1AnLCAnTlFERUhSSyddLAogICAgICAgICAgICA0OiBbJ0NNRldZJywgJ0lMVics
ICdBR1RTJywgJ05RREVIUktQJ10sCiAgICAgICAgICAgIDU6IFsnV0ZZSCcsICdNSUxWJywgJ0NBVFNQ
JywgJ0cnLCAnTlFERVJLJ10sCiAgICAgICAgICAgIDY6IFsnV0ZZSCcsICdNSUxWJywgJ0NBVFMnLCAn
UCcsICdHJywgJ05RREVSSyddLAogICAgICAgICAgICA3OiBbJ1dGWUgnLCAnTUlMVicsICdDQVRTJywg
J1AnLCAnRycsICdOUURFJywgJ1JLJ10sCiAgICAgICAgICAgIDg6IFsnV0ZZSCcsICdNSUxWJywgJ0NB
JywgJ05UUycsICdQJywgJ0cnLCAnREUnLCAnUVJLJ10sCiAgICAgICAgICAgIDk6IFsnV0ZZSCcsICdN
SScsICdMVicsICdDQScsICdOVFMnLCAnUCcsICdHJywgJ0RFJywgJ1FSSyddLAogICAgICAgICAgICAx
MDogWydXRlknLCAnTUwnLCAnSVYnLCAnQ0EnLCAnVFMnLCAnTkgnLCAnUCcsICdHJywgJ0RFJywgJ1FS
SyddLAogICAgICAgICAgICAxMTogWydXRlknLCAnTUwnLCAnSVYnLCAnQ0EnLCAnVFMnLCAnTkgnLCAn
UCcsICdHJywgJ0QnLCAnUUUnLCAnUksnXSwKICAgICAgICAgICAgMTI6IFsnV0ZZJywgJ01MJywgJ0lW
JywgJ0MnLCAnQScsICdUUycsICdOSCcsICdQJywgJ0cnLCAnRCcsICdRRScsICdSSyddLAogICAgICAg
ICAgICAxMzogWydXRlknLCAnTUwnLCAnSVYnLCAnQycsICdBJywgJ1QnLCAnUycsICdOSCcsICdQJywg
J0cnLCAnRCcsICdRRScsICdSSyddLAogICAgICAgICAgICAxNDogWydXRlknLCAnTUwnLCAnSVYnLCAn
QycsICdBJywgJ1QnLCAnUycsICdOSCcsICdQJywgJ0cnLCAnRCcsICdRRScsICdSJywgJ0snXSwKICAg
ICAgICAgICAgMTU6IFsnV0ZZJywgJ01MJywgJ0lWJywgJ0MnLCAnQScsICdUJywgJ1MnLCAnTicsICdI
JywgJ1AnLCAnRycsICdEJywgJ1FFJywgJ1InLCAnSyddLAogICAgICAgICAgICAxNjogWydXJywgJ0ZZ
JywgJ01MJywgJ0lWJywgJ0MnLCAnQScsICdUJywgJ1MnLCAnTicsICdIJywgJ1AnLCAnRycsICdEJywg
J1FFJywgJ1InLCAnSyddLAogICAgICAgICAgICAxNzogWydXJywgJ0ZZJywgJ01MJywgJ0lWJywgJ0Mn
LCAnQScsICdUJywgJ1MnLCAnTicsICdIJywgJ1AnLCAnRycsICdEJywgJ1EnLCAnRScsICdSJywgJ0sn
XSwKICAgICAgICAgICAgMTg6IFsnVycsICdGWScsICdNJywgJ0wnLCAnSVYnLCAnQycsICdBJywgJ1Qn
LCAnUycsICdOJywgJ0gnLCAnUCcsICdHJywgJ0QnLCAnUScsICdFJywgJ1InLCAnSyddLAogICAgICAg
ICAgICAxOTogWydXJywgJ0YnLCAnWScsICdNJywgJ0wnLCAnSVYnLCAnQycsICdBJywgJ1QnLCAnUycs
ICdOJywgJ0gnLCAnUCcsICdHJywgJ0QnLCAnUScsICdFJywgJ1InLCAnSyddLAogICAgICAgICAgICAy
MDogWydXJywgJ0YnLCAnWScsICdNJywgJ0wnLCAnSScsICdWJywgJ0MnLCAnQScsICdUJywgJ1MnLCAn
TicsICdIJywgJ1AnLCAnRycsICdEJywgJ1EnLCAnRScsICdSJywgJ0snXSwKICAgICAgICB9CiAgICAg
ICAgZmFzdGFzID0gc2VsZi5mYXN0YV9saXN0CiAgICAgICAgc3VidHlwZSA9IHNlbGYua3dbJ1BzZUtS
QUFDX21vZGVsJ10KICAgICAgICByYWFjdHlwZSA9IHNlbGYua3dbJ1JBQUNfY2x1c3QnXQogICAgICAg
IGt0dXBsZSA9IHNlbGYua3dbJ2stdHVwbGUnXQogICAgICAgIGdsVmFsdWUgPSBzZWxmLmt3WydnLWdh
cCddIGlmIHN1YnR5cGUgPT0gJ2ctZ2FwJyBlbHNlIHNlbGYua3dbJ2xhbWJkYVZhbHVlJ10KCiAgICAg
ICAgaWYgcmFhY3R5cGUgbm90IGluIEFBR3JvdXA6CiAgICAgICAgICAgIHNlbGYuZXJyb3JfbXNnID0g
J1BzZUtSQUFDIGRlc2NyaXB0b3IgdmFsdWUgZXJyb3IuJwogICAgICAgICAgICByZXR1cm4gRmFsc2UK
CiAgICAgICAgIyBpbmRleCBlYWNoIGFtaW5vIGFjaWRzIHRvIHRoZWlyIGdyb3VwCiAgICAgICAgbXlE
aWN0ID0ge30KICAgICAgICBmb3IgaSBpbiByYW5nZShsZW4oQUFHcm91cFtyYWFjdHlwZV0pKToKICAg
ICAgICAgICAgZm9yIGFhIGluIEFBR3JvdXBbcmFhY3R5cGVdW2ldOgogICAgICAgICAgICAgICAgbXlE
aWN0W2FhXSA9IGkKCiAgICAgICAgZ0RpY3QgPSB7fQogICAgICAgIGdOYW1lcyA9IFtdCiAgICAgICAg
Zm9yIGkgaW4gcmFuZ2UobGVuKEFBR3JvdXBbcmFhY3R5cGVdKSk6CiAgICAgICAgICAgIGdEaWN0W2ld
ID0gJ1QxLkcuJyArIHN0cihpICsgMSkKICAgICAgICAgICAgZ05hbWVzLmFwcGVuZCgnVDEuRy4nICsg
c3RyKGkgKyAxKSkKCiAgICAgICAgZW5jb2RpbmdzID0gW10KICAgICAgICBpZiBzdWJ0eXBlID09ICdn
LWdhcCc6CiAgICAgICAgICAgIGVuY29kaW5ncyA9IHNlbGYuZ2FwTW9kZWwoZmFzdGFzLCBteURpY3Qs
IGdEaWN0LCBnTmFtZXMsIGt0dXBsZSwgZ2xWYWx1ZSkKICAgICAgICBlbHNlOgogICAgICAgICAgICBl
bmNvZGluZ3MgPSBzZWxmLmxhbWJkYU1vZGVsKGZhc3RhcywgbXlEaWN0LCBnRGljdCwgZ05hbWVzLCBr
dHVwbGUsIGdsVmFsdWUpCgogICAgICAgIHNlbGYuZW5jb2RpbmdfYXJyYXkgPSBucC5hcnJheShbXSkK
ICAgICAgICBzZWxmLmVuY29kaW5nX2FycmF5ID0gbnAuYXJyYXkoZW5jb2RpbmdzLCBkdHlwZT1zdHIp
CiAgICAgICAgc2VsZi5jb2x1bW4gPSBzZWxmLmVuY29kaW5nX2FycmF5LnNoYXBlWzFdCiAgICAgICAg
c2VsZi5yb3cgPSBzZWxmLmVuY29kaW5nX2FycmF5LnNoYXBlWzBdIC0gMQogICAgICAgIGRlbCBlbmNv
ZGluZ3MKICAgICAgICBpZiBzZWxmLmVuY29kaW5nX2FycmF5LnNoYXBlWzBdID4gMToKICAgICAgICAg
ICAgcmV0dXJuIFRydWUKICAgICAgICBlbHNlOgogICAgICAgICAgICByZXR1cm4gRmFsc2UKCiAgICBk
ZWYgUHJvdGVpbl9Qc2VLUkFBQ190eXBlXzIoc2VsZik6CiAgICAgICAgQUFHcm91cCA9IHsKICAgICAg
ICAgICAgMjogWydMVklNQ0FHU1RQRllXJywgJ0VETlFLUkgnXSwKICAgICAgICAgICAgMzogWydMVklN
Q0FHU1RQJywgJ0ZZVycsICdFRE5RS1JIJ10sCiAgICAgICAgICAgIDQ6IFsnTFZJTUMnLCAnQUdTVFAn
LCAnRllXJywgJ0VETlFLUkgnXSwKICAgICAgICAgICAgNTogWydMVklNQycsICdBR1NUUCcsICdGWVcn
LCAnRUROUScsICdLUkgnXSwKICAgICAgICAgICAgNjogWydMVklNJywgJ0FHU1QnLCAnUEhDJywgJ0ZZ
VycsICdFRE5RJywgJ0tSJ10sCiAgICAgICAgICAgIDg6IFsnTFZJTUMnLCAnQUcnLCAnU1QnLCAnUCcs
ICdGWVcnLCAnRUROUScsICdLUicsICdIJ10sCiAgICAgICAgICAgIDE1OiBbJ0xWSU0nLCAnQycsICdB
JywgJ0cnLCAnUycsICdUJywgJ1AnLCAnRlknLCAnVycsICdFJywgJ0QnLCAnTicsICdRJywgJ0tSJywg
J0gnXSwKICAgICAgICAgICAgMjA6IFsnTCcsICdWJywgJ0knLCAnTScsICdDJywgJ0EnLCAnRycsICdT
JywgJ1QnLCAnUCcsICdGJywgJ1knLCAnVycsICdFJywgJ0QnLCAnTicsICdRJywgJ0snLCAnUicsICdI
J10sCiAgICAgICAgfQogICAgICAgIGZhc3RhcyA9IHNlbGYuZmFzdGFfbGlzdAogICAgICAgIHN1YnR5
cGUgPSBzZWxmLmt3WydQc2VLUkFBQ19tb2RlbCddCiAgICAgICAgcmFhY3R5cGUgPSBzZWxmLmt3WydS
QUFDX2NsdXN0J10KICAgICAgICBrdHVwbGUgPSBzZWxmLmt3WydrLXR1cGxlJ10KICAgICAgICBnbFZh
bHVlID0gc2VsZi5rd1snZy1nYXAnXSBpZiBzdWJ0eXBlID09ICdnLWdhcCcgZWxzZSBzZWxmLmt3Wyds
YW1iZGFWYWx1ZSddCgogICAgICAgIGlmIHJhYWN0eXBlIG5vdCBpbiBBQUdyb3VwOgogICAgICAgICAg
ICBzZWxmLmVycm9yX21zZyA9ICdQc2VLUkFBQyBkZXNjcmlwdG9yIHZhbHVlIGVycm9yLicKICAgICAg
ICAgICAgcmV0dXJuIEZhbHNlCgogICAgICAgICMgaW5kZXggZWFjaCBhbWlubyBhY2lkcyB0byB0aGVp
ciBncm91cAogICAgICAgIG15RGljdCA9IHt9CiAgICAgICAgZm9yIGkgaW4gcmFuZ2UobGVuKEFBR3Jv
dXBbcmFhY3R5cGVdKSk6CiAgICAgICAgICAgIGZvciBhYSBpbiBBQUdyb3VwW3JhYWN0eXBlXVtpXToK
ICAgICAgICAgICAgICAgIG15RGljdFthYV0gPSBpCgogICAgICAgIGdEaWN0ID0ge30KICAgICAgICBn
TmFtZXMgPSBbXQogICAgICAgIGZvciBpIGluIHJhbmdlKGxlbihBQUdyb3VwW3JhYWN0eXBlXSkpOgog
ICAgICAgICAgICBnRGljdFtpXSA9ICdUMS5HLicgKyBzdHIoaSArIDEpCiAgICAgICAgICAgIGdOYW1l
cy5hcHBlbmQoJ1QxLkcuJyArIHN0cihpICsgMSkpCgogICAgICAgIGVuY29kaW5ncyA9IFtdCiAgICAg
ICAgaWYgc3VidHlwZSA9PSAnZy1nYXAnOgogICAgICAgICAgICBlbmNvZGluZ3MgPSBzZWxmLmdhcE1v
ZGVsKGZhc3RhcywgbXlEaWN0LCBnRGljdCwgZ05hbWVzLCBrdHVwbGUsIGdsVmFsdWUpCiAgICAgICAg
ZWxzZToKICAgICAgICAgICAgZW5jb2RpbmdzID0gc2VsZi5sYW1iZGFNb2RlbChmYXN0YXMsIG15RGlj
dCwgZ0RpY3QsIGdOYW1lcywga3R1cGxlLCBnbFZhbHVlKQoKICAgICAgICBzZWxmLmVuY29kaW5nX2Fy
cmF5ID0gbnAuYXJyYXkoW10pCiAgICAgICAgc2VsZi5lbmNvZGluZ19hcnJheSA9IG5wLmFycmF5KGVu
Y29kaW5ncywgZHR5cGU9c3RyKQogICAgICAgIHNlbGYuY29sdW1uID0gc2VsZi5lbmNvZGluZ19hcnJh
eS5zaGFwZVsxXQogICAgICAgIHNlbGYucm93ID0gc2VsZi5lbmNvZGluZ19hcnJheS5zaGFwZVswXSAt
IDEKICAgICAgICBkZWwgZW5jb2RpbmdzCiAgICAgICAgaWYgc2VsZi5lbmNvZGluZ19hcnJheS5zaGFw
ZVswXSA+IDE6CiAgICAgICAgICAgIHJldHVybiBUcnVlCiAgICAgICAgZWxzZToKICAgICAgICAgICAg
cmV0dXJuIEZhbHNlCgogICAgZGVmIFByb3RlaW5fUHNlS1JBQUNfdHlwZV8zQShzZWxmKToKICAgICAg
ICBBQUdyb3VwID0gewogICAgICAgICAgICAyOiBbJ0FHU1BERVFOSFRLUk1JTEZZVkMnLCAnVyddLAog
ICAgICAgICAgICAzOiBbJ0FHU1BERVFOSFRLUk1JTEZZVicsICdXJywgJ0MnXSwKICAgICAgICAgICAg
NDogWydBR1NQREVRTkhUS1JNSVYnLCAnVycsICdZRkwnLCAnQyddLAogICAgICAgICAgICA1OiBbJ0FH
U1BERVFOSFRLUicsICdXJywgJ1lGJywgJ01JVkwnLCAnQyddLAogICAgICAgICAgICA2OiBbJ0FHU1An
LCAnREVRTkhUS1InLCAnVycsICdZRicsICdNSUwnLCAnVkMnXSwKICAgICAgICAgICAgNzogWydBR1An
LCAnREVRTkgnLCAnVEtSTUlWJywgJ1cnLCAnWUYnLCAnTCcsICdDUyddLAogICAgICAgICAgICA4OiBb
J0FHJywgJ0RFUU4nLCAnVEtSTUlWJywgJ0hZJywgJ1cnLCAnTCcsICdGUCcsICdDUyddLAogICAgICAg
ICAgICA5OiBbJ0FHJywgJ1AnLCAnREVRTicsICdUS1JNSScsICdIWScsICdXJywgJ0YnLCAnTCcsICdW
Q1MnXSwKICAgICAgICAgICAgMTA6IFsnQUcnLCAnUCcsICdERVFOJywgJ1RLUk0nLCAnSFknLCAnVycs
ICdGJywgJ0knLCAnTCcsICdWQ1MnXSwKICAgICAgICAgICAgMTE6IFsnQUcnLCAnUCcsICdERVFOJywg
J1RLJywgJ1JJJywgJ0gnLCAnWScsICdXJywgJ0YnLCAnTUwnLCAnVkNTJ10sCiAgICAgICAgICAgIDEy
OiBbJ0ZBUycsICdQJywgJ0cnLCAnREVRJywgJ05MJywgJ1RLJywgJ1InLCAnSCcsICdXJywgJ1knLCAn
SU0nLCAnVkMnXSwKICAgICAgICAgICAgMTM6IFsnRkFTJywgJ1AnLCAnRycsICdERVEnLCAnTkwnLCAn
VCcsICdLJywgJ1InLCAnSCcsICdXJywgJ1knLCAnSU0nLCAnVkMnXSwKICAgICAgICAgICAgMTQ6IFsn
RkEnLCAnUCcsICdHJywgJ1QnLCAnREUnLCAnUU0nLCAnTkwnLCAnSycsICdSJywgJ0gnLCAnVycsICdZ
JywgJ0lWJywgJ0NTJ10sCiAgICAgICAgICAgIDE1OiBbJ0ZBUycsICdQJywgJ0cnLCAnVCcsICdERScs
ICdRJywgJ05MJywgJ0snLCAnUicsICdIJywgJ1cnLCAnWScsICdNJywgJ0knLCAnVkMnXSwKICAgICAg
ICAgICAgMTY6IFsnRkEnLCAnUCcsICdHJywgJ1NUJywgJ0RFJywgJ1EnLCAnTicsICdLJywgJ1InLCAn
SCcsICdXJywgJ1knLCAnTScsICdMJywgJ0knLCAnVkMnXSwKICAgICAgICAgICAgMTc6IFsnRkEnLCAn
UCcsICdHJywgJ1MnLCAnVCcsICdERScsICdRJywgJ04nLCAnSycsICdSJywgJ0gnLCAnVycsICdZJywg
J00nLCAnTCcsICdJJywgJ1ZDJ10sCiAgICAgICAgICAgIDE4OiBbJ0ZBJywgJ1AnLCAnRycsICdTJywg
J1QnLCAnREUnLCAnUScsICdOJywgJ0snLCAnUicsICdIJywgJ1cnLCAnWScsICdNJywgJ0wnLCAnSScs
ICdWJywgJ0MnXSwKICAgICAgICAgICAgMTk6IFsnRkEnLCAnUCcsICdHJywgJ1MnLCAnVCcsICdEJywg
J0UnLCAnUScsICdOJywgJ0snLCAnUicsICdIJywgJ1cnLCAnWScsICdNJywgJ0wnLCAnSScsICdWJywg
J0MnXSwKICAgICAgICAgICAgMjA6IFsnRicsICdBJywgJ1AnLCAnRycsICdTJywgJ1QnLCAnRCcsICdF
JywgJ1EnLCAnTicsICdLJywgJ1InLCAnSCcsICdXJywgJ1knLCAnTScsICdMJywgJ0knLCAnVicsICdD
J10sCiAgICAgICAgfQogICAgICAgIGZhc3RhcyA9IHNlbGYuZmFzdGFfbGlzdAogICAgICAgIHN1YnR5
cGUgPSBzZWxmLmt3WydQc2VLUkFBQ19tb2RlbCddCiAgICAgICAgcmFhY3R5cGUgPSBzZWxmLmt3WydS
QUFDX2NsdXN0J10KICAgICAgICBrdHVwbGUgPSBzZWxmLmt3WydrLXR1cGxlJ10KICAgICAgICBnbFZh
bHVlID0gc2VsZi5rd1snZy1nYXAnXSBpZiBzdWJ0eXBlID09ICdnLWdhcCcgZWxzZSBzZWxmLmt3Wyds
YW1iZGFWYWx1ZSddCgogICAgICAgIGlmIHJhYWN0eXBlIG5vdCBpbiBBQUdyb3VwOgogICAgICAgICAg
ICBzZWxmLmVycm9yX21zZyA9ICdQc2VLUkFBQyBkZXNjcmlwdG9yIHZhbHVlIGVycm9yLicKICAgICAg
ICAgICAgcmV0dXJuIEZhbHNlCgogICAgICAgICMgaW5kZXggZWFjaCBhbWlubyBhY2lkcyB0byB0aGVp
ciBncm91cAogICAgICAgIG15RGljdCA9IHt9CiAgICAgICAgZm9yIGkgaW4gcmFuZ2UobGVuKEFBR3Jv
dXBbcmFhY3R5cGVdKSk6CiAgICAgICAgICAgIGZvciBhYSBpbiBBQUdyb3VwW3JhYWN0eXBlXVtpXToK
ICAgICAgICAgICAgICAgIG15RGljdFthYV0gPSBpCgogICAgICAgIGdEaWN0ID0ge30KICAgICAgICBn
TmFtZXMgPSBbXQogICAgICAgIGZvciBpIGluIHJhbmdlKGxlbihBQUdyb3VwW3JhYWN0eXBlXSkpOgog
ICAgICAgICAgICBnRGljdFtpXSA9ICdUMS5HLicgKyBzdHIoaSArIDEpCiAgICAgICAgICAgIGdOYW1l
cy5hcHBlbmQoJ1QxLkcuJyArIHN0cihpICsgMSkpCgogICAgICAgIGVuY29kaW5ncyA9IFtdCiAgICAg
ICAgaWYgc3VidHlwZSA9PSAnZy1nYXAnOgogICAgICAgICAgICBlbmNvZGluZ3MgPSBzZWxmLmdhcE1v
ZGVsKGZhc3RhcywgbXlEaWN0LCBnRGljdCwgZ05hbWVzLCBrdHVwbGUsIGdsVmFsdWUpCiAgICAgICAg
ZWxzZToKICAgICAgICAgICAgZW5jb2RpbmdzID0gc2VsZi5sYW1iZGFNb2RlbChmYXN0YXMsIG15RGlj
dCwgZ0RpY3QsIGdOYW1lcywga3R1cGxlLCBnbFZhbHVlKQoKICAgICAgICBzZWxmLmVuY29kaW5nX2Fy
cmF5ID0gbnAuYXJyYXkoW10pCiAgICAgICAgc2VsZi5lbmNvZGluZ19hcnJheSA9IG5wLmFycmF5KGVu
Y29kaW5ncywgZHR5cGU9c3RyKQogICAgICAgIHNlbGYuY29sdW1uID0gc2VsZi5lbmNvZGluZ19hcnJh
eS5zaGFwZVsxXQogICAgICAgIHNlbGYucm93ID0gc2VsZi5lbmNvZGluZ19hcnJheS5zaGFwZVswXSAt
IDEKICAgICAgICBkZWwgZW5jb2RpbmdzCiAgICAgICAgaWYgc2VsZi5lbmNvZGluZ19hcnJheS5zaGFw
ZVswXSA+IDE6CiAgICAgICAgICAgIHJldHVybiBUcnVlCiAgICAgICAgZWxzZToKICAgICAgICAgICAg
cmV0dXJuIEZhbHNlCgogICAgZGVmIFByb3RlaW5fUHNlS1JBQUNfdHlwZV8zQihzZWxmKToKICAgICAg
ICBBQUdyb3VwID0gewogICAgICAgICAgICAyOiBbJ0hSS1FORURTVEdQQUNWSU0nLCAnTEZZVyddLAog
ICAgICAgICAgICAzOiBbJ0hSS1FORURTVEdQQUNWSU0nLCAnTEZZJywgJ1cnXSwKICAgICAgICAgICAg
NDogWydIUktRTkVEU1RHUEEnLCAnQ0lWJywgJ01MRlknLCAnVyddLAogICAgICAgICAgICA1OiBbJ0hS
S1FORURTVEdQQScsICdDVicsICdJTUwnLCAnRlknLCAnVyddLAogICAgICAgICAgICA2OiBbJ0hSS1FO
RURTVFBBJywgJ0cnLCAnQ1YnLCAnSU1MJywgJ0ZZJywgJ1cnXSwKICAgICAgICAgICAgNzogWydIUktR
TkVEU1RBJywgJ0cnLCAnUCcsICdDVicsICdJTUwnLCAnRlknLCAnVyddLAogICAgICAgICAgICA4OiBb
J0hSS1FTVEEnLCAnTkVEJywgJ0cnLCAnUCcsICdDVicsICdJTUwnLCAnRlknLCAnVyddLAogICAgICAg
ICAgICA5OiBbJ0hSS1EnLCAnTkVEJywgJ0FTVEcnLCAnUCcsICdDJywgJ0lWJywgJ01MRicsICdZJywg
J1cnXSwKICAgICAgICAgICAgMTA6IFsnUktIU0EnLCAnUScsICdORUQnLCAnRycsICdQJywgJ0MnLCAn
VElWJywgJ01MRicsICdZJywgJ1cnXSwKICAgICAgICAgICAgMTE6IFsnUktRJywgJ05HJywgJ0VEJywg
J0FTVCcsICdQJywgJ0MnLCAnSVYnLCAnSE1MJywgJ0YnLCAnWScsICdXJ10sCiAgICAgICAgICAgIDEy
OiBbJ1JLUScsICdFRCcsICdOQVNUJywgJ0cnLCAnUCcsICdDJywgJ0lWJywgJ0gnLCAnTUwnLCAnRics
ICdZJywgJ1cnXSwKICAgICAgICAgICAgMTM6IFsnUksnLCAnUUUnLCAnRCcsICdORycsICdIQScsICdT
VCcsICdQJywgJ0MnLCAnSVYnLCAnTUwnLCAnRicsICdZJywgJ1cnXSwKICAgICAgICAgICAgMTQ6IFsn
UicsICdLJywgJ1FFJywgJ0QnLCAnTkcnLCAnSEEnLCAnU1QnLCAnUCcsICdDJywgJ0lWJywgJ01MJywg
J0YnLCAnWScsICdXJ10sCiAgICAgICAgICAgIDE1OiBbJ1InLCAnSycsICdRRScsICdEJywgJ05HJywg
J0hBJywgJ1NUJywgJ1AnLCAnQycsICdJVicsICdNJywgJ0wnLCAnRicsICdZJywgJ1cnXSwKICAgICAg
ICAgICAgMTY6IFsnUicsICdLJywgJ1EnLCAnRScsICdEJywgJ05HJywgJ0hBJywgJ1NUJywgJ1AnLCAn
QycsICdJVicsICdNJywgJ0wnLCAnRicsICdZJywgJ1cnXSwKICAgICAgICAgICAgMTc6IFsnUicsICdL
JywgJ1EnLCAnRScsICdEJywgJ05HJywgJ0hBJywgJ1MnLCAnVCcsICdQJywgJ0MnLCAnSVYnLCAnTScs
ICdMJywgJ0YnLCAnWScsICdXJ10sCiAgICAgICAgICAgIDE4OiBbJ1InLCAnSycsICdRJywgJ0UnLCAn
RCcsICdORycsICdIQScsICdTJywgJ1QnLCAnUCcsICdDJywgJ0knLCAnVicsICdNJywgJ0wnLCAnRics
ICdZJywgJ1cnXSwKICAgICAgICAgICAgMTk6IFsnUicsICdLJywgJ1EnLCAnRScsICdEJywgJ05HJywg
J0gnLCAnQScsICdTJywgJ1QnLCAnUCcsICdDJywgJ0knLCAnVicsICdNJywgJ0wnLCAnRicsICdZJywg
J1cnXSwKICAgICAgICAgICAgMjA6IFsnUicsICdLJywgJ1EnLCAnRScsICdEJywgJ04nLCAnRycsICdI
JywgJ0EnLCAnUycsICdUJywgJ1AnLCAnQycsICdJJywgJ1YnLCAnTScsICdMJywgJ0YnLCAnWScsICdX
J10sCiAgICAgICAgfQoKICAgICAgICBmYXN0YXMgPSBzZWxmLmZhc3RhX2xpc3QKICAgICAgICBzdWJ0
eXBlID0gc2VsZi5rd1snUHNlS1JBQUNfbW9kZWwnXQogICAgICAgIHJhYWN0eXBlID0gc2VsZi5rd1sn
UkFBQ19jbHVzdCddCiAgICAgICAga3R1cGxlID0gc2VsZi5rd1snay10dXBsZSddCiAgICAgICAgZ2xW
YWx1ZSA9IHNlbGYua3dbJ2ctZ2FwJ10gaWYgc3VidHlwZSA9PSAnZy1nYXAnIGVsc2Ugc2VsZi5rd1sn
bGFtYmRhVmFsdWUnXQoKICAgICAgICBpZiByYWFjdHlwZSBub3QgaW4gQUFHcm91cDoKICAgICAgICAg
ICAgc2VsZi5lcnJvcl9tc2cgPSAnUHNlS1JBQUMgZGVzY3JpcHRvciB2YWx1ZSBlcnJvci4nCiAgICAg
ICAgICAgIHJldHVybiBGYWxzZQoKICAgICAgICAjIGluZGV4IGVhY2ggYW1pbm8gYWNpZHMgdG8gdGhl
aXIgZ3JvdXAKICAgICAgICBteURpY3QgPSB7fQogICAgICAgIGZvciBpIGluIHJhbmdlKGxlbihBQUdy
b3VwW3JhYWN0eXBlXSkpOgogICAgICAgICAgICBmb3IgYWEgaW4gQUFHcm91cFtyYWFjdHlwZV1baV06
CiAgICAgICAgICAgICAgICBteURpY3RbYWFdID0gaQoKICAgICAgICBnRGljdCA9IHt9CiAgICAgICAg
Z05hbWVzID0gW10KICAgICAgICBmb3IgaSBpbiByYW5nZShsZW4oQUFHcm91cFtyYWFjdHlwZV0pKToK
ICAgICAgICAgICAgZ0RpY3RbaV0gPSAnVDEuRy4nICsgc3RyKGkgKyAxKQogICAgICAgICAgICBnTmFt
ZXMuYXBwZW5kKCdUMS5HLicgKyBzdHIoaSArIDEpKQoKICAgICAgICBlbmNvZGluZ3MgPSBbXQogICAg
ICAgIGlmIHN1YnR5cGUgPT0gJ2ctZ2FwJzoKICAgICAgICAgICAgZW5jb2RpbmdzID0gc2VsZi5nYXBN
b2RlbChmYXN0YXMsIG15RGljdCwgZ0RpY3QsIGdOYW1lcywga3R1cGxlLCBnbFZhbHVlKQogICAgICAg
IGVsc2U6CiAgICAgICAgICAgIGVuY29kaW5ncyA9IHNlbGYubGFtYmRhTW9kZWwoZmFzdGFzLCBteURp
Y3QsIGdEaWN0LCBnTmFtZXMsIGt0dXBsZSwgZ2xWYWx1ZSkKCiAgICAgICAgc2VsZi5lbmNvZGluZ19h
cnJheSA9IG5wLmFycmF5KFtdKQogICAgICAgIHNlbGYuZW5jb2RpbmdfYXJyYXkgPSBucC5hcnJheShl
bmNvZGluZ3MsIGR0eXBlPXN0cikKICAgICAgICBzZWxmLmNvbHVtbiA9IHNlbGYuZW5jb2RpbmdfYXJy
YXkuc2hhcGVbMV0KICAgICAgICBzZWxmLnJvdyA9IHNlbGYuZW5jb2RpbmdfYXJyYXkuc2hhcGVbMF0g
LSAxCiAgICAgICAgZGVsIGVuY29kaW5ncwogICAgICAgIGlmIHNlbGYuZW5jb2RpbmdfYXJyYXkuc2hh
cGVbMF0gPiAxOgogICAgICAgICAgICByZXR1cm4gVHJ1ZQogICAgICAgIGVsc2U6CiAgICAgICAgICAg
IHJldHVybiBGYWxzZQoKICAgIGRlZiBQcm90ZWluX1BzZUtSQUFDX3R5cGVfNChzZWxmKToKICAgICAg
ICBBQUdyb3VwID0gewogICAgICAgICAgICA1OiBbJ0cnLCAnSVZGWVcnLCAnQUxNRVFSSycsICdQJywg
J05ESFNUQyddLAogICAgICAgICAgICA4OiBbJ0cnLCAnSVYnLCAnRllXJywgJ0FMTScsICdFUVJLJywg
J1AnLCAnTkQnLCAnSFNUQyddLAogICAgICAgICAgICA5OiBbJ0cnLCAnSVYnLCAnRllXJywgJ0FMTScs
ICdFUVJLJywgJ1AnLCAnTkQnLCAnSFMnLCAnVEMnXSwKICAgICAgICAgICAgMTE6IFsnRycsICdJVics
ICdGWVcnLCAnQScsICdMTScsICdFUVJLJywgJ1AnLCAnTkQnLCAnSFMnLCAnVCcsICdDJ10sCiAgICAg
ICAgICAgIDEzOiBbJ0cnLCAnSVYnLCAnRllXJywgJ0EnLCAnTCcsICdNJywgJ0UnLCAnUVJLJywgJ1An
LCAnTkQnLCAnSFMnLCAnVCcsICdDJ10sCiAgICAgICAgICAgIDIwOiBbJ0cnLCAnSScsICdWJywgJ0Yn
LCAnWScsICdXJywgJ0EnLCAnTCcsICdNJywgJ0UnLCAnUScsICdSJywgJ0snLCAnUCcsICdOJywgJ0Qn
LCAnSCcsICdTJywgJ1QnLCAnQyddLAogICAgICAgIH0KICAgICAgICBmYXN0YXMgPSBzZWxmLmZhc3Rh
X2xpc3QKICAgICAgICBzdWJ0eXBlID0gc2VsZi5rd1snUHNlS1JBQUNfbW9kZWwnXQogICAgICAgIHJh
YWN0eXBlID0gc2VsZi5rd1snUkFBQ19jbHVzdCddCiAgICAgICAga3R1cGxlID0gc2VsZi5rd1snay10
dXBsZSddCiAgICAgICAgZ2xWYWx1ZSA9IHNlbGYua3dbJ2ctZ2FwJ10gaWYgc3VidHlwZSA9PSAnZy1n
YXAnIGVsc2Ugc2VsZi5rd1snbGFtYmRhVmFsdWUnXQoKICAgICAgICBpZiByYWFjdHlwZSBub3QgaW4g
QUFHcm91cDoKICAgICAgICAgICAgc2VsZi5lcnJvcl9tc2cgPSAnUHNlS1JBQUMgZGVzY3JpcHRvciB2
YWx1ZSBlcnJvci4nCiAgICAgICAgICAgIHJldHVybiBGYWxzZQoKICAgICAgICAjIGluZGV4IGVhY2gg
YW1pbm8gYWNpZHMgdG8gdGhlaXIgZ3JvdXAKICAgICAgICBteURpY3QgPSB7fQogICAgICAgIGZvciBp
IGluIHJhbmdlKGxlbihBQUdyb3VwW3JhYWN0eXBlXSkpOgogICAgICAgICAgICBmb3IgYWEgaW4gQUFH
cm91cFtyYWFjdHlwZV1baV06CiAgICAgICAgICAgICAgICBteURpY3RbYWFdID0gaQoKICAgICAgICBn
RGljdCA9IHt9CiAgICAgICAgZ05hbWVzID0gW10KICAgICAgICBmb3IgaSBpbiByYW5nZShsZW4oQUFH
cm91cFtyYWFjdHlwZV0pKToKICAgICAgICAgICAgZ0RpY3RbaV0gPSAnVDEuRy4nICsgc3RyKGkgKyAx
KQogICAgICAgICAgICBnTmFtZXMuYXBwZW5kKCdUMS5HLicgKyBzdHIoaSArIDEpKQoKICAgICAgICBl
bmNvZGluZ3MgPSBbXQogICAgICAgIGlmIHN1YnR5cGUgPT0gJ2ctZ2FwJzoKICAgICAgICAgICAgZW5j
b2RpbmdzID0gc2VsZi5nYXBNb2RlbChmYXN0YXMsIG15RGljdCwgZ0RpY3QsIGdOYW1lcywga3R1cGxl
LCBnbFZhbHVlKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGVuY29kaW5ncyA9IHNlbGYubGFtYmRh
TW9kZWwoZmFzdGFzLCBteURpY3QsIGdEaWN0LCBnTmFtZXMsIGt0dXBsZSwgZ2xWYWx1ZSkKCiAgICAg
ICAgc2VsZi5lbmNvZGluZ19hcnJheSA9IG5wLmFycmF5KFtdKQogICAgICAgIHNlbGYuZW5jb2Rpbmdf
YXJyYXkgPSBucC5hcnJheShlbmNvZGluZ3MsIGR0eXBlPXN0cikKICAgICAgICBzZWxmLmNvbHVtbiA9
IHNlbGYuZW5jb2RpbmdfYXJyYXkuc2hhcGVbMV0KICAgICAgICBzZWxmLnJvdyA9IHNlbGYuZW5jb2Rp
bmdfYXJyYXkuc2hhcGVbMF0gLSAxCiAgICAgICAgZGVsIGVuY29kaW5ncwogICAgICAgIGlmIHNlbGYu
ZW5jb2RpbmdfYXJyYXkuc2hhcGVbMF0gPiAxOgogICAgICAgICAgICByZXR1cm4gVHJ1ZQogICAgICAg
IGVsc2U6CiAgICAgICAgICAgIHJldHVybiBGYWxzZQoKICAgIGRlZiBQcm90ZWluX1BzZUtSQUFDX3R5
cGVfNShzZWxmKToKICAgICAgICBBQUdyb3VwID0gewogICAgICAgICAgICAzOiBbJ0ZXWUNJTE1WQUdT
VFBITlEnLCAnREUnLCAnS1InXSwKICAgICAgICAgICAgNDogWydGV1knLCAnQ0lMTVYnLCAnQUdTVFAn
LCAnRVFOREhLUiddLAogICAgICAgICAgICA4OiBbJ0ZXWScsICdDSUxNVicsICdHQScsICdTVCcsICdQ
JywgJ0VRTkQnLCAnSCcsICdLUiddLAogICAgICAgICAgICAxMDogWydHJywgJ0ZZVycsICdBJywgJ0lM
TVYnLCAnUksnLCAnUCcsICdFUU5EJywgJ0gnLCAnU1QnLCAnQyddLAogICAgICAgICAgICAxNTogWydH
JywgJ0ZZJywgJ1cnLCAnQScsICdJTE1WJywgJ0UnLCAnUScsICdSSycsICdQJywgJ04nLCAnRCcsICdI
JywgJ1MnLCAnVCcsICdDJ10sCiAgICAgICAgICAgIDIwOiBbJ0cnLCAnSScsICdWJywgJ0YnLCAnWScs
ICdXJywgJ0EnLCAnTCcsICdNJywgJ0UnLCAnUScsICdSJywgJ0snLCAnUCcsICdOJywgJ0QnLCAnSCcs
ICdTJywgJ1QnLCAnQyddLAogICAgICAgIH0KICAgICAgICBmYXN0YXMgPSBzZWxmLmZhc3RhX2xpc3QK
ICAgICAgICBzdWJ0eXBlID0gc2VsZi5rd1snUHNlS1JBQUNfbW9kZWwnXQogICAgICAgIHJhYWN0eXBl
ID0gc2VsZi5rd1snUkFBQ19jbHVzdCddCiAgICAgICAga3R1cGxlID0gc2VsZi5rd1snay10dXBsZSdd
CiAgICAgICAgZ2xWYWx1ZSA9IHNlbGYua3dbJ2ctZ2FwJ10gaWYgc3VidHlwZSA9PSAnZy1nYXAnIGVs
c2Ugc2VsZi5rd1snbGFtYmRhVmFsdWUnXQoKICAgICAgICBpZiByYWFjdHlwZSBub3QgaW4gQUFHcm91
cDoKICAgICAgICAgICAgc2VsZi5lcnJvcl9tc2cgPSAnUHNlS1JBQUMgZGVzY3JpcHRvciB2YWx1ZSBl
cnJvci4nCiAgICAgICAgICAgIHJldHVybiBGYWxzZQoKICAgICAgICAjIGluZGV4IGVhY2ggYW1pbm8g
YWNpZHMgdG8gdGhlaXIgZ3JvdXAKICAgICAgICBteURpY3QgPSB7fQogICAgICAgIGZvciBpIGluIHJh
bmdlKGxlbihBQUdyb3VwW3JhYWN0eXBlXSkpOgogICAgICAgICAgICBmb3IgYWEgaW4gQUFHcm91cFty
YWFjdHlwZV1baV06CiAgICAgICAgICAgICAgICBteURpY3RbYWFdID0gaQoKICAgICAgICBnRGljdCA9
IHt9CiAgICAgICAgZ05hbWVzID0gW10KICAgICAgICBmb3IgaSBpbiByYW5nZShsZW4oQUFHcm91cFty
YWFjdHlwZV0pKToKICAgICAgICAgICAgZ0RpY3RbaV0gPSAnVDEuRy4nICsgc3RyKGkgKyAxKQogICAg
ICAgICAgICBnTmFtZXMuYXBwZW5kKCdUMS5HLicgKyBzdHIoaSArIDEpKQoKICAgICAgICBlbmNvZGlu
Z3MgPSBbXQogICAgICAgIGlmIHN1YnR5cGUgPT0gJ2ctZ2FwJzoKICAgICAgICAgICAgZW5jb2Rpbmdz
ID0gc2VsZi5nYXBNb2RlbChmYXN0YXMsIG15RGljdCwgZ0RpY3QsIGdOYW1lcywga3R1cGxlLCBnbFZh
bHVlKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGVuY29kaW5ncyA9IHNlbGYubGFtYmRhTW9kZWwo
ZmFzdGFzLCBteURpY3QsIGdEaWN0LCBnTmFtZXMsIGt0dXBsZSwgZ2xWYWx1ZSkKCiAgICAgICAgc2Vs
Zi5lbmNvZGluZ19hcnJheSA9IG5wLmFycmF5KFtdKQogICAgICAgIHNlbGYuZW5jb2RpbmdfYXJyYXkg
PSBucC5hcnJheShlbmNvZGluZ3MsIGR0eXBlPXN0cikKICAgICAgICBzZWxmLmNvbHVtbiA9IHNlbGYu
ZW5jb2RpbmdfYXJyYXkuc2hhcGVbMV0KICAgICAgICBzZWxmLnJvdyA9IHNlbGYuZW5jb2RpbmdfYXJy
YXkuc2hhcGVbMF0gLSAxCiAgICAgICAgZGVsIGVuY29kaW5ncwogICAgICAgIGlmIHNlbGYuZW5jb2Rp
bmdfYXJyYXkuc2hhcGVbMF0gPiAxOgogICAgICAgICAgICByZXR1cm4gVHJ1ZQogICAgICAgIGVsc2U6
CiAgICAgICAgICAgIHJldHVybiBGYWxzZQoKICAgIGRlZiBQcm90ZWluX1BzZUtSQUFDX3R5cGVfNkEo
c2VsZik6CiAgICAgICAgQUFHcm91cCA9IHsKICAgICAgICAgICAgNDogWydBR1BTVCcsICdDSUxNVics
ICdERUhLTlFSJywgJ0ZZVyddLAogICAgICAgICAgICA1OiBbJ0FIVCcsICdDRklMTVZXWScsICdERScs
ICdHUCcsICdLTlFSUyddLAogICAgICAgICAgICAyMDogWydBJywgJ0MnLCAnRCcsICdFJywgJ0YnLCAn
RycsICdIJywgJ0knLCAnSycsICdMJywgJ00nLCAnTicsICdQJywgJ1EnLCAnUicsICdTJywgJ1QnLCAn
VicsICdXJywgJ1knXSwKICAgICAgICB9CiAgICAgICAgZmFzdGFzID0gc2VsZi5mYXN0YV9saXN0CiAg
ICAgICAgc3VidHlwZSA9IHNlbGYua3dbJ1BzZUtSQUFDX21vZGVsJ10KICAgICAgICByYWFjdHlwZSA9
IHNlbGYua3dbJ1JBQUNfY2x1c3QnXQogICAgICAgIGt0dXBsZSA9IHNlbGYua3dbJ2stdHVwbGUnXQog
ICAgICAgIGdsVmFsdWUgPSBzZWxmLmt3WydnLWdhcCddIGlmIHN1YnR5cGUgPT0gJ2ctZ2FwJyBlbHNl
IHNlbGYua3dbJ2xhbWJkYVZhbHVlJ10KCiAgICAgICAgaWYgcmFhY3R5cGUgbm90IGluIEFBR3JvdXA6
CiAgICAgICAgICAgIHNlbGYuZXJyb3JfbXNnID0gJ1BzZUtSQUFDIGRlc2NyaXB0b3IgdmFsdWUgZXJy
b3IuJwogICAgICAgICAgICByZXR1cm4gRmFsc2UKCiAgICAgICAgIyBpbmRleCBlYWNoIGFtaW5vIGFj
aWRzIHRvIHRoZWlyIGdyb3VwCiAgICAgICAgbXlEaWN0ID0ge30KICAgICAgICBmb3IgaSBpbiByYW5n
ZShsZW4oQUFHcm91cFtyYWFjdHlwZV0pKToKICAgICAgICAgICAgZm9yIGFhIGluIEFBR3JvdXBbcmFh
Y3R5cGVdW2ldOgogICAgICAgICAgICAgICAgbXlEaWN0W2FhXSA9IGkKCiAgICAgICAgZ0RpY3QgPSB7
fQogICAgICAgIGdOYW1lcyA9IFtdCiAgICAgICAgZm9yIGkgaW4gcmFuZ2UobGVuKEFBR3JvdXBbcmFh
Y3R5cGVdKSk6CiAgICAgICAgICAgIGdEaWN0W2ldID0gJ1QxLkcuJyArIHN0cihpICsgMSkKICAgICAg
ICAgICAgZ05hbWVzLmFwcGVuZCgnVDEuRy4nICsgc3RyKGkgKyAxKSkKCiAgICAgICAgZW5jb2Rpbmdz
ID0gW10KICAgICAgICBpZiBzdWJ0eXBlID09ICdnLWdhcCc6CiAgICAgICAgICAgIGVuY29kaW5ncyA9
IHNlbGYuZ2FwTW9kZWwoZmFzdGFzLCBteURpY3QsIGdEaWN0LCBnTmFtZXMsIGt0dXBsZSwgZ2xWYWx1
ZSkKICAgICAgICBlbHNlOgogICAgICAgICAgICBlbmNvZGluZ3MgPSBzZWxmLmxhbWJkYU1vZGVsKGZh
c3RhcywgbXlEaWN0LCBnRGljdCwgZ05hbWVzLCBrdHVwbGUsIGdsVmFsdWUpCgogICAgICAgIHNlbGYu
ZW5jb2RpbmdfYXJyYXkgPSBucC5hcnJheShbXSkKICAgICAgICBzZWxmLmVuY29kaW5nX2FycmF5ID0g
bnAuYXJyYXkoZW5jb2RpbmdzLCBkdHlwZT1zdHIpCiAgICAgICAgc2VsZi5jb2x1bW4gPSBzZWxmLmVu
Y29kaW5nX2FycmF5LnNoYXBlWzFdCiAgICAgICAgc2VsZi5yb3cgPSBzZWxmLmVuY29kaW5nX2FycmF5
LnNoYXBlWzBdIC0gMQogICAgICAgIGRlbCBlbmNvZGluZ3MKICAgICAgICBpZiBzZWxmLmVuY29kaW5n
X2FycmF5LnNoYXBlWzBdID4gMToKICAgICAgICAgICAgcmV0dXJuIFRydWUKICAgICAgICBlbHNlOgog
ICAgICAgICAgICByZXR1cm4gRmFsc2UKCiAgICBkZWYgUHJvdGVpbl9Qc2VLUkFBQ190eXBlXzZCKHNl
bGYpOgogICAgICAgIEFBR3JvdXAgPSB7CiAgICAgICAgICAgIDU6IFsnQUVIS1FSU1QnLCAnQ0ZJTE1W
V1knLCAnRE4nLCAnRycsICdQJ10sCiAgICAgICAgfQogICAgICAgIGZhc3RhcyA9IHNlbGYuZmFzdGFf
bGlzdAogICAgICAgIHN1YnR5cGUgPSBzZWxmLmt3WydQc2VLUkFBQ19tb2RlbCddCiAgICAgICAgcmFh
Y3R5cGUgPSBzZWxmLmt3WydSQUFDX2NsdXN0J10KICAgICAgICBrdHVwbGUgPSBzZWxmLmt3WydrLXR1
cGxlJ10KICAgICAgICBnbFZhbHVlID0gc2VsZi5rd1snZy1nYXAnXSBpZiBzdWJ0eXBlID09ICdnLWdh
cCcgZWxzZSBzZWxmLmt3WydsYW1iZGFWYWx1ZSddCgogICAgICAgIGlmIHJhYWN0eXBlIG5vdCBpbiBB
QUdyb3VwOgogICAgICAgICAgICBzZWxmLmVycm9yX21zZyA9ICdQc2VLUkFBQyBkZXNjcmlwdG9yIHZh
bHVlIGVycm9yLicKICAgICAgICAgICAgcmV0dXJuIEZhbHNlCgogICAgICAgICMgaW5kZXggZWFjaCBh
bWlubyBhY2lkcyB0byB0aGVpciBncm91cAogICAgICAgIG15RGljdCA9IHt9CiAgICAgICAgZm9yIGkg
aW4gcmFuZ2UobGVuKEFBR3JvdXBbcmFhY3R5cGVdKSk6CiAgICAgICAgICAgIGZvciBhYSBpbiBBQUdy
b3VwW3JhYWN0eXBlXVtpXToKICAgICAgICAgICAgICAgIG15RGljdFthYV0gPSBpCgogICAgICAgIGdE
aWN0ID0ge30KICAgICAgICBnTmFtZXMgPSBbXQogICAgICAgIGZvciBpIGluIHJhbmdlKGxlbihBQUdy
b3VwW3JhYWN0eXBlXSkpOgogICAgICAgICAgICBnRGljdFtpXSA9ICdUMS5HLicgKyBzdHIoaSArIDEp
CiAgICAgICAgICAgIGdOYW1lcy5hcHBlbmQoJ1QxLkcuJyArIHN0cihpICsgMSkpCgogICAgICAgIGVu
Y29kaW5ncyA9IFtdCiAgICAgICAgaWYgc3VidHlwZSA9PSAnZy1nYXAnOgogICAgICAgICAgICBlbmNv
ZGluZ3MgPSBzZWxmLmdhcE1vZGVsKGZhc3RhcywgbXlEaWN0LCBnRGljdCwgZ05hbWVzLCBrdHVwbGUs
IGdsVmFsdWUpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgZW5jb2RpbmdzID0gc2VsZi5sYW1iZGFN
b2RlbChmYXN0YXMsIG15RGljdCwgZ0RpY3QsIGdOYW1lcywga3R1cGxlLCBnbFZhbHVlKQoKICAgICAg
ICBzZWxmLmVuY29kaW5nX2FycmF5ID0gbnAuYXJyYXkoW10pCiAgICAgICAgc2VsZi5lbmNvZGluZ19h
cnJheSA9IG5wLmFycmF5KGVuY29kaW5ncywgZHR5cGU9c3RyKQogICAgICAgIHNlbGYuY29sdW1uID0g
c2VsZi5lbmNvZGluZ19hcnJheS5zaGFwZVsxXQogICAgICAgIHNlbGYucm93ID0gc2VsZi5lbmNvZGlu
Z19hcnJheS5zaGFwZVswXSAtIDEKICAgICAgICBkZWwgZW5jb2RpbmdzCiAgICAgICAgaWYgc2VsZi5l
bmNvZGluZ19hcnJheS5zaGFwZVswXSA+IDE6CiAgICAgICAgICAgIHJldHVybiBUcnVlCiAgICAgICAg
ZWxzZToKICAgICAgICAgICAgcmV0dXJuIEZhbHNlCgogICAgZGVmIFByb3RlaW5fUHNlS1JBQUNfdHlw
ZV82QyhzZWxmKToKICAgICAgICBBQUdyb3VwID0gewogICAgICAgICAgICA1OiBbJ0FHJywgJ0MnLCAn
REVLTlBRUlNUJywgJ0ZJTE1WV1knLCAnSCddLAogICAgICAgIH0KICAgICAgICBmYXN0YXMgPSBzZWxm
LmZhc3RhX2xpc3QKICAgICAgICBzdWJ0eXBlID0gc2VsZi5rd1snUHNlS1JBQUNfbW9kZWwnXQogICAg
ICAgIHJhYWN0eXBlID0gc2VsZi5rd1snUkFBQ19jbHVzdCddCiAgICAgICAga3R1cGxlID0gc2VsZi5r
d1snay10dXBsZSddCiAgICAgICAgZ2xWYWx1ZSA9IHNlbGYua3dbJ2ctZ2FwJ10gaWYgc3VidHlwZSA9
PSAnZy1nYXAnIGVsc2Ugc2VsZi5rd1snbGFtYmRhVmFsdWUnXQoKICAgICAgICBpZiByYWFjdHlwZSBu
b3QgaW4gQUFHcm91cDoKICAgICAgICAgICAgc2VsZi5lcnJvcl9tc2cgPSAnUHNlS1JBQUMgZGVzY3Jp
cHRvciB2YWx1ZSBlcnJvci4nCiAgICAgICAgICAgIHJldHVybiBGYWxzZQoKICAgICAgICAjIGluZGV4
IGVhY2ggYW1pbm8gYWNpZHMgdG8gdGhlaXIgZ3JvdXAKICAgICAgICBteURpY3QgPSB7fQogICAgICAg
IGZvciBpIGluIHJhbmdlKGxlbihBQUdyb3VwW3JhYWN0eXBlXSkpOgogICAgICAgICAgICBmb3IgYWEg
aW4gQUFHcm91cFtyYWFjdHlwZV1baV06CiAgICAgICAgICAgICAgICBteURpY3RbYWFdID0gaQoKICAg
ICAgICBnRGljdCA9IHt9CiAgICAgICAgZ05hbWVzID0gW10KICAgICAgICBmb3IgaSBpbiByYW5nZShs
ZW4oQUFHcm91cFtyYWFjdHlwZV0pKToKICAgICAgICAgICAgZ0RpY3RbaV0gPSAnVDEuRy4nICsgc3Ry
KGkgKyAxKQogICAgICAgICAgICBnTmFtZXMuYXBwZW5kKCdUMS5HLicgKyBzdHIoaSArIDEpKQoKICAg
ICAgICBlbmNvZGluZ3MgPSBbXQogICAgICAgIGlmIHN1YnR5cGUgPT0gJ2ctZ2FwJzoKICAgICAgICAg
ICAgZW5jb2RpbmdzID0gc2VsZi5nYXBNb2RlbChmYXN0YXMsIG15RGljdCwgZ0RpY3QsIGdOYW1lcywg
a3R1cGxlLCBnbFZhbHVlKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGVuY29kaW5ncyA9IHNlbGYu
bGFtYmRhTW9kZWwoZmFzdGFzLCBteURpY3QsIGdEaWN0LCBnTmFtZXMsIGt0dXBsZSwgZ2xWYWx1ZSkK
CiAgICAgICAgc2VsZi5lbmNvZGluZ19hcnJheSA9IG5wLmFycmF5KFtdKQogICAgICAgIHNlbGYuZW5j
b2RpbmdfYXJyYXkgPSBucC5hcnJheShlbmNvZGluZ3MsIGR0eXBlPXN0cikKICAgICAgICBzZWxmLmNv
bHVtbiA9IHNlbGYuZW5jb2RpbmdfYXJyYXkuc2hhcGVbMV0KICAgICAgICBzZWxmLnJvdyA9IHNlbGYu
ZW5jb2RpbmdfYXJyYXkuc2hhcGVbMF0gLSAxCiAgICAgICAgZGVsIGVuY29kaW5ncwogICAgICAgIGlm
IHNlbGYuZW5jb2RpbmdfYXJyYXkuc2hhcGVbMF0gPiAxOgogICAgICAgICAgICByZXR1cm4gVHJ1ZQog
ICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJldHVybiBGYWxzZQoKICAgIGRlZiBQcm90ZWluX1BzZUtS
QUFDX3R5cGVfNyhzZWxmKToKICAgICAgICBBQUdyb3VwID0gewogICAgICAgICAgICAyOiBbJ0MnLCAn
TUZJTFZXWUFHVFNOUURFSFJLUCddLAogICAgICAgICAgICAzOiBbJ0MnLCAnTUZJTFZXWUFLUicsICdH
VFNOUURFSFAnXSwKICAgICAgICAgICAgNDogWydDJywgJ0tSJywgJ01GSUxWV1lBJywgJ0dUU05RREVI
UCddLAogICAgICAgICAgICA1OiBbJ0MnLCAnS1InLCAnTUZJTFZXWUEnLCAnREUnLCAnR1RTTlFIUCdd
LAogICAgICAgICAgICA2OiBbJ0MnLCAnS1InLCAnV1lBJywgJ01GSUxWJywgJ0RFJywgJ0dUU05RSFAn
XSwKICAgICAgICAgICAgNzogWydDJywgJ0tSJywgJ1dZQScsICdNRklMVicsICdERScsICdRSCcsICdH
VFNOUCddLAogICAgICAgICAgICA4OiBbJ0MnLCAnS1InLCAnV1lBJywgJ01GSUxWJywgJ0QnLCAnRScs
ICdRSCcsICdHVFNOUCddLAogICAgICAgICAgICA5OiBbJ0MnLCAnS1InLCAnV1lBJywgJ01GSUxWJywg
J0QnLCAnRScsICdRSCcsICdUUCcsICdHU04nXSwKICAgICAgICAgICAgMTA6IFsnQycsICdLUicsICdX
WScsICdBJywgJ01GSUxWJywgJ0QnLCAnRScsICdRSCcsICdUUCcsICdHU04nXSwKICAgICAgICAgICAg
MTE6IFsnQycsICdLJywgJ1InLCAnV1knLCAnQScsICdNRklMVicsICdEJywgJ0UnLCAnUUgnLCAnVFAn
LCAnR1NOJ10sCiAgICAgICAgICAgIDEyOiBbJ0MnLCAnSycsICdSJywgJ1dZJywgJ0EnLCAnTUZJTFYn
LCAnRCcsICdFJywgJ1FIJywgJ1RQJywgJ0dTJywgJ04nXSwKICAgICAgICAgICAgMTM6IFsnQycsICdL
JywgJ1InLCAnVycsICdZJywgJ0EnLCAnTUZJTFYnLCAnRCcsICdFJywgJ1FIJywgJ1RQJywgJ0dTJywg
J04nXSwKICAgICAgICAgICAgMTQ6IFsnQycsICdLJywgJ1InLCAnVycsICdZJywgJ0EnLCAnRklMVics
ICdNJywgJ0QnLCAnRScsICdRSCcsICdUUCcsICdHUycsICdOJ10sCiAgICAgICAgICAgIDE1OiBbJ0Mn
LCAnSycsICdSJywgJ1cnLCAnWScsICdBJywgJ0ZJTFYnLCAnTScsICdEJywgJ0UnLCAnUScsICdIJywg
J1RQJywgJ0dTJywgJ04nXSwKICAgICAgICAgICAgMTY6IFsnQycsICdLJywgJ1InLCAnVycsICdZJywg
J0EnLCAnRklMVicsICdNJywgJ0QnLCAnRScsICdRJywgJ0gnLCAnVFAnLCAnRycsICdTJywgJ04nXSwK
ICAgICAgICAgICAgMTc6IFsnQycsICdLJywgJ1InLCAnVycsICdZJywgJ0EnLCAnRkknLCAnTFYnLCAn
TScsICdEJywgJ0UnLCAnUScsICdIJywgJ1RQJywgJ0cnLCAnUycsICdOJ10sCiAgICAgICAgICAgIDE4
OiBbJ0MnLCAnSycsICdSJywgJ1cnLCAnWScsICdBJywgJ0ZJJywgJ0xWJywgJ00nLCAnRCcsICdFJywg
J1EnLCAnSCcsICdUJywgJ1AnLCAnRycsICdTJywgJ04nXSwKICAgICAgICAgICAgMTk6IFsnQycsICdL
JywgJ1InLCAnVycsICdZJywgJ0EnLCAnRicsICdJJywgJ0xWJywgJ00nLCAnRCcsICdFJywgJ1EnLCAn
SCcsICdUJywgJ1AnLCAnRycsICdTJywgJ04nXSwKICAgICAgICAgICAgMjA6IFsnQycsICdLJywgJ1In
LCAnVycsICdZJywgJ0EnLCAnRicsICdJJywgJ0wnLCAnVicsICdNJywgJ0QnLCAnRScsICdRJywgJ0gn
LCAnVCcsICdQJywgJ0cnLCAnUycsICdOJ10sCiAgICAgICAgfQogICAgICAgIGZhc3RhcyA9IHNlbGYu
ZmFzdGFfbGlzdAogICAgICAgIHN1YnR5cGUgPSBzZWxmLmt3WydQc2VLUkFBQ19tb2RlbCddCiAgICAg
ICAgcmFhY3R5cGUgPSBzZWxmLmt3WydSQUFDX2NsdXN0J10KICAgICAgICBrdHVwbGUgPSBzZWxmLmt3
WydrLXR1cGxlJ10KICAgICAgICBnbFZhbHVlID0gc2VsZi5rd1snZy1nYXAnXSBpZiBzdWJ0eXBlID09
ICdnLWdhcCcgZWxzZSBzZWxmLmt3WydsYW1iZGFWYWx1ZSddCgogICAgICAgIGlmIHJhYWN0eXBlIG5v
dCBpbiBBQUdyb3VwOgogICAgICAgICAgICBzZWxmLmVycm9yX21zZyA9ICdQc2VLUkFBQyBkZXNjcmlw
dG9yIHZhbHVlIGVycm9yLicKICAgICAgICAgICAgcmV0dXJuIEZhbHNlCgogICAgICAgICMgaW5kZXgg
ZWFjaCBhbWlubyBhY2lkcyB0byB0aGVpciBncm91cAogICAgICAgIG15RGljdCA9IHt9CiAgICAgICAg
Zm9yIGkgaW4gcmFuZ2UobGVuKEFBR3JvdXBbcmFhY3R5cGVdKSk6CiAgICAgICAgICAgIGZvciBhYSBp
biBBQUdyb3VwW3JhYWN0eXBlXVtpXToKICAgICAgICAgICAgICAgIG15RGljdFthYV0gPSBpCgogICAg
ICAgIGdEaWN0ID0ge30KICAgICAgICBnTmFtZXMgPSBbXQogICAgICAgIGZvciBpIGluIHJhbmdlKGxl
bihBQUdyb3VwW3JhYWN0eXBlXSkpOgogICAgICAgICAgICBnRGljdFtpXSA9ICdUMS5HLicgKyBzdHIo
aSArIDEpCiAgICAgICAgICAgIGdOYW1lcy5hcHBlbmQoJ1QxLkcuJyArIHN0cihpICsgMSkpCgogICAg
ICAgIGVuY29kaW5ncyA9IFtdCiAgICAgICAgaWYgc3VidHlwZSA9PSAnZy1nYXAnOgogICAgICAgICAg
ICBlbmNvZGluZ3MgPSBzZWxmLmdhcE1vZGVsKGZhc3RhcywgbXlEaWN0LCBnRGljdCwgZ05hbWVzLCBr
dHVwbGUsIGdsVmFsdWUpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgZW5jb2RpbmdzID0gc2VsZi5s
YW1iZGFNb2RlbChmYXN0YXMsIG15RGljdCwgZ0RpY3QsIGdOYW1lcywga3R1cGxlLCBnbFZhbHVlKQoK
ICAgICAgICBzZWxmLmVuY29kaW5nX2FycmF5ID0gbnAuYXJyYXkoW10pCiAgICAgICAgc2VsZi5lbmNv
ZGluZ19hcnJheSA9IG5wLmFycmF5KGVuY29kaW5ncywgZHR5cGU9c3RyKQogICAgICAgIHNlbGYuY29s
dW1uID0gc2VsZi5lbmNvZGluZ19hcnJheS5zaGFwZVsxXQogICAgICAgIHNlbGYucm93ID0gc2VsZi5l
bmNvZGluZ19hcnJheS5zaGFwZVswXSAtIDEKICAgICAgICBkZWwgZW5jb2RpbmdzCiAgICAgICAgaWYg
c2VsZi5lbmNvZGluZ19hcnJheS5zaGFwZVswXSA+IDE6CiAgICAgICAgICAgIHJldHVybiBUcnVlCiAg
ICAgICAgZWxzZToKICAgICAgICAgICAgcmV0dXJuIEZhbHNlCgogICAgZGVmIFByb3RlaW5fUHNlS1JB
QUNfdHlwZV84KHNlbGYpOgogICAgICAgIEFBR3JvdXAgPSB7CiAgICAgICAgICAgIDI6IFsnQURFR0tO
UFFSU1QnLCAnQ0ZISUxNVldZJ10sCiAgICAgICAgICAgIDM6IFsnQURFR05QU1QnLCAnQ0hLUVJXJywg
J0ZJTE1WWSddLAogICAgICAgICAgICA0OiBbJ0FHTlBTVCcsICdDSFdZJywgJ0RFS1FSJywgJ0ZJTE1W
J10sCiAgICAgICAgICAgIDU6IFsnQUdQU1QnLCAnQ0ZXWScsICdERU4nLCAnSEtRUicsICdJTE1WJ10s
CiAgICAgICAgICAgIDY6IFsnQVBTVCcsICdDVycsICdERUdOJywgJ0ZIWScsICdJTE1WJywgJ0tRUidd
LAogICAgICAgICAgICA3OiBbJ0FHU1QnLCAnQ1cnLCAnREVOJywgJ0ZZJywgJ0hQJywgJ0lMTVYnLCAn
S1FSJ10sCiAgICAgICAgICAgIDg6IFsnQVNUJywgJ0NHJywgJ0RFTicsICdGWScsICdIUCcsICdJTFYn
LCAnS1FSJywgJ01XJ10sCiAgICAgICAgICAgIDk6IFsnQVNUJywgJ0NXJywgJ0RFJywgJ0ZZJywgJ0dO
JywgJ0hRJywgJ0lMVicsICdLUicsICdNUCddLAogICAgICAgICAgICAxMDogWydBU1QnLCAnQ1cnLCAn
REUnLCAnRlknLCAnR04nLCAnSFEnLCAnSVYnLCAnS1InLCAnTE0nLCAnUCddLAogICAgICAgICAgICAx
MTogWydBU1QnLCAnQycsICdERScsICdGWScsICdHTicsICdIUScsICdJVicsICdLUicsICdMTScsICdQ
JywgJ1cnXSwKICAgICAgICAgICAgMTI6IFsnQVNUJywgJ0MnLCAnREUnLCAnRlknLCAnRycsICdIUScs
ICdJVicsICdLUicsICdMTScsICdOJywgJ1AnLCAnVyddLAogICAgICAgICAgICAxMzogWydBU1QnLCAn
QycsICdERScsICdGWScsICdHJywgJ0gnLCAnSVYnLCAnS1InLCAnTE0nLCAnTicsICdQJywgJ1EnLCAn
VyddLAogICAgICAgICAgICAxNDogWydBU1QnLCAnQycsICdERScsICdGTCcsICdHJywgJ0gnLCAnSVYn
LCAnS1InLCAnTScsICdOJywgJ1AnLCAnUScsICdXJywgJ1knXSwKICAgICAgICAgICAgMTU6IFsnQVNU
JywgJ0MnLCAnREUnLCAnRicsICdHJywgJ0gnLCAnSVYnLCAnS1InLCAnTCcsICdNJywgJ04nLCAnUCcs
ICdRJywgJ1cnLCAnWSddLAogICAgICAgICAgICAxNjogWydBVCcsICdDJywgJ0RFJywgJ0YnLCAnRycs
ICdIJywgJ0lWJywgJ0tSJywgJ0wnLCAnTScsICdOJywgJ1AnLCAnUScsICdTJywgJ1cnLCAnWSddLAog
ICAgICAgICAgICAxNzogWydBVCcsICdDJywgJ0RFJywgJ0YnLCAnRycsICdIJywgJ0lWJywgJ0snLCAn
TCcsICdNJywgJ04nLCAnUCcsICdRJywgJ1InLCAnUycsICdXJywgJ1knXSwKICAgICAgICAgICAgMTg6
IFsnQScsICdDJywgJ0RFJywgJ0YnLCAnRycsICdIJywgJ0lWJywgJ0snLCAnTCcsICdNJywgJ04nLCAn
UCcsICdRJywgJ1InLCAnUycsICdUJywgJ1cnLCAnWSddLAogICAgICAgICAgICAxOTogWydBJywgJ0Mn
LCAnRCcsICdFJywgJ0YnLCAnRycsICdIJywgJ0lWJywgJ0snLCAnTCcsICdNJywgJ04nLCAnUCcsICdR
JywgJ1InLCAnUycsICdUJywgJ1cnLCAnWSddLAogICAgICAgICAgICAyMDogWydBJywgJ0MnLCAnRCcs
ICdFJywgJ0YnLCAnRycsICdIJywgJ0knLCAnVicsICdLJywgJ0wnLCAnTScsICdOJywgJ1AnLCAnUScs
ICdSJywgJ1MnLCAnVCcsICdXJywgJ1knXSwKICAgICAgICB9CiAgICAgICAgZmFzdGFzID0gc2VsZi5m
YXN0YV9saXN0CiAgICAgICAgc3VidHlwZSA9IHNlbGYua3dbJ1BzZUtSQUFDX21vZGVsJ10KICAgICAg
ICByYWFjdHlwZSA9IHNlbGYua3dbJ1JBQUNfY2x1c3QnXQogICAgICAgIGt0dXBsZSA9IHNlbGYua3db
J2stdHVwbGUnXQogICAgICAgIGdsVmFsdWUgPSBzZWxmLmt3WydnLWdhcCddIGlmIHN1YnR5cGUgPT0g
J2ctZ2FwJyBlbHNlIHNlbGYua3dbJ2xhbWJkYVZhbHVlJ10KCiAgICAgICAgaWYgcmFhY3R5cGUgbm90
IGluIEFBR3JvdXA6CiAgICAgICAgICAgIHNlbGYuZXJyb3JfbXNnID0gJ1BzZUtSQUFDIGRlc2NyaXB0
b3IgdmFsdWUgZXJyb3IuJwogICAgICAgICAgICByZXR1cm4gRmFsc2UKCiAgICAgICAgIyBpbmRleCBl
YWNoIGFtaW5vIGFjaWRzIHRvIHRoZWlyIGdyb3VwCiAgICAgICAgbXlEaWN0ID0ge30KICAgICAgICBm
b3IgaSBpbiByYW5nZShsZW4oQUFHcm91cFtyYWFjdHlwZV0pKToKICAgICAgICAgICAgZm9yIGFhIGlu
IEFBR3JvdXBbcmFhY3R5cGVdW2ldOgogICAgICAgICAgICAgICAgbXlEaWN0W2FhXSA9IGkKCiAgICAg
ICAgZ0RpY3QgPSB7fQogICAgICAgIGdOYW1lcyA9IFtdCiAgICAgICAgZm9yIGkgaW4gcmFuZ2UobGVu
KEFBR3JvdXBbcmFhY3R5cGVdKSk6CiAgICAgICAgICAgIGdEaWN0W2ldID0gJ1QxLkcuJyArIHN0cihp
ICsgMSkKICAgICAgICAgICAgZ05hbWVzLmFwcGVuZCgnVDEuRy4nICsgc3RyKGkgKyAxKSkKCiAgICAg
ICAgZW5jb2RpbmdzID0gW10KICAgICAgICBpZiBzdWJ0eXBlID09ICdnLWdhcCc6CiAgICAgICAgICAg
IGVuY29kaW5ncyA9IHNlbGYuZ2FwTW9kZWwoZmFzdGFzLCBteURpY3QsIGdEaWN0LCBnTmFtZXMsIGt0
dXBsZSwgZ2xWYWx1ZSkKICAgICAgICBlbHNlOgogICAgICAgICAgICBlbmNvZGluZ3MgPSBzZWxmLmxh
bWJkYU1vZGVsKGZhc3RhcywgbXlEaWN0LCBnRGljdCwgZ05hbWVzLCBrdHVwbGUsIGdsVmFsdWUpCgog
ICAgICAgIHNlbGYuZW5jb2RpbmdfYXJyYXkgPSBucC5hcnJheShbXSkKICAgICAgICBzZWxmLmVuY29k
aW5nX2FycmF5ID0gbnAuYXJyYXkoZW5jb2RpbmdzLCBkdHlwZT1zdHIpCiAgICAgICAgc2VsZi5jb2x1
bW4gPSBzZWxmLmVuY29kaW5nX2FycmF5LnNoYXBlWzFdCiAgICAgICAgc2VsZi5yb3cgPSBzZWxmLmVu
Y29kaW5nX2FycmF5LnNoYXBlWzBdIC0gMQogICAgICAgIGRlbCBlbmNvZGluZ3MKICAgICAgICBpZiBz
ZWxmLmVuY29kaW5nX2FycmF5LnNoYXBlWzBdID4gMToKICAgICAgICAgICAgcmV0dXJuIFRydWUKICAg
ICAgICBlbHNlOgogICAgICAgICAgICByZXR1cm4gRmFsc2UKCiAgICBkZWYgUHJvdGVpbl9Qc2VLUkFB
Q190eXBlXzkoc2VsZik6CiAgICAgICAgQUFHcm91cCA9IHsKICAgICAgICAgICAgMjogWydBQ0RFRkdI
SUxNTlBRUlNUVldZJywgJ0snXSwKICAgICAgICAgICAgMzogWydBQ0RGR01QUVJTVFcnLCAnRUhJTE5W
WScsICdLJ10sCiAgICAgICAgICAgIDQ6IFsnQUdQVCcsICdDREZNUVJTVycsICdFSElMTlZZJywgJ0sn
XSwKICAgICAgICAgICAgNTogWydBR1BUJywgJ0NEUScsICdFSElMTlZZJywgJ0ZNUlNXJywgJ0snXSwK
ICAgICAgICAgICAgNjogWydBRycsICdDRFEnLCAnRUhJTE5WWScsICdGTVJTVycsICdLJywgJ1BUJ10s
CiAgICAgICAgICAgIDc6IFsnQUcnLCAnQ0RRJywgJ0VITlknLCAnRk1SU1cnLCAnSUxWJywgJ0snLCAn
UFQnXSwKICAgICAgICAgICAgODogWydBRycsICdDJywgJ0RRJywgJ0VITlknLCAnRk1SU1cnLCAnSUxW
JywgJ0snLCAnUFQnXSwKICAgICAgICAgICAgOTogWydBRycsICdDJywgJ0RRJywgJ0VITlknLCAnRk1X
JywgJ0lMVicsICdLJywgJ1BUJywgJ1JTJ10sCiAgICAgICAgICAgIDEwOiBbJ0EnLCAnQycsICdEUScs
ICdFSE5ZJywgJ0ZNVycsICdHJywgJ0lMVicsICdLJywgJ1BUJywgJ1JTJ10sCiAgICAgICAgICAgIDEx
OiBbJ0EnLCAnQycsICdEUScsICdFSE5ZJywgJ0ZNJywgJ0cnLCAnSUxWJywgJ0snLCAnUFQnLCAnUlMn
LCAnVyddLAogICAgICAgICAgICAxMjogWydBJywgJ0MnLCAnRFEnLCAnRUhOWScsICdGTScsICdHJywg
J0lMJywgJ0snLCAnUFQnLCAnUlMnLCAnVicsICdXJ10sCiAgICAgICAgICAgIDEzOiBbJ0EnLCAnQycs
ICdEUScsICdFJywgJ0ZNJywgJ0cnLCAnSE5ZJywgJ0lMJywgJ0snLCAnUFQnLCAnUlMnLCAnVicsICdX
J10sCiAgICAgICAgICAgIDE0OiBbJ0EnLCAnQycsICdEJywgJ0UnLCAnRk0nLCAnRycsICdITlknLCAn
SUwnLCAnSycsICdQVCcsICdRJywgJ1JTJywgJ1YnLCAnVyddLAogICAgICAgICAgICAxNTogWydBJywg
J0MnLCAnRCcsICdFJywgJ0ZNJywgJ0cnLCAnSE5ZJywgJ0lMJywgJ0snLCAnUFQnLCAnUScsICdSJywg
J1MnLCAnVicsICdXJ10sCiAgICAgICAgICAgIDE2OiBbJ0EnLCAnQycsICdEJywgJ0UnLCAnRicsICdH
JywgJ0hOWScsICdJTCcsICdLJywgJ00nLCAnUFQnLCAnUScsICdSJywgJ1MnLCAnVicsICdXJ10sCiAg
ICAgICAgICAgIDE3OiBbJ0EnLCAnQycsICdEJywgJ0UnLCAnRicsICdHJywgJ0hOWScsICdJTCcsICdL
JywgJ00nLCAnUCcsICdRJywgJ1InLCAnUycsICdUJywgJ1YnLCAnVyddLAogICAgICAgICAgICAxODog
WydBJywgJ0MnLCAnRCcsICdFJywgJ0YnLCAnRycsICdITlknLCAnSScsICdLJywgJ0wnLCAnTScsICdQ
JywgJ1EnLCAnUicsICdTJywgJ1QnLCAnVicsICdXJ10sCiAgICAgICAgICAgIDE5OiBbJ0EnLCAnQycs
ICdEJywgJ0UnLCAnRicsICdHJywgJ0hOJywgJ0knLCAnSycsICdMJywgJ00nLCAnUCcsICdRJywgJ1In
LCAnUycsICdUJywgJ1YnLCAnVycsICdZJ10sCiAgICAgICAgICAgIDIwOiBbJ0EnLCAnQycsICdEJywg
J0UnLCAnRicsICdHJywgJ0gnLCAnTicsICdJJywgJ0snLCAnTCcsICdNJywgJ1AnLCAnUScsICdSJywg
J1MnLCAnVCcsICdWJywgJ1cnLCAnWSddLAogICAgICAgIH0KICAgICAgICBmYXN0YXMgPSBzZWxmLmZh
c3RhX2xpc3QKICAgICAgICBzdWJ0eXBlID0gc2VsZi5rd1snUHNlS1JBQUNfbW9kZWwnXQogICAgICAg
IHJhYWN0eXBlID0gc2VsZi5rd1snUkFBQ19jbHVzdCddCiAgICAgICAga3R1cGxlID0gc2VsZi5rd1sn
ay10dXBsZSddCiAgICAgICAgZ2xWYWx1ZSA9IHNlbGYua3dbJ2ctZ2FwJ10gaWYgc3VidHlwZSA9PSAn
Zy1nYXAnIGVsc2Ugc2VsZi5rd1snbGFtYmRhVmFsdWUnXQoKICAgICAgICBpZiByYWFjdHlwZSBub3Qg
aW4gQUFHcm91cDoKICAgICAgICAgICAgc2VsZi5lcnJvcl9tc2cgPSAnUHNlS1JBQUMgZGVzY3JpcHRv
ciB2YWx1ZSBlcnJvci4nCiAgICAgICAgICAgIHJldHVybiBGYWxzZQoKICAgICAgICAjIGluZGV4IGVh
Y2ggYW1pbm8gYWNpZHMgdG8gdGhlaXIgZ3JvdXAKICAgICAgICBteURpY3QgPSB7fQogICAgICAgIGZv
ciBpIGluIHJhbmdlKGxlbihBQUdyb3VwW3JhYWN0eXBlXSkpOgogICAgICAgICAgICBmb3IgYWEgaW4g
QUFHcm91cFtyYWFjdHlwZV1baV06CiAgICAgICAgICAgICAgICBteURpY3RbYWFdID0gaQoKICAgICAg
ICBnRGljdCA9IHt9CiAgICAgICAgZ05hbWVzID0gW10KICAgICAgICBmb3IgaSBpbiByYW5nZShsZW4o
QUFHcm91cFtyYWFjdHlwZV0pKToKICAgICAgICAgICAgZ0RpY3RbaV0gPSAnVDEuRy4nICsgc3RyKGkg
KyAxKQogICAgICAgICAgICBnTmFtZXMuYXBwZW5kKCdUMS5HLicgKyBzdHIoaSArIDEpKQoKICAgICAg
ICBlbmNvZGluZ3MgPSBbXQogICAgICAgIGlmIHN1YnR5cGUgPT0gJ2ctZ2FwJzoKICAgICAgICAgICAg
ZW5jb2RpbmdzID0gc2VsZi5nYXBNb2RlbChmYXN0YXMsIG15RGljdCwgZ0RpY3QsIGdOYW1lcywga3R1
cGxlLCBnbFZhbHVlKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGVuY29kaW5ncyA9IHNlbGYubGFt
YmRhTW9kZWwoZmFzdGFzLCBteURpY3QsIGdEaWN0LCBnTmFtZXMsIGt0dXBsZSwgZ2xWYWx1ZSkKCiAg
ICAgICAgc2VsZi5lbmNvZGluZ19hcnJheSA9IG5wLmFycmF5KFtdKQogICAgICAgIHNlbGYuZW5jb2Rp
bmdfYXJyYXkgPSBucC5hcnJheShlbmNvZGluZ3MsIGR0eXBlPXN0cikKICAgICAgICBzZWxmLmNvbHVt
biA9IHNlbGYuZW5jb2RpbmdfYXJyYXkuc2hhcGVbMV0KICAgICAgICBzZWxmLnJvdyA9IHNlbGYuZW5j
b2RpbmdfYXJyYXkuc2hhcGVbMF0gLSAxCiAgICAgICAgZGVsIGVuY29kaW5ncwogICAgICAgIGlmIHNl
bGYuZW5jb2RpbmdfYXJyYXkuc2hhcGVbMF0gPiAxOgogICAgICAgICAgICByZXR1cm4gVHJ1ZQogICAg
ICAgIGVsc2U6CiAgICAgICAgICAgIHJldHVybiBGYWxzZQoKICAgIGRlZiBQcm90ZWluX1BzZUtSQUFD
X3R5cGVfMTAoc2VsZik6CiAgICAgICAgQUFHcm91cCA9IHsKICAgICAgICAgICAgMjogWydDTUZJTFZX
WScsICdBR1RTTlFERUhSS1AnXSwKICAgICAgICAgICAgMzogWydDTUZJTFZXWScsICdBR1RTUCcsICdO
UURFSFJLJ10sCiAgICAgICAgICAgIDQ6IFsnQ01GV1knLCAnSUxWJywgJ0FHVFMnLCAnTlFERUhSS1An
XSwKICAgICAgICAgICAgNTogWydGV1lIJywgJ01JTFYnLCAnQ0FUU1AnLCAnRycsICdOUURFUksnXSwK
ICAgICAgICAgICAgNjogWydGV1lIJywgJ01JTFYnLCAnQ0FUUycsICdQJywgJ0cnLCAnTlFERVJLJ10s
CiAgICAgICAgICAgIDc6IFsnRldZSCcsICdNSUxWJywgJ0NBVFMnLCAnUCcsICdHJywgJ05RREUnLCAn
UksnXSwKICAgICAgICAgICAgODogWydGV1lIJywgJ01JTFYnLCAnQ0EnLCAnTlRTJywgJ1AnLCAnRycs
ICdERScsICdRUksnXSwKICAgICAgICAgICAgOTogWydGV1lIJywgJ01MJywgJ0lWJywgJ0NBJywgJ05U
UycsICdQJywgJ0cnLCAnREUnLCAnUVJLJ10sCiAgICAgICAgICAgIDEwOiBbJ0ZXWScsICdNTCcsICdJ
VicsICdDQScsICdUUycsICdOSCcsICdQJywgJ0cnLCAnREUnLCAnUVJLJ10sCiAgICAgICAgICAgIDEx
OiBbJ0ZXWScsICdNTCcsICdJVicsICdDQScsICdUUycsICdOSCcsICdQJywgJ0cnLCAnRCcsICdRRScs
ICdSSyddLAogICAgICAgICAgICAxMjogWydGV1knLCAnTUwnLCAnSVYnLCAnQycsICdBJywgJ1RTJywg
J05IJywgJ1AnLCAnRycsICdEJywgJ1FFJywgJ1JLJ10sCiAgICAgICAgICAgIDEzOiBbJ0ZXWScsICdN
TCcsICdJVicsICdDJywgJ0EnLCAnVCcsICdTJywgJ05IJywgJ1AnLCAnRycsICdEJywgJ1FFJywgJ1JL
J10sCiAgICAgICAgICAgIDE0OiBbJ0ZXWScsICdNTCcsICdJVicsICdDJywgJ0EnLCAnVCcsICdTJywg
J05IJywgJ1AnLCAnRycsICdEJywgJ1FFJywgJ1InLCAnSyddLAogICAgICAgICAgICAxNTogWydGV1kn
LCAnTUwnLCAnSVYnLCAnQycsICdBJywgJ1QnLCAnUycsICdOJywgJ0gnLCAnUCcsICdHJywgJ0QnLCAn
UUUnLCAnUicsICdLJ10sCiAgICAgICAgICAgIDE2OiBbJ1cnLCAnRlknLCAnTUwnLCAnSVYnLCAnQycs
ICdBJywgJ1QnLCAnUycsICdOJywgJ0gnLCAnUCcsICdHJywgJ0QnLCAnUUUnLCAnUicsICdLJ10sCiAg
ICAgICAgICAgIDE3OiBbJ1cnLCAnRlknLCAnTUwnLCAnSVYnLCAnQycsICdBJywgJ1QnLCAnUycsICdO
JywgJ0gnLCAnUCcsICdHJywgJ0QnLCAnUScsICdFJywgJ1InLCAnSyddLAogICAgICAgICAgICAxODog
WydXJywgJ0ZZJywgJ00nLCAnTCcsICdJVicsICdDJywgJ0EnLCAnVCcsICdTJywgJ04nLCAnSCcsICdQ
JywgJ0cnLCAnRCcsICdRJywgJ0UnLCAnUicsICdLJ10sCiAgICAgICAgICAgIDE5OiBbJ1cnLCAnRics
ICdZJywgJ00nLCAnTCcsICdJVicsICdDJywgJ0EnLCAnVCcsICdTJywgJ04nLCAnSCcsICdQJywgJ0cn
LCAnRCcsICdRJywgJ0UnLCAnUicsICdLJ10sCiAgICAgICAgICAgIDIwOiBbJ1cnLCAnRicsICdZJywg
J00nLCAnTCcsICdJJywgJ1YnLCAnQycsICdBJywgJ1QnLCAnUycsICdOJywgJ0gnLCAnUCcsICdHJywg
J0QnLCAnUScsICdFJywgJ1InLCAnSyddLAogICAgICAgIH0KICAgICAgICBmYXN0YXMgPSBzZWxmLmZh
c3RhX2xpc3QKICAgICAgICBzdWJ0eXBlID0gc2VsZi5rd1snUHNlS1JBQUNfbW9kZWwnXQogICAgICAg
IHJhYWN0eXBlID0gc2VsZi5rd1snUkFBQ19jbHVzdCddCiAgICAgICAga3R1cGxlID0gc2VsZi5rd1sn
ay10dXBsZSddCiAgICAgICAgZ2xWYWx1ZSA9IHNlbGYua3dbJ2ctZ2FwJ10gaWYgc3VidHlwZSA9PSAn
Zy1nYXAnIGVsc2Ugc2VsZi5rd1snbGFtYmRhVmFsdWUnXQoKICAgICAgICBpZiByYWFjdHlwZSBub3Qg
aW4gQUFHcm91cDoKICAgICAgICAgICAgc2VsZi5lcnJvcl9tc2cgPSAnUHNlS1JBQUMgZGVzY3JpcHRv
ciB2YWx1ZSBlcnJvci4nCiAgICAgICAgICAgIHJldHVybiBGYWxzZQoKICAgICAgICAjIGluZGV4IGVh
Y2ggYW1pbm8gYWNpZHMgdG8gdGhlaXIgZ3JvdXAKICAgICAgICBteURpY3QgPSB7fQogICAgICAgIGZv
ciBpIGluIHJhbmdlKGxlbihBQUdyb3VwW3JhYWN0eXBlXSkpOgogICAgICAgICAgICBmb3IgYWEgaW4g
QUFHcm91cFtyYWFjdHlwZV1baV06CiAgICAgICAgICAgICAgICBteURpY3RbYWFdID0gaQoKICAgICAg
ICBnRGljdCA9IHt9CiAgICAgICAgZ05hbWVzID0gW10KICAgICAgICBmb3IgaSBpbiByYW5nZShsZW4o
QUFHcm91cFtyYWFjdHlwZV0pKToKICAgICAgICAgICAgZ0RpY3RbaV0gPSAnVDEuRy4nICsgc3RyKGkg
KyAxKQogICAgICAgICAgICBnTmFtZXMuYXBwZW5kKCdUMS5HLicgKyBzdHIoaSArIDEpKQoKICAgICAg
ICBlbmNvZGluZ3MgPSBbXQogICAgICAgIGlmIHN1YnR5cGUgPT0gJ2ctZ2FwJzoKICAgICAgICAgICAg
ZW5jb2RpbmdzID0gc2VsZi5nYXBNb2RlbChmYXN0YXMsIG15RGljdCwgZ0RpY3QsIGdOYW1lcywga3R1
cGxlLCBnbFZhbHVlKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGVuY29kaW5ncyA9IHNlbGYubGFt
YmRhTW9kZWwoZmFzdGFzLCBteURpY3QsIGdEaWN0LCBnTmFtZXMsIGt0dXBsZSwgZ2xWYWx1ZSkKCiAg
ICAgICAgc2VsZi5lbmNvZGluZ19hcnJheSA9IG5wLmFycmF5KFtdKQogICAgICAgIHNlbGYuZW5jb2Rp
bmdfYXJyYXkgPSBucC5hcnJheShlbmNvZGluZ3MsIGR0eXBlPXN0cikKICAgICAgICBzZWxmLmNvbHVt
biA9IHNlbGYuZW5jb2RpbmdfYXJyYXkuc2hhcGVbMV0KICAgICAgICBzZWxmLnJvdyA9IHNlbGYuZW5j
b2RpbmdfYXJyYXkuc2hhcGVbMF0gLSAxCiAgICAgICAgZGVsIGVuY29kaW5ncwogICAgICAgIGlmIHNl
bGYuZW5jb2RpbmdfYXJyYXkuc2hhcGVbMF0gPiAxOgogICAgICAgICAgICByZXR1cm4gVHJ1ZQogICAg
ICAgIGVsc2U6CiAgICAgICAgICAgIHJldHVybiBGYWxzZQoKICAgIGRlZiBQcm90ZWluX1BzZUtSQUFD
X3R5cGVfMTEoc2VsZik6CiAgICAgICAgQUFHcm91cCA9IHsKICAgICAgICAgICAgMjogWydDRllXTUxJ
VicsICdHUEFUU05IUUVEUksnXSwKICAgICAgICAgICAgMzogWydDRllXTUxJVicsICdHUEFUUycsICdO
SFFFRFJLJ10sCiAgICAgICAgICAgIDQ6IFsnQ0ZZVycsICdNTElWJywgJ0dQQVRTJywgJ05IUUVEUksn
XSwKICAgICAgICAgICAgNTogWydDRllXJywgJ01MSVYnLCAnRycsICdQQVRTJywgJ05IUUVEUksnXSwK
ICAgICAgICAgICAgNjogWydDRllXJywgJ01MSVYnLCAnRycsICdQJywgJ0FUUycsICdOSFFFRFJLJ10s
CiAgICAgICAgICAgIDc6IFsnQ0ZZVycsICdNTElWJywgJ0cnLCAnUCcsICdBVFMnLCAnTkhRRUQnLCAn
UksnXSwKICAgICAgICAgICAgODogWydDRllXJywgJ01MSVYnLCAnRycsICdQJywgJ0FUUycsICdOSCcs
ICdRRUQnLCAnUksnXSwKICAgICAgICAgICAgOTogWydDRllXJywgJ01MJywgJ0lWJywgJ0cnLCAnUCcs
ICdBVFMnLCAnTkgnLCAnUUVEJywgJ1JLJ10sCiAgICAgICAgICAgIDEwOiBbJ0MnLCAnRllXJywgJ01M
JywgJ0lWJywgJ0cnLCAnUCcsICdBVFMnLCAnTkgnLCAnUUVEJywgJ1JLJ10sCiAgICAgICAgICAgIDEx
OiBbJ0MnLCAnRllXJywgJ01MJywgJ0lWJywgJ0cnLCAnUCcsICdBJywgJ1RTJywgJ05IJywgJ1FFRCcs
ICdSSyddLAogICAgICAgICAgICAxMjogWydDJywgJ0ZZVycsICdNTCcsICdJVicsICdHJywgJ1AnLCAn
QScsICdUUycsICdOSCcsICdRRScsICdEJywgJ1JLJ10sCiAgICAgICAgICAgIDEzOiBbJ0MnLCAnRllX
JywgJ01MJywgJ0lWJywgJ0cnLCAnUCcsICdBJywgJ1QnLCAnUycsICdOSCcsICdRRScsICdEJywgJ1JL
J10sCiAgICAgICAgICAgIDE0OiBbJ0MnLCAnRllXJywgJ01MJywgJ0lWJywgJ0cnLCAnUCcsICdBJywg
J1QnLCAnUycsICdOJywgJ0gnLCAnUUUnLCAnRCcsICdSSyddLAogICAgICAgICAgICAxNTogWydDJywg
J0ZZVycsICdNTCcsICdJVicsICdHJywgJ1AnLCAnQScsICdUJywgJ1MnLCAnTicsICdIJywgJ1FFJywg
J0QnLCAnUicsICdLJ10sCiAgICAgICAgICAgIDE2OiBbJ0MnLCAnRlknLCAnVycsICdNTCcsICdJVics
ICdHJywgJ1AnLCAnQScsICdUJywgJ1MnLCAnTicsICdIJywgJ1FFJywgJ0QnLCAnUicsICdLJ10sCiAg
ICAgICAgICAgIDE3OiBbJ0MnLCAnRlknLCAnVycsICdNTCcsICdJVicsICdHJywgJ1AnLCAnQScsICdU
JywgJ1MnLCAnTicsICdIJywgJ1EnLCAnRScsICdEJywgJ1InLCAnSyddLAogICAgICAgICAgICAxODog
WydDJywgJ0ZZJywgJ1cnLCAnTScsICdMJywgJ0lWJywgJ0cnLCAnUCcsICdBJywgJ1QnLCAnUycsICdO
JywgJ0gnLCAnUScsICdFJywgJ0QnLCAnUicsICdLJ10sCiAgICAgICAgICAgIDE5OiBbJ0MnLCAnRics
ICdZJywgJ1cnLCAnTScsICdMJywgJ0lWJywgJ0cnLCAnUCcsICdBJywgJ1QnLCAnUycsICdOJywgJ0gn
LCAnUScsICdFJywgJ0QnLCAnUicsICdLJ10sCiAgICAgICAgICAgIDIwOiBbJ0MnLCAnRicsICdZJywg
J1cnLCAnTScsICdMJywgJ0knLCAnVicsICdHJywgJ1AnLCAnQScsICdUJywgJ1MnLCAnTicsICdIJywg
J1EnLCAnRScsICdEJywgJ1InLCAnSyddLAogICAgICAgIH0KICAgICAgICBmYXN0YXMgPSBzZWxmLmZh
c3RhX2xpc3QKICAgICAgICBzdWJ0eXBlID0gc2VsZi5rd1snUHNlS1JBQUNfbW9kZWwnXQogICAgICAg
IHJhYWN0eXBlID0gc2VsZi5rd1snUkFBQ19jbHVzdCddCiAgICAgICAga3R1cGxlID0gc2VsZi5rd1sn
ay10dXBsZSddCiAgICAgICAgZ2xWYWx1ZSA9IHNlbGYua3dbJ2ctZ2FwJ10gaWYgc3VidHlwZSA9PSAn
Zy1nYXAnIGVsc2Ugc2VsZi5rd1snbGFtYmRhVmFsdWUnXQoKICAgICAgICBpZiByYWFjdHlwZSBub3Qg
aW4gQUFHcm91cDoKICAgICAgICAgICAgc2VsZi5lcnJvcl9tc2cgPSAnUHNlS1JBQUMgZGVzY3JpcHRv
ciB2YWx1ZSBlcnJvci4nCiAgICAgICAgICAgIHJldHVybiBGYWxzZQoKICAgICAgICAjIGluZGV4IGVh
Y2ggYW1pbm8gYWNpZHMgdG8gdGhlaXIgZ3JvdXAKICAgICAgICBteURpY3QgPSB7fQogICAgICAgIGZv
ciBpIGluIHJhbmdlKGxlbihBQUdyb3VwW3JhYWN0eXBlXSkpOgogICAgICAgICAgICBmb3IgYWEgaW4g
QUFHcm91cFtyYWFjdHlwZV1baV06CiAgICAgICAgICAgICAgICBteURpY3RbYWFdID0gaQoKICAgICAg
ICBnRGljdCA9IHt9CiAgICAgICAgZ05hbWVzID0gW10KICAgICAgICBmb3IgaSBpbiByYW5nZShsZW4o
QUFHcm91cFtyYWFjdHlwZV0pKToKICAgICAgICAgICAgZ0RpY3RbaV0gPSAnVDEuRy4nICsgc3RyKGkg
KyAxKQogICAgICAgICAgICBnTmFtZXMuYXBwZW5kKCdUMS5HLicgKyBzdHIoaSArIDEpKQoKICAgICAg
ICBlbmNvZGluZ3MgPSBbXQogICAgICAgIGlmIHN1YnR5cGUgPT0gJ2ctZ2FwJzoKICAgICAgICAgICAg
ZW5jb2RpbmdzID0gc2VsZi5nYXBNb2RlbChmYXN0YXMsIG15RGljdCwgZ0RpY3QsIGdOYW1lcywga3R1
cGxlLCBnbFZhbHVlKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGVuY29kaW5ncyA9IHNlbGYubGFt
YmRhTW9kZWwoZmFzdGFzLCBteURpY3QsIGdEaWN0LCBnTmFtZXMsIGt0dXBsZSwgZ2xWYWx1ZSkKCiAg
ICAgICAgc2VsZi5lbmNvZGluZ19hcnJheSA9IG5wLmFycmF5KFtdKQogICAgICAgIHNlbGYuZW5jb2Rp
bmdfYXJyYXkgPSBucC5hcnJheShlbmNvZGluZ3MsIGR0eXBlPXN0cikKICAgICAgICBzZWxmLmNvbHVt
biA9IHNlbGYuZW5jb2RpbmdfYXJyYXkuc2hhcGVbMV0KICAgICAgICBzZWxmLnJvdyA9IHNlbGYuZW5j
b2RpbmdfYXJyYXkuc2hhcGVbMF0gLSAxCiAgICAgICAgZGVsIGVuY29kaW5ncwogICAgICAgIGlmIHNl
bGYuZW5jb2RpbmdfYXJyYXkuc2hhcGVbMF0gPiAxOgogICAgICAgICAgICByZXR1cm4gVHJ1ZQogICAg
ICAgIGVsc2U6CiAgICAgICAgICAgIHJldHVybiBGYWxzZQoKICAgIGRlZiBQcm90ZWluX1BzZUtSQUFD
X3R5cGVfMTIoc2VsZik6CiAgICAgICAgQUFHcm91cCA9IHsKICAgICAgICAgICAgMjogWydJVk1MRldZ
QycsICdBUk5EUUVHSEtQU1QnXSwKICAgICAgICAgICAgMzogWydJVkxNRldDJywgJ1lBJywgJ1JORFFF
R0hLUFNUJ10sCiAgICAgICAgICAgIDQ6IFsnSVZMTUZXJywgJ0MnLCAnWUEnLCAnUk5EUUVHSEtQU1Qn
XSwKICAgICAgICAgICAgNTogWydJVkxNRlcnLCAnQycsICdZQScsICdHJywgJ1JORFFFSEtQU1QnXSwK
ICAgICAgICAgICAgNjogWydJVkxNRicsICdXWScsICdDJywgJ0FIJywgJ0cnLCAnUk5EUUVLUFNUJ10s
CiAgICAgICAgICAgIDc6IFsnSVZMTUYnLCAnV1knLCAnQycsICdBSCcsICdHUCcsICdSJywgJ05EUUVL
U1QnXSwKICAgICAgICAgICAgODogWydJVkxNRicsICdXWScsICdDJywgJ0EnLCAnRycsICdSJywgJ1En
LCAnTkRFSEtQU1QnXSwKICAgICAgICAgICAgOTogWydJVkxNRicsICdXWScsICdDJywgJ0EnLCAnRycs
ICdQJywgJ0gnLCAnSycsICdSTkRRRVNUJ10sCiAgICAgICAgICAgIDEwOiBbJ0lWTE0nLCAnRicsICdX
JywgJ1knLCAnQycsICdBJywgJ0gnLCAnRycsICdSTicsICdEUUVLUFNUJ10sCiAgICAgICAgICAgIDEx
OiBbJ0lWTE1GJywgJ1cnLCAnWScsICdDJywgJ0EnLCAnSCcsICdHJywgJ1InLCAnTicsICdRJywgJ0RF
S1BTVCddLAogICAgICAgICAgICAxMjogWydJVkxNJywgJ0YnLCAnVycsICdZJywgJ0MnLCAnQScsICdI
JywgJ0cnLCAnTicsICdRJywgJ1QnLCAnUkRFS1BTJ10sCiAgICAgICAgICAgIDEzOiBbJ0lWTE0nLCAn
RicsICdXJywgJ1knLCAnQycsICdBJywgJ0gnLCAnRycsICdOJywgJ1EnLCAnUCcsICdSJywgJ0RFS1NU
J10sCiAgICAgICAgICAgIDE0OiBbJ0lWTE0nLCAnRicsICdXJywgJ1knLCAnQycsICdBJywgJ0gnLCAn
RycsICdOJywgJ1EnLCAnUCcsICdSJywgJ0snLCAnREVTVCddLAogICAgICAgICAgICAxNTogWydJVkxN
JywgJ0YnLCAnVycsICdZJywgJ0MnLCAnQScsICdIJywgJ0cnLCAnTicsICdRJywgJ1AnLCAnUicsICdL
JywgJ0QnLCAnRVNUJ10sCiAgICAgICAgICAgIDE2OiBbJ0lWTE0nLCAnRicsICdXJywgJ1knLCAnQycs
ICdBJywgJ0gnLCAnRycsICdOJywgJ1EnLCAnUCcsICdSJywgJ0snLCAnUycsICdUJywgJ0RFJ10sCiAg
ICAgICAgICAgIDE3OiBbJ0lWTCcsICdNJywgJ0YnLCAnVycsICdZJywgJ0MnLCAnQScsICdIJywgJ0cn
LCAnTicsICdRJywgJ1AnLCAnUicsICdLJywgJ1MnLCAnVCcsICdERSddLAogICAgICAgICAgICAxODog
WydJVkwnLCAnTScsICdGJywgJ1cnLCAnWScsICdDJywgJ0EnLCAnSCcsICdHJywgJ04nLCAnUScsICdQ
JywgJ1InLCAnSycsICdTJywgJ1QnLCAnRCcsICdFJ10sCiAgICAgICAgICAgIDIwOiBbJ0knLCAnVics
ICdMJywgJ00nLCAnRicsICdXJywgJ1knLCAnQycsICdBJywgJ0gnLCAnRycsICdOJywgJ1EnLCAnUCcs
ICdSJywgJ0snLCAnUycsICdUJywgJ0QnLCAnRSddLAogICAgICAgIH0KICAgICAgICBmYXN0YXMgPSBz
ZWxmLmZhc3RhX2xpc3QKICAgICAgICBzdWJ0eXBlID0gc2VsZi5rd1snUHNlS1JBQUNfbW9kZWwnXQog
ICAgICAgIHJhYWN0eXBlID0gc2VsZi5rd1snUkFBQ19jbHVzdCddCiAgICAgICAga3R1cGxlID0gc2Vs
Zi5rd1snay10dXBsZSddCiAgICAgICAgZ2xWYWx1ZSA9IHNlbGYua3dbJ2ctZ2FwJ10gaWYgc3VidHlw
ZSA9PSAnZy1nYXAnIGVsc2Ugc2VsZi5rd1snbGFtYmRhVmFsdWUnXQoKICAgICAgICBpZiByYWFjdHlw
ZSBub3QgaW4gQUFHcm91cDoKICAgICAgICAgICAgc2VsZi5lcnJvcl9tc2cgPSAnUHNlS1JBQUMgZGVz
Y3JpcHRvciB2YWx1ZSBlcnJvci4nCiAgICAgICAgICAgIHJldHVybiBGYWxzZQoKICAgICAgICAjIGlu
ZGV4IGVhY2ggYW1pbm8gYWNpZHMgdG8gdGhlaXIgZ3JvdXAKICAgICAgICBteURpY3QgPSB7fQogICAg
ICAgIGZvciBpIGluIHJhbmdlKGxlbihBQUdyb3VwW3JhYWN0eXBlXSkpOgogICAgICAgICAgICBmb3Ig
YWEgaW4gQUFHcm91cFtyYWFjdHlwZV1baV06CiAgICAgICAgICAgICAgICBteURpY3RbYWFdID0gaQoK
ICAgICAgICBnRGljdCA9IHt9CiAgICAgICAgZ05hbWVzID0gW10KICAgICAgICBmb3IgaSBpbiByYW5n
ZShsZW4oQUFHcm91cFtyYWFjdHlwZV0pKToKICAgICAgICAgICAgZ0RpY3RbaV0gPSAnVDEuRy4nICsg
c3RyKGkgKyAxKQogICAgICAgICAgICBnTmFtZXMuYXBwZW5kKCdUMS5HLicgKyBzdHIoaSArIDEpKQoK
ICAgICAgICBlbmNvZGluZ3MgPSBbXQogICAgICAgIGlmIHN1YnR5cGUgPT0gJ2ctZ2FwJzoKICAgICAg
ICAgICAgZW5jb2RpbmdzID0gc2VsZi5nYXBNb2RlbChmYXN0YXMsIG15RGljdCwgZ0RpY3QsIGdOYW1l
cywga3R1cGxlLCBnbFZhbHVlKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGVuY29kaW5ncyA9IHNl
bGYubGFtYmRhTW9kZWwoZmFzdGFzLCBteURpY3QsIGdEaWN0LCBnTmFtZXMsIGt0dXBsZSwgZ2xWYWx1
ZSkKCiAgICAgICAgc2VsZi5lbmNvZGluZ19hcnJheSA9IG5wLmFycmF5KFtdKQogICAgICAgIHNlbGYu
ZW5jb2RpbmdfYXJyYXkgPSBucC5hcnJheShlbmNvZGluZ3MsIGR0eXBlPXN0cikKICAgICAgICBzZWxm
LmNvbHVtbiA9IHNlbGYuZW5jb2RpbmdfYXJyYXkuc2hhcGVbMV0KICAgICAgICBzZWxmLnJvdyA9IHNl
bGYuZW5jb2RpbmdfYXJyYXkuc2hhcGVbMF0gLSAxCiAgICAgICAgZGVsIGVuY29kaW5ncwogICAgICAg
IGlmIHNlbGYuZW5jb2RpbmdfYXJyYXkuc2hhcGVbMF0gPiAxOgogICAgICAgICAgICByZXR1cm4gVHJ1
ZQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJldHVybiBGYWxzZQoKICAgIGRlZiBQcm90ZWluX1Bz
ZUtSQUFDX3R5cGVfMTMoc2VsZik6CiAgICAgICAgQUFHcm91cCA9IHsKICAgICAgICAgICAgNDogWydB
REtFUk5UU1EnLCAnWUZMSVZNQ1dIJywgJ0cnLCAnUCddLAogICAgICAgICAgICAxMjogWydBJywgJ0Qn
LCAnS0VSJywgJ04nLCAnVFNRJywgJ1lGJywgJ0xJVk0nLCAnQycsICdXJywgJ0gnLCAnRycsICdQJ10s
CiAgICAgICAgICAgIDE3OiBbJ0EnLCAnRCcsICdLRScsICdSJywgJ04nLCAnVCcsICdTJywgJ1EnLCAn
WScsICdGJywgJ0xJVicsICdNJywgJ0MnLCAnVycsICdIJywgJ0cnLCAnUCddLAogICAgICAgICAgICAy
MDogWydBJywgJ0QnLCAnSycsICdFJywgJ1InLCAnTicsICdUJywgJ1MnLCAnUScsICdZJywgJ0YnLCAn
TCcsICdJJywgJ1YnLCAnTScsICdDJywgJ1cnLCAnSCcsICdHJywgJ1AnXSwKICAgICAgICB9CiAgICAg
ICAgZmFzdGFzID0gc2VsZi5mYXN0YV9saXN0CiAgICAgICAgc3VidHlwZSA9IHNlbGYua3dbJ1BzZUtS
QUFDX21vZGVsJ10KICAgICAgICByYWFjdHlwZSA9IHNlbGYua3dbJ1JBQUNfY2x1c3QnXQogICAgICAg
IGt0dXBsZSA9IHNlbGYua3dbJ2stdHVwbGUnXQogICAgICAgIGdsVmFsdWUgPSBzZWxmLmt3WydnLWdh
cCddIGlmIHN1YnR5cGUgPT0gJ2ctZ2FwJyBlbHNlIHNlbGYua3dbJ2xhbWJkYVZhbHVlJ10KCiAgICAg
ICAgaWYgcmFhY3R5cGUgbm90IGluIEFBR3JvdXA6CiAgICAgICAgICAgIHNlbGYuZXJyb3JfbXNnID0g
J1BzZUtSQUFDIGRlc2NyaXB0b3IgdmFsdWUgZXJyb3IuJwogICAgICAgICAgICByZXR1cm4gRmFsc2UK
CiAgICAgICAgIyBpbmRleCBlYWNoIGFtaW5vIGFjaWRzIHRvIHRoZWlyIGdyb3VwCiAgICAgICAgbXlE
aWN0ID0ge30KICAgICAgICBmb3IgaSBpbiByYW5nZShsZW4oQUFHcm91cFtyYWFjdHlwZV0pKToKICAg
ICAgICAgICAgZm9yIGFhIGluIEFBR3JvdXBbcmFhY3R5cGVdW2ldOgogICAgICAgICAgICAgICAgbXlE
aWN0W2FhXSA9IGkKCiAgICAgICAgZ0RpY3QgPSB7fQogICAgICAgIGdOYW1lcyA9IFtdCiAgICAgICAg
Zm9yIGkgaW4gcmFuZ2UobGVuKEFBR3JvdXBbcmFhY3R5cGVdKSk6CiAgICAgICAgICAgIGdEaWN0W2ld
ID0gJ1QxLkcuJyArIHN0cihpICsgMSkKICAgICAgICAgICAgZ05hbWVzLmFwcGVuZCgnVDEuRy4nICsg
c3RyKGkgKyAxKSkKCiAgICAgICAgZW5jb2RpbmdzID0gW10KICAgICAgICBpZiBzdWJ0eXBlID09ICdn
LWdhcCc6CiAgICAgICAgICAgIGVuY29kaW5ncyA9IHNlbGYuZ2FwTW9kZWwoZmFzdGFzLCBteURpY3Qs
IGdEaWN0LCBnTmFtZXMsIGt0dXBsZSwgZ2xWYWx1ZSkKICAgICAgICBlbHNlOgogICAgICAgICAgICBl
bmNvZGluZ3MgPSBzZWxmLmxhbWJkYU1vZGVsKGZhc3RhcywgbXlEaWN0LCBnRGljdCwgZ05hbWVzLCBr
dHVwbGUsIGdsVmFsdWUpCgogICAgICAgIHNlbGYuZW5jb2RpbmdfYXJyYXkgPSBucC5hcnJheShbXSkK
ICAgICAgICBzZWxmLmVuY29kaW5nX2FycmF5ID0gbnAuYXJyYXkoZW5jb2RpbmdzLCBkdHlwZT1zdHIp
CiAgICAgICAgc2VsZi5jb2x1bW4gPSBzZWxmLmVuY29kaW5nX2FycmF5LnNoYXBlWzFdCiAgICAgICAg
c2VsZi5yb3cgPSBzZWxmLmVuY29kaW5nX2FycmF5LnNoYXBlWzBdIC0gMQogICAgICAgIGRlbCBlbmNv
ZGluZ3MKICAgICAgICBpZiBzZWxmLmVuY29kaW5nX2FycmF5LnNoYXBlWzBdID4gMToKICAgICAgICAg
ICAgcmV0dXJuIFRydWUKICAgICAgICBlbHNlOgogICAgICAgICAgICByZXR1cm4gRmFsc2UKCiAgICBk
ZWYgUHJvdGVpbl9Qc2VLUkFBQ190eXBlXzE0KHNlbGYpOgogICAgICAgIEFBR3JvdXAgPSB7CiAgICAg
ICAgICAgIDI6IFsnQVJORENRRUdIS1BTVCcsICdJTE1GV1lWJ10sCiAgICAgICAgICAgIDM6IFsnQVJO
RFFFR0hLUFNUJywgJ0MnLCAnSUxNRldZViddLAogICAgICAgICAgICA0OiBbJ0FSTkRRRUdIS1BTVCcs
ICdDJywgJ0lMTUZZVicsICdXJ10sCiAgICAgICAgICAgIDU6IFsnQUdQU1QnLCAnUk5EUUVISycsICdD
JywgJ0lMTUZZVicsICdXJ10sCiAgICAgICAgICAgIDY6IFsnQUdQU1QnLCAnUk5EUUVLJywgJ0MnLCAn
SCcsICdJTE1GWVYnLCAnVyddLAogICAgICAgICAgICA3OiBbJ0FOREdTVCcsICdSUUVLJywgJ0MnLCAn
SCcsICdJTE1GWVYnLCAnUCcsICdXJ10sCiAgICAgICAgICAgIDg6IFsnQU5ER1NUJywgJ1JRRUsnLCAn
QycsICdIJywgJ0lMTVYnLCAnRlknLCAnUCcsICdXJ10sCiAgICAgICAgICAgIDk6IFsnQUdTVCcsICdS
UUVLJywgJ05EJywgJ0MnLCAnSCcsICdJTE1WJywgJ0ZZJywgJ1AnLCAnVyddLAogICAgICAgICAgICAx
MDogWydBR1NUJywgJ1JLJywgJ05EJywgJ0MnLCAnUUUnLCAnSCcsICdJTE1WJywgJ0ZZJywgJ1AnLCAn
VyddLAogICAgICAgICAgICAxMTogWydBU1QnLCAnUksnLCAnTkQnLCAnQycsICdRRScsICdHJywgJ0gn
LCAnSUxNVicsICdGWScsICdQJywgJ1cnXSwKICAgICAgICAgICAgMTI6IFsnQVNUJywgJ1JLJywgJ05E
JywgJ0MnLCAnUUUnLCAnRycsICdIJywgJ0lWJywgJ0xNJywgJ0ZZJywgJ1AnLCAnVyddLAogICAgICAg
ICAgICAxMzogWydBU1QnLCAnUksnLCAnTicsICdEJywgJ0MnLCAnUUUnLCAnRycsICdIJywgJ0lWJywg
J0xNJywgJ0ZZJywgJ1AnLCAnVyddLAogICAgICAgICAgICAxNDogWydBU1QnLCAnUksnLCAnTicsICdE
JywgJ0MnLCAnUScsICdFJywgJ0cnLCAnSCcsICdJVicsICdMTScsICdGWScsICdQJywgJ1cnXSwKICAg
ICAgICAgICAgMTU6IFsnQScsICdSSycsICdOJywgJ0QnLCAnQycsICdRJywgJ0UnLCAnRycsICdIJywg
J0lWJywgJ0xNJywgJ0ZZJywgJ1AnLCAnU1QnLCAnVyddLAogICAgICAgICAgICAxNjogWydBJywgJ1JL
JywgJ04nLCAnRCcsICdDJywgJ1EnLCAnRScsICdHJywgJ0gnLCAnSVYnLCAnTE0nLCAnRicsICdQJywg
J1NUJywgJ1cnLCAnWSddLAogICAgICAgICAgICAxNzogWydBJywgJ1InLCAnTicsICdEJywgJ0MnLCAn
UScsICdFJywgJ0cnLCAnSCcsICdJVicsICdMTScsICdLJywgJ0YnLCAnUCcsICdTVCcsICdXJywgJ1kn
XSwKICAgICAgICAgICAgMTg6IFsnQScsICdSJywgJ04nLCAnRCcsICdDJywgJ1EnLCAnRScsICdHJywg
J0gnLCAnSVYnLCAnTE0nLCAnSycsICdGJywgJ1AnLCAnUycsICdUJywgJ1cnLCAnWSddLAogICAgICAg
ICAgICAxOTogWydBJywgJ1InLCAnTicsICdEJywgJ0MnLCAnUScsICdFJywgJ0cnLCAnSCcsICdJVics
ICdMJywgJ0snLCAnTScsICdGJywgJ1AnLCAnUycsICdUJywgJ1cnLCAnWSddLAogICAgICAgICAgICAy
MDogWydBJywgJ1InLCAnTicsICdEJywgJ0MnLCAnUScsICdFJywgJ0cnLCAnSCcsICdJJywgJ1YnLCAn
TCcsICdLJywgJ00nLCAnRicsICdQJywgJ1MnLCAnVCcsICdXJywgJ1knXSwKICAgICAgICB9CiAgICAg
ICAgZmFzdGFzID0gc2VsZi5mYXN0YV9saXN0CiAgICAgICAgc3VidHlwZSA9IHNlbGYua3dbJ1BzZUtS
QUFDX21vZGVsJ10KICAgICAgICByYWFjdHlwZSA9IHNlbGYua3dbJ1JBQUNfY2x1c3QnXQogICAgICAg
IGt0dXBsZSA9IHNlbGYua3dbJ2stdHVwbGUnXQogICAgICAgIGdsVmFsdWUgPSBzZWxmLmt3WydnLWdh
cCddIGlmIHN1YnR5cGUgPT0gJ2ctZ2FwJyBlbHNlIHNlbGYua3dbJ2xhbWJkYVZhbHVlJ10KCiAgICAg
ICAgaWYgcmFhY3R5cGUgbm90IGluIEFBR3JvdXA6CiAgICAgICAgICAgIHNlbGYuZXJyb3JfbXNnID0g
J1BzZUtSQUFDIGRlc2NyaXB0b3IgdmFsdWUgZXJyb3IuJwogICAgICAgICAgICByZXR1cm4gRmFsc2UK
CiAgICAgICAgIyBpbmRleCBlYWNoIGFtaW5vIGFjaWRzIHRvIHRoZWlyIGdyb3VwCiAgICAgICAgbXlE
aWN0ID0ge30KICAgICAgICBmb3IgaSBpbiByYW5nZShsZW4oQUFHcm91cFtyYWFjdHlwZV0pKToKICAg
ICAgICAgICAgZm9yIGFhIGluIEFBR3JvdXBbcmFhY3R5cGVdW2ldOgogICAgICAgICAgICAgICAgbXlE
aWN0W2FhXSA9IGkKCiAgICAgICAgZ0RpY3QgPSB7fQogICAgICAgIGdOYW1lcyA9IFtdCiAgICAgICAg
Zm9yIGkgaW4gcmFuZ2UobGVuKEFBR3JvdXBbcmFhY3R5cGVdKSk6CiAgICAgICAgICAgIGdEaWN0W2ld
ID0gJ1QxLkcuJyArIHN0cihpICsgMSkKICAgICAgICAgICAgZ05hbWVzLmFwcGVuZCgnVDEuRy4nICsg
c3RyKGkgKyAxKSkKCiAgICAgICAgZW5jb2RpbmdzID0gW10KICAgICAgICBpZiBzdWJ0eXBlID09ICdn
LWdhcCc6CiAgICAgICAgICAgIGVuY29kaW5ncyA9IHNlbGYuZ2FwTW9kZWwoZmFzdGFzLCBteURpY3Qs
IGdEaWN0LCBnTmFtZXMsIGt0dXBsZSwgZ2xWYWx1ZSkKICAgICAgICBlbHNlOgogICAgICAgICAgICBl
bmNvZGluZ3MgPSBzZWxmLmxhbWJkYU1vZGVsKGZhc3RhcywgbXlEaWN0LCBnRGljdCwgZ05hbWVzLCBr
dHVwbGUsIGdsVmFsdWUpCgogICAgICAgIHNlbGYuZW5jb2RpbmdfYXJyYXkgPSBucC5hcnJheShbXSkK
ICAgICAgICBzZWxmLmVuY29kaW5nX2FycmF5ID0gbnAuYXJyYXkoZW5jb2RpbmdzLCBkdHlwZT1zdHIp
CiAgICAgICAgc2VsZi5jb2x1bW4gPSBzZWxmLmVuY29kaW5nX2FycmF5LnNoYXBlWzFdCiAgICAgICAg
c2VsZi5yb3cgPSBzZWxmLmVuY29kaW5nX2FycmF5LnNoYXBlWzBdIC0gMQogICAgICAgIGRlbCBlbmNv
ZGluZ3MKICAgICAgICBpZiBzZWxmLmVuY29kaW5nX2FycmF5LnNoYXBlWzBdID4gMToKICAgICAgICAg
ICAgcmV0dXJuIFRydWUKICAgICAgICBlbHNlOgogICAgICAgICAgICByZXR1cm4gRmFsc2UKCiAgICBk
ZWYgUHJvdGVpbl9Qc2VLUkFBQ190eXBlXzE1KHNlbGYpOgogICAgICAgIEFBR3JvdXAgPSB7CiAgICAg
ICAgICAgIDI6IFsnTUZJTFZBVycsICdDWVFIUEdUU05SS0RFJ10sCiAgICAgICAgICAgIDM6IFsnTUZJ
TFZBVycsICdDWVFIUEdUU05SSycsICdERSddLAogICAgICAgICAgICA0OiBbJ01GSUxWJywgJ0FDVycs
ICdZUUhQR1RTTlJLJywgJ0RFJ10sCiAgICAgICAgICAgIDU6IFsnTUZJTFYnLCAnQUNXJywgJ1lRSFBH
VFNOJywgJ1JLJywgJ0RFJ10sCiAgICAgICAgICAgIDY6IFsnTUZJTFYnLCAnQScsICdDJywgJ1dZUUhQ
R1RTTicsICdSSycsICdERSddLAogICAgICAgICAgICA3OiBbJ01GSUxWJywgJ0EnLCAnQycsICdXWVFI
UCcsICdHVFNOJywgJ1JLJywgJ0RFJ10sCiAgICAgICAgICAgIDg6IFsnTUZJTFYnLCAnQScsICdDJywg
J1dZUUhQJywgJ0cnLCAnVFNOJywgJ1JLJywgJ0RFJ10sCiAgICAgICAgICAgIDk6IFsnTUYnLCAnSUxW
JywgJ0EnLCAnQycsICdXWVFIUCcsICdHJywgJ1RTTicsICdSSycsICdERSddLAogICAgICAgICAgICAx
MDogWydNRicsICdJTFYnLCAnQScsICdDJywgJ1dZUUhQJywgJ0cnLCAnVFNOJywgJ1JLJywgJ0QnLCAn
RSddLAogICAgICAgICAgICAxMTogWydNRicsICdJTCcsICdWJywgJ0EnLCAnQycsICdXWVFIUCcsICdH
JywgJ1RTTicsICdSSycsICdEJywgJ0UnXSwKICAgICAgICAgICAgMTI6IFsnTUYnLCAnSUwnLCAnVics
ICdBJywgJ0MnLCAnV1lRSFAnLCAnRycsICdUUycsICdOJywgJ1JLJywgJ0QnLCAnRSddLAogICAgICAg
ICAgICAxMzogWydNRicsICdJTCcsICdWJywgJ0EnLCAnQycsICdXWVFIUCcsICdHJywgJ1QnLCAnUycs
ICdOJywgJ1JLJywgJ0QnLCAnRSddLAogICAgICAgICAgICAxNDogWydNRicsICdJJywgJ0wnLCAnVics
ICdBJywgJ0MnLCAnV1lRSFAnLCAnRycsICdUJywgJ1MnLCAnTicsICdSSycsICdEJywgJ0UnXSwKICAg
ICAgICAgICAgMTU6IFsnTUYnLCAnSUwnLCAnVicsICdBJywgJ0MnLCAnV1lRJywgJ0gnLCAnUCcsICdH
JywgJ1QnLCAnUycsICdOJywgJ1JLJywgJ0QnLCAnRSddLAogICAgICAgICAgICAxNjogWydNRicsICdJ
JywgJ0wnLCAnVicsICdBJywgJ0MnLCAnV1lRJywgJ0gnLCAnUCcsICdHJywgJ1QnLCAnUycsICdOJywg
J1JLJywgJ0QnLCAnRSddLAogICAgICAgICAgICAyMDogWydNJywgJ0YnLCAnSScsICdMJywgJ1YnLCAn
QScsICdDJywgJ1cnLCAnWScsICdRJywgJ0gnLCAnUCcsICdHJywgJ1QnLCAnUycsICdOJywgJ1InLCAn
SycsICdEJywgJ0UnXSwKICAgICAgICB9CiAgICAgICAgZmFzdGFzID0gc2VsZi5mYXN0YV9saXN0CiAg
ICAgICAgc3VidHlwZSA9IHNlbGYua3dbJ1BzZUtSQUFDX21vZGVsJ10KICAgICAgICByYWFjdHlwZSA9
IHNlbGYua3dbJ1JBQUNfY2x1c3QnXQogICAgICAgIGt0dXBsZSA9IHNlbGYua3dbJ2stdHVwbGUnXQog
ICAgICAgIGdsVmFsdWUgPSBzZWxmLmt3WydnLWdhcCddIGlmIHN1YnR5cGUgPT0gJ2ctZ2FwJyBlbHNl
IHNlbGYua3dbJ2xhbWJkYVZhbHVlJ10KCiAgICAgICAgaWYgcmFhY3R5cGUgbm90IGluIEFBR3JvdXA6
CiAgICAgICAgICAgIHNlbGYuZXJyb3JfbXNnID0gJ1BzZUtSQUFDIGRlc2NyaXB0b3IgdmFsdWUgZXJy
b3IuJwogICAgICAgICAgICByZXR1cm4gRmFsc2UKCiAgICAgICAgIyBpbmRleCBlYWNoIGFtaW5vIGFj
aWRzIHRvIHRoZWlyIGdyb3VwCiAgICAgICAgbXlEaWN0ID0ge30KICAgICAgICBmb3IgaSBpbiByYW5n
ZShsZW4oQUFHcm91cFtyYWFjdHlwZV0pKToKICAgICAgICAgICAgZm9yIGFhIGluIEFBR3JvdXBbcmFh
Y3R5cGVdW2ldOgogICAgICAgICAgICAgICAgbXlEaWN0W2FhXSA9IGkKCiAgICAgICAgZ0RpY3QgPSB7
fQogICAgICAgIGdOYW1lcyA9IFtdCiAgICAgICAgZm9yIGkgaW4gcmFuZ2UobGVuKEFBR3JvdXBbcmFh
Y3R5cGVdKSk6CiAgICAgICAgICAgIGdEaWN0W2ldID0gJ1QxLkcuJyArIHN0cihpICsgMSkKICAgICAg
ICAgICAgZ05hbWVzLmFwcGVuZCgnVDEuRy4nICsgc3RyKGkgKyAxKSkKCiAgICAgICAgZW5jb2Rpbmdz
ID0gW10KICAgICAgICBpZiBzdWJ0eXBlID09ICdnLWdhcCc6CiAgICAgICAgICAgIGVuY29kaW5ncyA9
IHNlbGYuZ2FwTW9kZWwoZmFzdGFzLCBteURpY3QsIGdEaWN0LCBnTmFtZXMsIGt0dXBsZSwgZ2xWYWx1
ZSkKICAgICAgICBlbHNlOgogICAgICAgICAgICBlbmNvZGluZ3MgPSBzZWxmLmxhbWJkYU1vZGVsKGZh
c3RhcywgbXlEaWN0LCBnRGljdCwgZ05hbWVzLCBrdHVwbGUsIGdsVmFsdWUpCgogICAgICAgIHNlbGYu
ZW5jb2RpbmdfYXJyYXkgPSBucC5hcnJheShbXSkKICAgICAgICBzZWxmLmVuY29kaW5nX2FycmF5ID0g
bnAuYXJyYXkoZW5jb2RpbmdzLCBkdHlwZT1zdHIpCiAgICAgICAgc2VsZi5jb2x1bW4gPSBzZWxmLmVu
Y29kaW5nX2FycmF5LnNoYXBlWzFdCiAgICAgICAgc2VsZi5yb3cgPSBzZWxmLmVuY29kaW5nX2FycmF5
LnNoYXBlWzBdIC0gMQogICAgICAgIGRlbCBlbmNvZGluZ3MKICAgICAgICBpZiBzZWxmLmVuY29kaW5n
X2FycmF5LnNoYXBlWzBdID4gMToKICAgICAgICAgICAgcmV0dXJuIFRydWUKICAgICAgICBlbHNlOgog
ICAgICAgICAgICByZXR1cm4gRmFsc2UKCiAgICBkZWYgUHJvdGVpbl9Qc2VLUkFBQ190eXBlXzE2KHNl
bGYpOgogICAgICAgIEFBR3JvdXAgPSB7CiAgICAgICAgICAgIDI6IFsnSU1WTEZXWScsICdHUENBU1RO
SFFFRFJLJ10sCiAgICAgICAgICAgIDM6IFsnSU1WTEZXWScsICdHUENBU1QnLCAnTkhRRURSSyddLAog
ICAgICAgICAgICA0OiBbJ0lNVkxGV1knLCAnRycsICdQQ0FTVCcsICdOSFFFRFJLJ10sCiAgICAgICAg
ICAgIDU6IFsnSU1WTCcsICdGV1knLCAnRycsICdQQ0FTVCcsICdOSFFFRFJLJ10sCiAgICAgICAgICAg
IDY6IFsnSU1WTCcsICdGV1knLCAnRycsICdQJywgJ0NBU1QnLCAnTkhRRURSSyddLAogICAgICAgICAg
ICA3OiBbJ0lNVkwnLCAnRldZJywgJ0cnLCAnUCcsICdDQVNUJywgJ05IUUVEJywgJ1JLJ10sCiAgICAg
ICAgICAgIDg6IFsnSU1WJywgJ0wnLCAnRldZJywgJ0cnLCAnUCcsICdDQVNUJywgJ05IUUVEJywgJ1JL
J10sCiAgICAgICAgICAgIDk6IFsnSU1WJywgJ0wnLCAnRldZJywgJ0cnLCAnUCcsICdDJywgJ0FTVCcs
ICdOSFFFRCcsICdSSyddLAogICAgICAgICAgICAxMDogWydJTVYnLCAnTCcsICdGV1knLCAnRycsICdQ
JywgJ0MnLCAnQScsICdTVE5IJywgJ1JLUUUnLCAnRCddLAogICAgICAgICAgICAxMTogWydJTVYnLCAn
TCcsICdGV1knLCAnRycsICdQJywgJ0MnLCAnQScsICdTVE5IJywgJ1JLUScsICdFJywgJ0QnXSwKICAg
ICAgICAgICAgMTI6IFsnSU1WJywgJ0wnLCAnRldZJywgJ0cnLCAnUCcsICdDJywgJ0EnLCAnU1QnLCAn
TicsICdIUktRJywgJ0UnLCAnRCddLAogICAgICAgICAgICAxMzogWydJTVYnLCAnTCcsICdGJywgJ1dZ
JywgJ0cnLCAnUCcsICdDJywgJ0EnLCAnU1QnLCAnTicsICdIUktRJywgJ0UnLCAnRCddLAogICAgICAg
ICAgICAxNDogWydJTVYnLCAnTCcsICdGJywgJ1dZJywgJ0cnLCAnUCcsICdDJywgJ0EnLCAnUycsICdU
JywgJ04nLCAnSFJLUScsICdFJywgJ0QnXSwKICAgICAgICAgICAgMTU6IFsnSU1WJywgJ0wnLCAnRics
ICdXWScsICdHJywgJ1AnLCAnQycsICdBJywgJ1MnLCAnVCcsICdOJywgJ0gnLCAnUktRJywgJ0UnLCAn
RCddLAogICAgICAgICAgICAxNjogWydJTVYnLCAnTCcsICdGJywgJ1cnLCAnWScsICdHJywgJ1AnLCAn
QycsICdBJywgJ1MnLCAnVCcsICdOJywgJ0gnLCAnUktRJywgJ0UnLCAnRCddLAogICAgICAgICAgICAy
MDogWydJJywgJ00nLCAnVicsICdMJywgJ0YnLCAnVycsICdZJywgJ0cnLCAnUCcsICdDJywgJ0EnLCAn
UycsICdUJywgJ04nLCAnSCcsICdSJywgJ0snLCAnUScsICdFJywgJ0QnXSwKICAgICAgICB9CiAgICAg
ICAgZmFzdGFzID0gc2VsZi5mYXN0YV9saXN0CiAgICAgICAgc3VidHlwZSA9IHNlbGYua3dbJ1BzZUtS
QUFDX21vZGVsJ10KICAgICAgICByYWFjdHlwZSA9IHNlbGYua3dbJ1JBQUNfY2x1c3QnXQogICAgICAg
IGt0dXBsZSA9IHNlbGYua3dbJ2stdHVwbGUnXQogICAgICAgIGdsVmFsdWUgPSBzZWxmLmt3WydnLWdh
cCddIGlmIHN1YnR5cGUgPT0gJ2ctZ2FwJyBlbHNlIHNlbGYua3dbJ2xhbWJkYVZhbHVlJ10KCiAgICAg
ICAgaWYgcmFhY3R5cGUgbm90IGluIEFBR3JvdXA6CiAgICAgICAgICAgIHNlbGYuZXJyb3JfbXNnID0g
J1BzZUtSQUFDIGRlc2NyaXB0b3IgdmFsdWUgZXJyb3IuJwogICAgICAgICAgICByZXR1cm4gRmFsc2UK
CiAgICAgICAgIyBpbmRleCBlYWNoIGFtaW5vIGFjaWRzIHRvIHRoZWlyIGdyb3VwCiAgICAgICAgbXlE
aWN0ID0ge30KICAgICAgICBmb3IgaSBpbiByYW5nZShsZW4oQUFHcm91cFtyYWFjdHlwZV0pKToKICAg
ICAgICAgICAgZm9yIGFhIGluIEFBR3JvdXBbcmFhY3R5cGVdW2ldOgogICAgICAgICAgICAgICAgbXlE
aWN0W2FhXSA9IGkKCiAgICAgICAgZ0RpY3QgPSB7fQogICAgICAgIGdOYW1lcyA9IFtdCiAgICAgICAg
Zm9yIGkgaW4gcmFuZ2UobGVuKEFBR3JvdXBbcmFhY3R5cGVdKSk6CiAgICAgICAgICAgIGdEaWN0W2ld
ID0gJ1QxLkcuJyArIHN0cihpICsgMSkKICAgICAgICAgICAgZ05hbWVzLmFwcGVuZCgnVDEuRy4nICsg
c3RyKGkgKyAxKSkKCiAgICAgICAgZW5jb2RpbmdzID0gW10KICAgICAgICBpZiBzdWJ0eXBlID09ICdn
LWdhcCc6CiAgICAgICAgICAgIGVuY29kaW5ncyA9IHNlbGYuZ2FwTW9kZWwoZmFzdGFzLCBteURpY3Qs
IGdEaWN0LCBnTmFtZXMsIGt0dXBsZSwgZ2xWYWx1ZSkKICAgICAgICBlbHNlOgogICAgICAgICAgICBl
bmNvZGluZ3MgPSBzZWxmLmxhbWJkYU1vZGVsKGZhc3RhcywgbXlEaWN0LCBnRGljdCwgZ05hbWVzLCBr
dHVwbGUsIGdsVmFsdWUpCgogICAgICAgIHNlbGYuZW5jb2RpbmdfYXJyYXkgPSBucC5hcnJheShbXSkK
ICAgICAgICBzZWxmLmVuY29kaW5nX2FycmF5ID0gbnAuYXJyYXkoZW5jb2RpbmdzLCBkdHlwZT1zdHIp
CiAgICAgICAgc2VsZi5jb2x1bW4gPSBzZWxmLmVuY29kaW5nX2FycmF5LnNoYXBlWzFdCiAgICAgICAg
c2VsZi5yb3cgPSBzZWxmLmVuY29kaW5nX2FycmF5LnNoYXBlWzBdIC0gMQogICAgICAgIGRlbCBlbmNv
ZGluZ3MKICAgICAgICBpZiBzZWxmLmVuY29kaW5nX2FycmF5LnNoYXBlWzBdID4gMToKICAgICAgICAg
ICAgcmV0dXJuIFRydWUKICAgICAgICBlbHNlOgogICAgICAgICAgICByZXR1cm4gRmFsc2UKCiAgICAi
IiIgRE5BIGFuZCBSTkEgZGVzY3JpcHRvcnMgIiIiCgogICAgZGVmIGttZXJBcnJheShzZWxmLCBzZXF1
ZW5jZSwgayk6CiAgICAgICAga21lciA9IFtdCiAgICAgICAgZm9yIGkgaW4gcmFuZ2UobGVuKHNlcXVl
bmNlKSAtIGsgKyAxKToKICAgICAgICAgICAga21lci5hcHBlbmQoc2VxdWVuY2VbaTppICsga10pCiAg
ICAgICAgcmV0dXJuIGttZXIKCiAgICBkZWYgS21lcihzZWxmKToKICAgICAgICBmYXN0YXMgPSBzZWxm
LmZhc3RhX2xpc3QKICAgICAgICBrID0gc2VsZi5rd1sna21lciddCiAgICAgICAgdXB0byA9IEZhbHNl
CiAgICAgICAgbm9ybWFsaXplID0gVHJ1ZQogICAgICAgIHR5cGUgPSBzZWxmLnNlcXVlbmNlX3R5cGUK
CiAgICAgICAgZW5jb2RpbmcgPSBbXQogICAgICAgIGhlYWRlciA9IFsnU2FtcGxlTmFtZScsICdsYWJl
bCddCiAgICAgICAgTkEgPSAnQUNHVCcKICAgICAgICBpZiB0eXBlIGluICgiRE5BIiwgJ1JOQScpOgog
ICAgICAgICAgICBOQSA9ICdBQ0dUJwogICAgICAgIGVsc2U6CiAgICAgICAgICAgIE5BID0gJ0FDREVG
R0hJS0xNTlBRUlNUVldZJwoKICAgICAgICBpZiB1cHRvID09IFRydWU6CiAgICAgICAgICAgIGZvciB0
bXBLIGluIHJhbmdlKDEsIGsgKyAxKToKICAgICAgICAgICAgICAgIGZvciBrbWVyIGluIGl0ZXJ0b29s
cy5wcm9kdWN0KE5BLCByZXBlYXQ9dG1wSyk6CiAgICAgICAgICAgICAgICAgICAgaGVhZGVyLmFwcGVu
ZCgnJy5qb2luKGttZXIpKQogICAgICAgICAgICBlbmNvZGluZy5hcHBlbmQoaGVhZGVyKQogICAgICAg
ICAgICBmb3IgaSBpbiBmYXN0YXM6CiAgICAgICAgICAgICAgICBuYW1lLCBzZXF1ZW5jZSwgbGFiZWwg
PSBpWzBdLCByZS5zdWIoJy0nLCAnJywgaVsxXSksIGlbMl0KICAgICAgICAgICAgICAgIGNvdW50ID0g
Q291bnRlcigpCiAgICAgICAgICAgICAgICBmb3IgdG1wSyBpbiByYW5nZSgxLCBrICsgMSk6CiAgICAg
ICAgICAgICAgICAgICAga21lcnMgPSBzZWxmLmttZXJBcnJheShzZXF1ZW5jZSwgdG1wSykKICAgICAg
ICAgICAgICAgICAgICBjb3VudC51cGRhdGUoa21lcnMpCiAgICAgICAgICAgICAgICAgICAgaWYgbm9y
bWFsaXplID09IFRydWU6CiAgICAgICAgICAgICAgICAgICAgICAgIGZvciBrZXkgaW4gY291bnQ6CiAg
ICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBsZW4oa2V5KSA9PSB0bXBLOgogICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIGNvdW50W2tleV0gPSBjb3VudFtrZXldIC8gbGVuKGttZXJzKQogICAg
ICAgICAgICAgICAgY29kZSA9IFtuYW1lLCBsYWJlbF0KICAgICAgICAgICAgICAgIGZvciBqIGluIHJh
bmdlKDIsIGxlbihoZWFkZXIpKToKICAgICAgICAgICAgICAgICAgICBpZiBoZWFkZXJbal0gaW4gY291
bnQ6CiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGUuYXBwZW5kKGNvdW50W2hlYWRlcltqXV0pCiAg
ICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgY29kZS5hcHBlbmQo
MCkKICAgICAgICAgICAgICAgIGVuY29kaW5nLmFwcGVuZChjb2RlKQogICAgICAgIGVsc2U6CiAgICAg
ICAgICAgIGZvciBrbWVyIGluIGl0ZXJ0b29scy5wcm9kdWN0KE5BLCByZXBlYXQ9ayk6CiAgICAgICAg
ICAgICAgICBoZWFkZXIuYXBwZW5kKCcnLmpvaW4oa21lcikpCiAgICAgICAgICAgIGVuY29kaW5nLmFw
cGVuZChoZWFkZXIpCiAgICAgICAgICAgIGZvciBpIGluIGZhc3RhczoKICAgICAgICAgICAgICAgIG5h
bWUsIHNlcXVlbmNlLCBsYWJlbCA9IGlbMF0sIHJlLnN1YignLScsICcnLCBpWzFdKSwgaVsyXQogICAg
ICAgICAgICAgICAga21lcnMgPSBzZWxmLmttZXJBcnJheShzZXF1ZW5jZSwgaykKICAgICAgICAgICAg
ICAgIGNvdW50ID0gQ291bnRlcigpCiAgICAgICAgICAgICAgICBjb3VudC51cGRhdGUoa21lcnMpCiAg
ICAgICAgICAgICAgICBpZiBub3JtYWxpemUgPT0gVHJ1ZToKICAgICAgICAgICAgICAgICAgICBmb3Ig
a2V5IGluIGNvdW50OgogICAgICAgICAgICAgICAgICAgICAgICBjb3VudFtrZXldID0gY291bnRba2V5
XSAvIGxlbihrbWVycykKICAgICAgICAgICAgICAgIGNvZGUgPSBbbmFtZSwgbGFiZWxdCiAgICAgICAg
ICAgICAgICBmb3IgaiBpbiByYW5nZSgyLCBsZW4oaGVhZGVyKSk6CiAgICAgICAgICAgICAgICAgICAg
aWYgaGVhZGVyW2pdIGluIGNvdW50OgogICAgICAgICAgICAgICAgICAgICAgICBjb2RlLmFwcGVuZChj
b3VudFtoZWFkZXJbal1dKQogICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAg
ICAgICAgIGNvZGUuYXBwZW5kKDApCiAgICAgICAgICAgICAgICBlbmNvZGluZy5hcHBlbmQoY29kZSkK
ICAgICAgICBzZWxmLmVuY29kaW5nX2FycmF5ID0gbnAuYXJyYXkoW10pCiAgICAgICAgc2VsZi5lbmNv
ZGluZ19hcnJheSA9IG5wLmFycmF5KGVuY29kaW5nLCBkdHlwZT1zdHIpCiAgICAgICAgc2VsZi5jb2x1
bW4gPSBzZWxmLmVuY29kaW5nX2FycmF5LnNoYXBlWzFdCiAgICAgICAgc2VsZi5yb3cgPSBzZWxmLmVu
Y29kaW5nX2FycmF5LnNoYXBlWzBdIC0gMQogICAgICAgIGRlbCBlbmNvZGluZwogICAgICAgIGlmIHNl
bGYuZW5jb2RpbmdfYXJyYXkuc2hhcGVbMF0gPiAxOgogICAgICAgICAgICByZXR1cm4gVHJ1ZQogICAg
ICAgIGVsc2U6CiAgICAgICAgICAgIHJldHVybiBGYWxzZQoKICAgIGRlZiBtaXNtYXRjaF9jb3VudChz
ZWxmLCBzZXExLCBzZXEyKToKICAgICAgICBtaXNtYXRjaCA9IDAKICAgICAgICBmb3IgaSBpbiByYW5n
ZShtaW4oW2xlbihzZXExKSwgbGVuKHNlcTIpXSkpOgogICAgICAgICAgICBpZiBzZXExW2ldICE9IHNl
cTJbaV06CiAgICAgICAgICAgICAgICBtaXNtYXRjaCArPSAxCiAgICAgICAgcmV0dXJuIG1pc21hdGNo
CgogICAgZGVmIE1pc21hdGNoKHNlbGYpOgogICAgICAgIGsgPSBzZWxmLmt3WydrbWVyJ10KICAgICAg
ICBtID0gc2VsZi5rd1snbWlzbWF0Y2gnXQogICAgICAgIE5OID0gJ0FDR1QnCgogICAgICAgIGVuY29k
aW5nID0gW10KICAgICAgICBoZWFkZXIgPSBbJ1NhbXBsZU5hbWUnLCAnbGFiZWwnXQogICAgICAgIHRl
bXBsYXRlX2RpY3QgPSB7fQogICAgICAgIGZvciBrbWVyIGluIGl0ZXJ0b29scy5wcm9kdWN0KE5OLCBy
ZXBlYXQ9ayk6CiAgICAgICAgICAgIGhlYWRlci5hcHBlbmQoJycuam9pbihrbWVyKSkKICAgICAgICAg
ICAgdGVtcGxhdGVfZGljdFsnJy5qb2luKGttZXIpXSA9IDAKICAgICAgICBlbmNvZGluZy5hcHBlbmQo
aGVhZGVyKQoKICAgICAgICBmb3IgZWxlbSBpbiBzZWxmLmZhc3RhX2xpc3Q6CiAgICAgICAgICAgIG5h
bWUsIHNlcXVlbmNlLCBsYWJlbCA9IGVsZW1bMF0sIHJlLnN1YignLScsICcnLCBlbGVtWzFdKSwgZWxl
bVsyXQogICAgICAgICAgICBrbWVycyA9IHNlbGYua21lckFycmF5KHNlcXVlbmNlLCBrKQogICAgICAg
ICAgICB0bXBfZGljdCA9IHRlbXBsYXRlX2RpY3QuY29weSgpCiAgICAgICAgICAgIGZvciBrbWVyIGlu
IGttZXJzOgogICAgICAgICAgICAgICAgZm9yIGtleSBpbiB0bXBfZGljdDoKICAgICAgICAgICAgICAg
ICAgICBpZiBzZWxmLm1pc21hdGNoX2NvdW50KGttZXIsIGtleSkgPD0gbToKICAgICAgICAgICAgICAg
ICAgICAgICAgdG1wX2RpY3Rba2V5XSArPSAxCiAgICAgICAgICAgIGNvZGUgPSBbbmFtZSwgbGFiZWxd
ICsgW3RtcF9kaWN0W2tleV0gZm9yIGtleSBpbiBzb3J0ZWQodG1wX2RpY3Qua2V5cygpKV0KICAgICAg
ICAgICAgZW5jb2RpbmcuYXBwZW5kKGNvZGUpCgogICAgICAgIHNlbGYuZW5jb2RpbmdfYXJyYXkgPSBu
cC5hcnJheShbXSkKICAgICAgICBzZWxmLmVuY29kaW5nX2FycmF5ID0gbnAuYXJyYXkoZW5jb2Rpbmcs
IGR0eXBlPXN0cikKICAgICAgICBzZWxmLmNvbHVtbiA9IHNlbGYuZW5jb2RpbmdfYXJyYXkuc2hhcGVb
MV0KICAgICAgICBzZWxmLnJvdyA9IHNlbGYuZW5jb2RpbmdfYXJyYXkuc2hhcGVbMF0gLSAxCiAgICAg
ICAgZGVsIGVuY29kaW5nCiAgICAgICAgaWYgc2VsZi5lbmNvZGluZ19hcnJheS5zaGFwZVswXSA+IDE6
CiAgICAgICAgICAgIHJldHVybiBUcnVlCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmV0dXJuIEZh
bHNlCgogICAgIiIiIFN1YnNlcXVlbmNlICIiIgogICAgIyBjb2RlIGZyb20gaHR0cHM6Ly93d3cubmNi
aS5ubG0ubmloLmdvdi9wbWMvYXJ0aWNsZXMvUE1DNDgzMDUzMi9iaW4vcG9uZS4wMTUzMjY4LnMwMDEu
emlwCiAgICBkZWYgR2V0S21lckRpY3Qoc2VsZiwgcGlSTkFsZXR0ZXIsIGspOgogICAgICAgIGttZXJs
c3QgPSBbXQogICAgICAgIHBhcnRrbWVycyA9IGxpc3QoaXRlcnRvb2xzLmNvbWJpbmF0aW9uc193aXRo
X3JlcGxhY2VtZW50KHBpUk5BbGV0dGVyLCBrKSkKICAgICAgICBmb3IgZWxlbWVudCBpbiBwYXJ0a21l
cnM6CiAgICAgICAgICAgIGVsZWxzdCA9IHNldChpdGVydG9vbHMucGVybXV0YXRpb25zKGVsZW1lbnQs
IGspKQogICAgICAgICAgICBzdHJsc3QgPSBbJycuam9pbihlbGUpIGZvciBlbGUgaW4gZWxlbHN0XQog
ICAgICAgICAgICBrbWVybHN0ICs9IHN0cmxzdAogICAgICAgIGttZXJsc3QgPSBucC5zb3J0KGttZXJs
c3QpCiAgICAgICAga21lcmRpY3QgPSB7a21lcmxzdFtpXTogaSBmb3IgaSBpbiByYW5nZShsZW4oa21l
cmxzdCkpfQogICAgICAgIHJldHVybiBrbWVyZGljdAoKICAgIGRlZiBHZXRTdWJzZXF1ZW5jZVByb2Zp
bGUoc2VsZiwgaW5zdGFuY2VzLCBwaVJOQWxldHRlciwgaywgZGVsdGEpOgogICAgICAgIGttZXJkaWN0
ID0gc2VsZi5HZXRLbWVyRGljdChwaVJOQWxldHRlciwgaykKICAgICAgICBYID0gW10KICAgICAgICBm
b3Igc2VxdWVuY2UgaW4gaW5zdGFuY2VzOgogICAgICAgICAgICB2ZWN0b3IgPSBzZWxmLkdldFN1YnNl
cXVlbmNlUHJvZmlsZVZlY3RvcihzZXF1ZW5jZSwga21lcmRpY3QsIGssIGRlbHRhKQogICAgICAgICAg
ICBYLmFwcGVuZCh2ZWN0b3IpCiAgICAgICAgWCA9IG5wLmFycmF5KFgpCiAgICAgICAgcmV0dXJuIFgK
CiAgICBkZWYgR2V0U3Vic2VxdWVuY2VQcm9maWxlVmVjdG9yKHNlbGYsIHNlcXVlbmNlLCBrbWVyZGlj
dCwgaywgZGVsdGEpOgogICAgICAgIHZlY3RvciA9IG5wLnplcm9zKCgxLCBsZW4oa21lcmRpY3QpKSkK
ICAgICAgICBzZXF1ZW5jZSA9IG5wLmFycmF5KGxpc3Qoc2VxdWVuY2UpKQogICAgICAgIG4gPSBsZW4o
c2VxdWVuY2UpCiAgICAgICAgaW5kZXhfbHN0ID0gbGlzdChpdGVydG9vbHMuY29tYmluYXRpb25zKHJh
bmdlKG4pLCBrKSkKICAgICAgICBmb3Igc3Vic2VxX2luZGV4IGluIGluZGV4X2xzdDoKICAgICAgICAg
ICAgc3Vic2VxX2luZGV4ID0gbGlzdChzdWJzZXFfaW5kZXgpCiAgICAgICAgICAgIHN1YnNlcXVlbmNl
ID0gc2VxdWVuY2Vbc3Vic2VxX2luZGV4XQogICAgICAgICAgICBwb3NpdGlvbiA9IGttZXJkaWN0Lmdl
dCgnJy5qb2luKHN1YnNlcXVlbmNlKSkKICAgICAgICAgICAgc3Vic2VxX2xlbmd0aCA9IHN1YnNlcV9p
bmRleFstMV0gLSBzdWJzZXFfaW5kZXhbMF0gKyAxCiAgICAgICAgICAgIHN1YnNlcV9zY29yZSA9IDEg
aWYgc3Vic2VxX2xlbmd0aCA9PSBrIGVsc2UgZGVsdGEgKiogc3Vic2VxX2xlbmd0aAogICAgICAgICAg
ICB2ZWN0b3JbMCwgcG9zaXRpb25dICs9IHN1YnNlcV9zY29yZQogICAgICAgIHJldHVybiBsaXN0KHZl
Y3RvclswXSkKCiAgICBkZWYgU3Vic2VxdWVuY2Uoc2VsZik6CiAgICAgICAgayA9IHNlbGYua3dbJ2tt
ZXInXQogICAgICAgIGRlbHRhID0gc2VsZi5rd1snZGVsdGEnXQogICAgICAgIE5OX2xpc3QgPSBbJ0En
LCAnQycsICdHJywgJ1QnXQoKICAgICAgICBlbmNvZGluZyA9IFtdCiAgICAgICAgaGVhZGVyID0gWydT
YW1wbGVOYW1lJywgJ2xhYmVsJ10KICAgICAgICBmb3Iga21lciBpbiBpdGVydG9vbHMucHJvZHVjdChO
Tl9saXN0LCByZXBlYXQ9ayk6CiAgICAgICAgICAgIGhlYWRlci5hcHBlbmQoJycuam9pbihrbWVyKSkK
ICAgICAgICBlbmNvZGluZy5hcHBlbmQoaGVhZGVyKQoKICAgICAgICBpbnN0YW5jZXMgPSBbZWxlbVsx
XSBmb3IgZWxlbSBpbiBzZWxmLmZhc3RhX2xpc3RdCgogICAgICAgIGNvZGUgPSBzZWxmLkdldFN1YnNl
cXVlbmNlUHJvZmlsZShpbnN0YW5jZXMsIE5OX2xpc3QsIGssIGRlbHRhKQogICAgICAgIGluZm9fbGlz
dCA9IG5wLmFycmF5KFtbaXRlbVswXSwgaXRlbVsyXV0gZm9yIGl0ZW0gaW4gc2VsZi5mYXN0YV9saXN0
XSkKICAgICAgICBjb2RlID0gbnAuaHN0YWNrKChpbmZvX2xpc3QsIGNvZGUpKQoKICAgICAgICBzZWxm
LmVuY29kaW5nX2FycmF5ID0gbnAudnN0YWNrKChoZWFkZXIsIGNvZGUpKQogICAgICAgIHNlbGYuY29s
dW1uID0gc2VsZi5lbmNvZGluZ19hcnJheS5zaGFwZVsxXQogICAgICAgIHNlbGYucm93ID0gc2VsZi5l
bmNvZGluZ19hcnJheS5zaGFwZVswXSAtIDEKICAgICAgICBpZiBzZWxmLmVuY29kaW5nX2FycmF5LnNo
YXBlWzBdID4gMToKICAgICAgICAgICAgcmV0dXJuIFRydWUKICAgICAgICBlbHNlOgogICAgICAgICAg
ICByZXR1cm4gRmFsc2UKCiAgICAiIiIgZW5kIG9mIFN1YnNlcXVlbmNlICIiIgoKICAgIGRlZiBSQyhz
ZWxmLCBrbWVyKToKICAgICAgICBteURpY3QgPSB7CiAgICAgICAgICAgICdBJzogJ1QnLAogICAgICAg
ICAgICAnQyc6ICdHJywKICAgICAgICAgICAgJ0cnOiAnQycsCiAgICAgICAgICAgICdUJzogJ0EnCiAg
ICAgICAgfQogICAgICAgIHJldHVybiAnJy5qb2luKFtteURpY3RbbmNdIGZvciBuYyBpbiBrbWVyWzo6
LTFdXSkKCiAgICBkZWYgZ2VuZXJhdGVSQ0ttZXIoc2VsZiwga21lckxpc3QpOgogICAgICAgIHJja21l
ckxpc3QgPSBzZXQoKQogICAgICAgIG15RGljdCA9IHsKICAgICAgICAgICAgJ0EnOiAnVCcsCiAgICAg
ICAgICAgICdDJzogJ0cnLAogICAgICAgICAgICAnRyc6ICdDJywKICAgICAgICAgICAgJ1QnOiAnQScK
ICAgICAgICB9CiAgICAgICAgZm9yIGttZXIgaW4ga21lckxpc3Q6CiAgICAgICAgICAgIHJja21lckxp
c3QuYWRkKHNvcnRlZChba21lciwgJycuam9pbihbbXlEaWN0W25jXSBmb3IgbmMgaW4ga21lcls6Oi0x
XV0pXSlbMF0pCiAgICAgICAgcmV0dXJuIHNvcnRlZChyY2ttZXJMaXN0KQoKICAgIGRlZiBSQ0ttZXIo
c2VsZik6CiAgICAgICAgZmFzdGFzID0gc2VsZi5mYXN0YV9saXN0CiAgICAgICAgayA9IHNlbGYua3db
J2ttZXInXQogICAgICAgIHVwdG8gPSBGYWxzZQogICAgICAgIG5vcm1hbGl6ZSA9IFRydWUKCiAgICAg
ICAgZW5jb2RpbmcgPSBbXQogICAgICAgIGhlYWRlciA9IFsnU2FtcGxlTmFtZScsICdsYWJlbCddCiAg
ICAgICAgTkEgPSAnQUNHVCcKCiAgICAgICAgaWYgdXB0byA9PSBUcnVlOgogICAgICAgICAgICBmb3Ig
dG1wSyBpbiByYW5nZSgxLCBrICsgMSk6CiAgICAgICAgICAgICAgICB0bXBIZWFkZXIgPSBbXQogICAg
ICAgICAgICAgICAgZm9yIGttZXIgaW4gaXRlcnRvb2xzLnByb2R1Y3QoTkEsIHJlcGVhdD10bXBLKToK
ICAgICAgICAgICAgICAgICAgICB0bXBIZWFkZXIuYXBwZW5kKCcnLmpvaW4oa21lcikpCiAgICAgICAg
ICAgICAgICBoZWFkZXIgPSBoZWFkZXIgKyBzZWxmLmdlbmVyYXRlUkNLbWVyKHRtcEhlYWRlcikKICAg
ICAgICAgICAgbXlEaWN0ID0ge30KICAgICAgICAgICAgZm9yIGttZXIgaW4gaGVhZGVyWzI6XToKICAg
ICAgICAgICAgICAgIHJja21lciA9IHNlbGYuUkMoa21lcikKICAgICAgICAgICAgICAgIGlmIGttZXIg
IT0gcmNrbWVyOgogICAgICAgICAgICAgICAgICAgIG15RGljdFtyY2ttZXJdID0ga21lcgogICAgICAg
ICAgICBlbmNvZGluZy5hcHBlbmQoaGVhZGVyKQogICAgICAgICAgICBmb3IgaSBpbiBmYXN0YXM6CiAg
ICAgICAgICAgICAgICBuYW1lLCBzZXF1ZW5jZSwgbGFiZWwgPSBpWzBdLCByZS5zdWIoJy0nLCAnJywg
aVsxXSksIGlbMl0KICAgICAgICAgICAgICAgIGNvdW50ID0gQ291bnRlcigpCiAgICAgICAgICAgICAg
ICBmb3IgdG1wSyBpbiByYW5nZSgxLCBrICsgMSk6CiAgICAgICAgICAgICAgICAgICAga21lcnMgPSBz
ZWxmLmttZXJBcnJheShzZXF1ZW5jZSwgdG1wSykKICAgICAgICAgICAgICAgICAgICBmb3IgaiBpbiBy
YW5nZShsZW4oa21lcnMpKToKICAgICAgICAgICAgICAgICAgICAgICAgaWYga21lcnNbal0gaW4gbXlE
aWN0OgogICAgICAgICAgICAgICAgICAgICAgICAgICAga21lcnNbal0gPSBteURpY3Rba21lcnNbal1d
CiAgICAgICAgICAgICAgICAgICAgY291bnQudXBkYXRlKGttZXJzKQogICAgICAgICAgICAgICAgICAg
IGlmIG5vcm1hbGl6ZSA9PSBUcnVlOgogICAgICAgICAgICAgICAgICAgICAgICBmb3Iga2V5IGluIGNv
dW50OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgbGVuKGtleSkgPT0gdG1wSzoKICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICBjb3VudFtrZXldID0gY291bnRba2V5XSAvIGxlbihrbWVy
cykKICAgICAgICAgICAgICAgIGNvZGUgPSBbbmFtZSwgbGFiZWxdCiAgICAgICAgICAgICAgICBmb3Ig
aiBpbiByYW5nZSgyLCBsZW4oaGVhZGVyKSk6CiAgICAgICAgICAgICAgICAgICAgaWYgaGVhZGVyW2pd
IGluIGNvdW50OgogICAgICAgICAgICAgICAgICAgICAgICBjb2RlLmFwcGVuZChjb3VudFtoZWFkZXJb
al1dKQogICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGUu
YXBwZW5kKDApCiAgICAgICAgICAgICAgICBlbmNvZGluZy5hcHBlbmQoY29kZSkKICAgICAgICBlbHNl
OgogICAgICAgICAgICB0bXBIZWFkZXIgPSBbXQogICAgICAgICAgICBmb3Iga21lciBpbiBpdGVydG9v
bHMucHJvZHVjdChOQSwgcmVwZWF0PWspOgogICAgICAgICAgICAgICAgdG1wSGVhZGVyLmFwcGVuZCgn
Jy5qb2luKGttZXIpKQogICAgICAgICAgICBoZWFkZXIgPSBoZWFkZXIgKyBzZWxmLmdlbmVyYXRlUkNL
bWVyKHRtcEhlYWRlcikKICAgICAgICAgICAgbXlEaWN0ID0ge30KICAgICAgICAgICAgZm9yIGttZXIg
aW4gaGVhZGVyWzI6XToKICAgICAgICAgICAgICAgIHJja21lciA9IHNlbGYuUkMoa21lcikKICAgICAg
ICAgICAgICAgIGlmIGttZXIgIT0gcmNrbWVyOgogICAgICAgICAgICAgICAgICAgIG15RGljdFtyY2tt
ZXJdID0ga21lcgoKICAgICAgICAgICAgZW5jb2RpbmcuYXBwZW5kKGhlYWRlcikKICAgICAgICAgICAg
Zm9yIGkgaW4gZmFzdGFzOgogICAgICAgICAgICAgICAgbmFtZSwgc2VxdWVuY2UsIGxhYmVsID0gaVsw
XSwgcmUuc3ViKCctJywgJycsIGlbMV0pLCBpWzJdCiAgICAgICAgICAgICAgICBrbWVycyA9IHNlbGYu
a21lckFycmF5KHNlcXVlbmNlLCBrKQogICAgICAgICAgICAgICAgZm9yIGogaW4gcmFuZ2UobGVuKGtt
ZXJzKSk6CiAgICAgICAgICAgICAgICAgICAgaWYga21lcnNbal0gaW4gbXlEaWN0OgogICAgICAgICAg
ICAgICAgICAgICAgICBrbWVyc1tqXSA9IG15RGljdFtrbWVyc1tqXV0KICAgICAgICAgICAgICAgIGNv
dW50ID0gQ291bnRlcigpCiAgICAgICAgICAgICAgICBjb3VudC51cGRhdGUoa21lcnMpCiAgICAgICAg
ICAgICAgICBpZiBub3JtYWxpemUgPT0gVHJ1ZToKICAgICAgICAgICAgICAgICAgICBmb3Iga2V5IGlu
IGNvdW50OgogICAgICAgICAgICAgICAgICAgICAgICBjb3VudFtrZXldID0gY291bnRba2V5XSAvIGxl
bihrbWVycykKICAgICAgICAgICAgICAgIGNvZGUgPSBbbmFtZSwgbGFiZWxdCiAgICAgICAgICAgICAg
ICBmb3IgaiBpbiByYW5nZSgyLCBsZW4oaGVhZGVyKSk6CiAgICAgICAgICAgICAgICAgICAgaWYgaGVh
ZGVyW2pdIGluIGNvdW50OgogICAgICAgICAgICAgICAgICAgICAgICBjb2RlLmFwcGVuZChjb3VudFto
ZWFkZXJbal1dKQogICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAg
IGNvZGUuYXBwZW5kKDApCiAgICAgICAgICAgICAgICBlbmNvZGluZy5hcHBlbmQoY29kZSkKICAgICAg
ICBzZWxmLmVuY29kaW5nX2FycmF5ID0gbnAuYXJyYXkoW10pCiAgICAgICAgc2VsZi5lbmNvZGluZ19h
cnJheSA9IG5wLmFycmF5KGVuY29kaW5nLCBkdHlwZT1zdHIpCiAgICAgICAgc2VsZi5jb2x1bW4gPSBz
ZWxmLmVuY29kaW5nX2FycmF5LnNoYXBlWzFdCiAgICAgICAgc2VsZi5yb3cgPSBzZWxmLmVuY29kaW5n
X2FycmF5LnNoYXBlWzBdIC0gMQogICAgICAgIGRlbCBlbmNvZGluZwogICAgICAgIGlmIHNlbGYuZW5j
b2RpbmdfYXJyYXkuc2hhcGVbMF0gPiAxOgogICAgICAgICAgICByZXR1cm4gVHJ1ZQogICAgICAgIGVs
c2U6CiAgICAgICAgICAgIHJldHVybiBGYWxzZQoKICAgIGRlZiBOQUMoc2VsZik6CiAgICAgICAgTkEg
PSAnQUNHVCcKICAgICAgICBlbmNvZGluZ3MgPSBbXQogICAgICAgIGhlYWRlciA9IFsnU2FtcGxlTmFt
ZScsICdsYWJlbCddCiAgICAgICAgZm9yIGkgaW4gTkE6CiAgICAgICAgICAgIGhlYWRlci5hcHBlbmQo
aSkKICAgICAgICBlbmNvZGluZ3MuYXBwZW5kKGhlYWRlcikKCiAgICAgICAgZm9yIGkgaW4gc2VsZi5m
YXN0YV9saXN0OgogICAgICAgICAgICBuYW1lLCBzZXF1ZW5jZSwgbGFiZWwgPSBpWzBdLCByZS5zdWIo
Jy0nLCAnJywgaVsxXSksIGlbMl0KICAgICAgICAgICAgY291bnQgPSBDb3VudGVyKHNlcXVlbmNlKQog
ICAgICAgICAgICBmb3Iga2V5IGluIGNvdW50OgogICAgICAgICAgICAgICAgY291bnRba2V5XSA9IGNv
dW50W2tleV0gLyBsZW4oc2VxdWVuY2UpCiAgICAgICAgICAgIGNvZGUgPSBbbmFtZSwgbGFiZWxdCiAg
ICAgICAgICAgIGZvciBuYSBpbiBOQToKICAgICAgICAgICAgICAgIGNvZGUuYXBwZW5kKGNvdW50W25h
XSkKICAgICAgICAgICAgZW5jb2RpbmdzLmFwcGVuZChjb2RlKQogICAgICAgIHNlbGYuZW5jb2Rpbmdf
YXJyYXkgPSBucC5hcnJheShbXSkKICAgICAgICBzZWxmLmVuY29kaW5nX2FycmF5ID0gbnAuYXJyYXko
ZW5jb2RpbmdzLCBkdHlwZT1zdHIpCiAgICAgICAgc2VsZi5jb2x1bW4gPSBzZWxmLmVuY29kaW5nX2Fy
cmF5LnNoYXBlWzFdCiAgICAgICAgc2VsZi5yb3cgPSBzZWxmLmVuY29kaW5nX2FycmF5LnNoYXBlWzBd
IC0gMQogICAgICAgIGRlbCBlbmNvZGluZ3MKICAgICAgICBpZiBzZWxmLmVuY29kaW5nX2FycmF5LnNo
YXBlWzBdID4gMToKICAgICAgICAgICAgcmV0dXJuIFRydWUKICAgICAgICBlbHNlOgogICAgICAgICAg
ICByZXR1cm4gRmFsc2UKCiAgICBkZWYgRE5DKHNlbGYpOgogICAgICAgIGJhc2UgPSAnQUNHVCcKICAg
ICAgICBlbmNvZGluZ3MgPSBbXQogICAgICAgIGRpbnVjbGVvdGlkZXMgPSBbbjEgKyBuMiBmb3IgbjEg
aW4gYmFzZSBmb3IgbjIgaW4gYmFzZV0KICAgICAgICBoZWFkZXIgPSBbJ1NhbXBsZU5hbWUnLCAnbGFi
ZWwnXSArIGRpbnVjbGVvdGlkZXMKICAgICAgICBlbmNvZGluZ3MuYXBwZW5kKGhlYWRlcikKCiAgICAg
ICAgQUFEaWN0ID0ge30KICAgICAgICBmb3IgaSBpbiByYW5nZShsZW4oYmFzZSkpOgogICAgICAgICAg
ICBBQURpY3RbYmFzZVtpXV0gPSBpCgogICAgICAgIGZvciBpIGluIHNlbGYuZmFzdGFfbGlzdDoKICAg
ICAgICAgICAgbmFtZSwgc2VxdWVuY2UsIGxhYmVsID0gaVswXSwgcmUuc3ViKCctJywgJycsIGlbMV0p
LCBpWzJdCiAgICAgICAgICAgIGNvZGUgPSBbbmFtZSwgbGFiZWxdCiAgICAgICAgICAgIHRtcENvZGUg
PSBbMF0gKiAxNgogICAgICAgICAgICBmb3IgaiBpbiByYW5nZShsZW4oc2VxdWVuY2UpIC0gMiArIDEp
OgogICAgICAgICAgICAgICAgdG1wQ29kZVtBQURpY3Rbc2VxdWVuY2Vbal1dICogNCArIEFBRGljdFtz
ZXF1ZW5jZVtqICsgMV1dXSA9IHRtcENvZGVbQUFEaWN0W3NlcXVlbmNlW2pdXSAqIDQgKyBBQURpY3Rb
CiAgICAgICAgICAgICAgICAgICAgc2VxdWVuY2VbaiArIDFdXV0gKyAxCiAgICAgICAgICAgIGlmIHN1
bSh0bXBDb2RlKSAhPSAwOgogICAgICAgICAgICAgICAgdG1wQ29kZSA9IFtpIC8gc3VtKHRtcENvZGUp
IGZvciBpIGluIHRtcENvZGVdCiAgICAgICAgICAgIGNvZGUgPSBjb2RlICsgdG1wQ29kZQogICAgICAg
ICAgICBlbmNvZGluZ3MuYXBwZW5kKGNvZGUpCiAgICAgICAgc2VsZi5lbmNvZGluZ19hcnJheSA9IG5w
LmFycmF5KFtdKQogICAgICAgIHNlbGYuZW5jb2RpbmdfYXJyYXkgPSBucC5hcnJheShlbmNvZGluZ3Ms
IGR0eXBlPXN0cikKICAgICAgICBzZWxmLmNvbHVtbiA9IHNlbGYuZW5jb2RpbmdfYXJyYXkuc2hhcGVb
MV0KICAgICAgICBzZWxmLnJvdyA9IHNlbGYuZW5jb2RpbmdfYXJyYXkuc2hhcGVbMF0gLSAxCiAgICAg
ICAgZGVsIGVuY29kaW5ncwogICAgICAgIGlmIHNlbGYuZW5jb2RpbmdfYXJyYXkuc2hhcGVbMF0gPiAx
OgogICAgICAgICAgICByZXR1cm4gVHJ1ZQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJldHVybiBG
YWxzZQoKICAgIGRlZiBUTkMoc2VsZik6CiAgICAgICAgQUEgPSAnQUNHVCcKICAgICAgICBlbmNvZGlu
Z3MgPSBbXQogICAgICAgIHRyaVBlcHRpZGVzID0gW2FhMSArIGFhMiArIGFhMyBmb3IgYWExIGluIEFB
IGZvciBhYTIgaW4gQUEgZm9yIGFhMyBpbiBBQV0KICAgICAgICBoZWFkZXIgPSBbJ1NhbXBsZU5hbWUn
LCAnbGFiZWwnXSArIHRyaVBlcHRpZGVzCiAgICAgICAgZW5jb2RpbmdzLmFwcGVuZChoZWFkZXIpCgog
ICAgICAgIEFBRGljdCA9IHt9CiAgICAgICAgZm9yIGkgaW4gcmFuZ2UobGVuKEFBKSk6CiAgICAgICAg
ICAgIEFBRGljdFtBQVtpXV0gPSBpCgogICAgICAgIGZvciBpIGluIHNlbGYuZmFzdGFfbGlzdDoKICAg
ICAgICAgICAgbmFtZSwgc2VxdWVuY2UsIGxhYmVsID0gaVswXSwgcmUuc3ViKCctJywgJycsIGlbMV0p
LCBpWzJdCiAgICAgICAgICAgIGNvZGUgPSBbbmFtZSwgbGFiZWxdCiAgICAgICAgICAgIHRtcENvZGUg
PSBbMF0gKiA2NAogICAgICAgICAgICBmb3IgaiBpbiByYW5nZShsZW4oc2VxdWVuY2UpIC0gMyArIDEp
OgogICAgICAgICAgICAgICAgdG1wQ29kZVtBQURpY3Rbc2VxdWVuY2Vbal1dICogMTYgKyBBQURpY3Rb
c2VxdWVuY2VbaiArIDFdXSAqIDQgKyBBQURpY3Rbc2VxdWVuY2VbaiArIDJdXV0gPSB0bXBDb2RlWwog
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQUFEaWN0Wwog
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcXVl
bmNlWwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICBqXV0gKiAxNiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICBBQURpY3RbCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgc2VxdWVuY2VbCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIGogKyAxXV0gKiA0ICsKICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFBRGljdFsKICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXF1ZW5jZVsKICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaiArIDJdXV0gKyAxCiAgICAg
ICAgICAgIGlmIHN1bSh0bXBDb2RlKSAhPSAwOgogICAgICAgICAgICAgICAgdG1wQ29kZSA9IFtpIC8g
c3VtKHRtcENvZGUpIGZvciBpIGluIHRtcENvZGVdCiAgICAgICAgICAgIGNvZGUgPSBjb2RlICsgdG1w
Q29kZQogICAgICAgICAgICBlbmNvZGluZ3MuYXBwZW5kKGNvZGUpCiAgICAgICAgc2VsZi5lbmNvZGlu
Z19hcnJheSA9IG5wLmFycmF5KFtdKQogICAgICAgIHNlbGYuZW5jb2RpbmdfYXJyYXkgPSBucC5hcnJh
eShlbmNvZGluZ3MsIGR0eXBlPXN0cikKICAgICAgICBzZWxmLmNvbHVtbiA9IHNlbGYuZW5jb2Rpbmdf
YXJyYXkuc2hhcGVbMV0KICAgICAgICBzZWxmLnJvdyA9IHNlbGYuZW5jb2RpbmdfYXJyYXkuc2hhcGVb
MF0gLSAxCiAgICAgICAgZGVsIGVuY29kaW5ncwogICAgICAgIGlmIHNlbGYuZW5jb2RpbmdfYXJyYXku
c2hhcGVbMF0gPiAxOgogICAgICAgICAgICByZXR1cm4gVHJ1ZQogICAgICAgIGVsc2U6CiAgICAgICAg
ICAgIHJldHVybiBGYWxzZQoKICAgIGRlZiBBTkYoc2VsZik6CiAgICAgICAgaWYgbm90IHNlbGYuaXNf
ZXF1YWw6CiAgICAgICAgICAgIHNlbGYuZXJyb3JfbXNnID0gJ0FORiBkZXNjcmlwdG9yIG5lZWQgZmFz
dGEgc2VxdWVuY2Ugd2l0aCBlcXVhbCBsZW5ndGguJwogICAgICAgICAgICByZXR1cm4gRmFsc2UKICAg
ICAgICBBQSA9ICdBQ0dUJwogICAgICAgIGVuY29kaW5ncyA9IFtdCiAgICAgICAgaGVhZGVyID0gWydT
YW1wbGVOYW1lJywgJ2xhYmVsJ10KICAgICAgICBmb3IgaSBpbiByYW5nZSgxLCBsZW4oc2VsZi5mYXN0
YV9saXN0WzBdWzFdKSArIDEpOgogICAgICAgICAgICBoZWFkZXIuYXBwZW5kKCdBTkYuJyArIHN0cihp
KSkKICAgICAgICBlbmNvZGluZ3MuYXBwZW5kKGhlYWRlcikKCiAgICAgICAgZm9yIGkgaW4gc2VsZi5m
YXN0YV9saXN0OgogICAgICAgICAgICBuYW1lLCBzZXF1ZW5jZSwgbGFiZWwgPSBpWzBdLCBpWzFdLCBp
WzJdCiAgICAgICAgICAgIGNvZGUgPSBbbmFtZSwgbGFiZWxdCiAgICAgICAgICAgIGZvciBqIGluIHJh
bmdlKGxlbihzZXF1ZW5jZSkpOgogICAgICAgICAgICAgICAgY29kZS5hcHBlbmQoc2VxdWVuY2VbMDog
aiArIDFdLmNvdW50KHNlcXVlbmNlW2pdKSAvIChqICsgMSkpCiAgICAgICAgICAgIGVuY29kaW5ncy5h
cHBlbmQoY29kZSkKICAgICAgICBzZWxmLmVuY29kaW5nX2FycmF5ID0gbnAuYXJyYXkoW10pCiAgICAg
ICAgc2VsZi5lbmNvZGluZ19hcnJheSA9IG5wLmFycmF5KGVuY29kaW5ncywgZHR5cGU9c3RyKQogICAg
ICAgIHNlbGYuY29sdW1uID0gc2VsZi5lbmNvZGluZ19hcnJheS5zaGFwZVsxXQogICAgICAgIHNlbGYu
cm93ID0gc2VsZi5lbmNvZGluZ19hcnJheS5zaGFwZVswXSAtIDEKICAgICAgICBkZWwgZW5jb2Rpbmdz
CiAgICAgICAgaWYgc2VsZi5lbmNvZGluZ19hcnJheS5zaGFwZVswXSA+IDE6CiAgICAgICAgICAgIHJl
dHVybiBUcnVlCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmV0dXJuIEZhbHNlCgogICAgZGVmIE5D
UChzZWxmKToKICAgICAgICBpZiBub3Qgc2VsZi5pc19lcXVhbDoKICAgICAgICAgICAgc2VsZi5lcnJv
cl9tc2cgPSAnTkNQIGRlc2NyaXB0b3IgbmVlZCBmYXN0YSBzZXF1ZW5jZSB3aXRoIGVxdWFsIGxlbmd0
aC4nCiAgICAgICAgICAgIHJldHVybiBGYWxzZQogICAgICAgIGNoZW1pY2FsX3Byb3BlcnR5ID0gewog
ICAgICAgICAgICAnQSc6IFsxLCAxLCAxXSwKICAgICAgICAgICAgJ0MnOiBbMCwgMSwgMF0sCiAgICAg
ICAgICAgICdHJzogWzEsIDAsIDBdLAogICAgICAgICAgICAnVCc6IFswLCAwLCAxXSwKICAgICAgICAg
ICAgJ1UnOiBbMCwgMCwgMV0sCiAgICAgICAgICAgICctJzogWzAsIDAsIDBdLAogICAgICAgIH0KICAg
ICAgICBBQSA9ICdBQ0dUJwogICAgICAgIGVuY29kaW5ncyA9IFtdCiAgICAgICAgaGVhZGVyID0gWydT
YW1wbGVOYW1lJywgJ2xhYmVsJ10KICAgICAgICBmb3IgaSBpbiByYW5nZSgxLCBsZW4oc2VsZi5mYXN0
YV9saXN0WzBdWzFdKSAqIDMgKyAxKToKICAgICAgICAgICAgaGVhZGVyLmFwcGVuZCgnTkNQLkYnICsg
c3RyKGkpKQogICAgICAgIGVuY29kaW5ncy5hcHBlbmQoaGVhZGVyKQoKICAgICAgICBmb3IgaSBpbiBz
ZWxmLmZhc3RhX2xpc3Q6CiAgICAgICAgICAgIG5hbWUsIHNlcXVlbmNlLCBsYWJlbCA9IGlbMF0sIGlb
MV0sIGlbMl0KICAgICAgICAgICAgY29kZSA9IFtuYW1lLCBsYWJlbF0KICAgICAgICAgICAgZm9yIGFh
IGluIHNlcXVlbmNlOgogICAgICAgICAgICAgICAgY29kZSA9IGNvZGUgKyBjaGVtaWNhbF9wcm9wZXJ0
eS5nZXQoYWEsIFswLCAwLCAwXSkKICAgICAgICAgICAgZW5jb2RpbmdzLmFwcGVuZChjb2RlKQogICAg
ICAgIHNlbGYuZW5jb2RpbmdfYXJyYXkgPSBucC5hcnJheShbXSkKICAgICAgICBzZWxmLmVuY29kaW5n
X2FycmF5ID0gbnAuYXJyYXkoZW5jb2RpbmdzLCBkdHlwZT1zdHIpCiAgICAgICAgc2VsZi5jb2x1bW4g
PSBzZWxmLmVuY29kaW5nX2FycmF5LnNoYXBlWzFdCiAgICAgICAgc2VsZi5yb3cgPSBzZWxmLmVuY29k
aW5nX2FycmF5LnNoYXBlWzBdIC0gMQogICAgICAgIGRlbCBlbmNvZGluZ3MKICAgICAgICBpZiBzZWxm
LmVuY29kaW5nX2FycmF5LnNoYXBlWzBdID4gMToKICAgICAgICAgICAgcmV0dXJuIFRydWUKICAgICAg
ICBlbHNlOgogICAgICAgICAgICByZXR1cm4gRmFsc2UKCiAgICBkZWYgRU5BQyhzZWxmKToKICAgICAg
ICBpZiBub3Qgc2VsZi5pc19lcXVhbDoKICAgICAgICAgICAgc2VsZi5lcnJvcl9tc2cgPSAnRU5BQyBk
ZXNjcmlwdG9yIG5lZWQgZmFzdGEgc2VxdWVuY2Ugd2l0aCBlcXVhbCBsZW5ndGguJwogICAgICAgICAg
ICByZXR1cm4gRmFsc2UKICAgICAgICB3aW5kb3cgPSBzZWxmLmt3WydzbGlkaW5nX3dpbmRvdyddCiAg
ICAgICAgaWYgc2VsZi5taW5pbXVtX2xlbmd0aCA8IHdpbmRvdzoKICAgICAgICAgICAgc2VsZi5lcnJv
cl9tc2cgPSAnRU5BQyBkZXNjcmlwdG9yLCBhbGwgdGhlIHNlcXVlbmNlIGxlbmd0aCBzaG91bGQgYmUg
bGFyZ2VyIHRoYW4gdGhlIHNsaWRpbmcgd2luZG93JwogICAgICAgICAgICByZXR1cm4gRmFsc2UKICAg
ICAgICBBQSA9ICdBQ0dUJwogICAgICAgIGVuY29kaW5ncyA9IFtdCiAgICAgICAgaGVhZGVyID0gWydT
YW1wbGVOYW1lJywgJ2xhYmVsJ10KICAgICAgICBmb3IgdyBpbiByYW5nZSgxLCBsZW4oc2VsZi5mYXN0
YV9saXN0WzBdWzFdKSAtIHdpbmRvdyArIDIpOgogICAgICAgICAgICBmb3IgYWEgaW4gQUE6CiAgICAg
ICAgICAgICAgICBoZWFkZXIuYXBwZW5kKCdTVy4nICsgc3RyKHcpICsgJy4nICsgYWEpCiAgICAgICAg
ZW5jb2RpbmdzLmFwcGVuZChoZWFkZXIpCgogICAgICAgIGZvciBpIGluIHNlbGYuZmFzdGFfbGlzdDoK
ICAgICAgICAgICAgbmFtZSwgc2VxdWVuY2UsIGxhYmVsID0gaVswXSwgaVsxXSwgaVsyXQogICAgICAg
ICAgICBjb2RlID0gW25hbWUsIGxhYmVsXQogICAgICAgICAgICBmb3IgaiBpbiByYW5nZShsZW4oc2Vx
dWVuY2UpKToKICAgICAgICAgICAgICAgIGlmIGogPCBsZW4oc2VxdWVuY2UpIGFuZCBqICsgd2luZG93
IDw9IGxlbihzZXF1ZW5jZSk6CiAgICAgICAgICAgICAgICAgICAgY291bnQgPSBDb3VudGVyKHNlcXVl
bmNlW2o6aiArIHdpbmRvd10pCiAgICAgICAgICAgICAgICAgICAgZm9yIGtleSBpbiBjb3VudDoKICAg
ICAgICAgICAgICAgICAgICAgICAgY291bnRba2V5XSA9IGNvdW50W2tleV0gLyBsZW4oc2VxdWVuY2Vb
ajpqICsgd2luZG93XSkKICAgICAgICAgICAgICAgICAgICBmb3IgYWEgaW4gQUE6CiAgICAgICAgICAg
ICAgICAgICAgICAgIGNvZGUuYXBwZW5kKGNvdW50W2FhXSkKICAgICAgICAgICAgZW5jb2RpbmdzLmFw
cGVuZChjb2RlKQogICAgICAgIHNlbGYuZW5jb2RpbmdfYXJyYXkgPSBucC5hcnJheShbXSkKICAgICAg
ICBzZWxmLmVuY29kaW5nX2FycmF5ID0gbnAuYXJyYXkoZW5jb2RpbmdzLCBkdHlwZT1zdHIpCiAgICAg
ICAgc2VsZi5jb2x1bW4gPSBzZWxmLmVuY29kaW5nX2FycmF5LnNoYXBlWzFdCiAgICAgICAgc2VsZi5y
b3cgPSBzZWxmLmVuY29kaW5nX2FycmF5LnNoYXBlWzBdIC0gMQogICAgICAgIGRlbCBlbmNvZGluZ3MK
ICAgICAgICBpZiBzZWxmLmVuY29kaW5nX2FycmF5LnNoYXBlWzBdID4gMToKICAgICAgICAgICAgcmV0
dXJuIFRydWUKICAgICAgICBlbHNlOgogICAgICAgICAgICByZXR1cm4gRmFsc2UKCiAgICBkZWYgYmlu
YXJ5KHNlbGYpOgogICAgICAgIGlmIG5vdCBzZWxmLmlzX2VxdWFsOgogICAgICAgICAgICBzZWxmLmVy
cm9yX21zZyA9ICdiaW5hcnkgZGVzY3JpcHRvciBuZWVkIGZhc3RhIHNlcXVlbmNlIHdpdGggZXF1YWwg
bGVuZ3RoLicKICAgICAgICAgICAgcmV0dXJuIEZhbHNlCiAgICAgICAgQUEgPSAnQUNHVCcKICAgICAg
ICBlbmNvZGluZ3MgPSBbXQogICAgICAgIGhlYWRlciA9IFsnU2FtcGxlTmFtZScsICdsYWJlbCddCiAg
ICAgICAgZm9yIGkgaW4gcmFuZ2UoMSwgbGVuKHNlbGYuZmFzdGFfbGlzdFswXVsxXSkgKiA0ICsgMSk6
CiAgICAgICAgICAgIGhlYWRlci5hcHBlbmQoJ0JJTkFSWS5GJyArIHN0cihpKSkKICAgICAgICBlbmNv
ZGluZ3MuYXBwZW5kKGhlYWRlcikKCiAgICAgICAgZm9yIGkgaW4gc2VsZi5mYXN0YV9saXN0OgogICAg
ICAgICAgICBuYW1lLCBzZXF1ZW5jZSwgbGFiZWwgPSBpWzBdLCBpWzFdLCBpWzJdCiAgICAgICAgICAg
IGNvZGUgPSBbbmFtZSwgbGFiZWxdCiAgICAgICAgICAgIGZvciBhYSBpbiBzZXF1ZW5jZToKICAgICAg
ICAgICAgICAgIGlmIGFhID09ICctJzoKICAgICAgICAgICAgICAgICAgICBjb2RlID0gY29kZSArIFsw
LCAwLCAwLCAwXQogICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgICAgICAgICBmb3Ig
YWExIGluIEFBOgogICAgICAgICAgICAgICAgICAgIHRhZyA9IDEgaWYgYWEgPT0gYWExIGVsc2UgMAog
ICAgICAgICAgICAgICAgICAgIGNvZGUuYXBwZW5kKHRhZykKICAgICAgICAgICAgZW5jb2RpbmdzLmFw
cGVuZChjb2RlKQogICAgICAgIHNlbGYuZW5jb2RpbmdfYXJyYXkgPSBucC5hcnJheShbXSkKICAgICAg
ICBzZWxmLmVuY29kaW5nX2FycmF5ID0gbnAuYXJyYXkoZW5jb2RpbmdzLCBkdHlwZT1zdHIpCiAgICAg
ICAgc2VsZi5jb2x1bW4gPSBzZWxmLmVuY29kaW5nX2FycmF5LnNoYXBlWzFdCiAgICAgICAgc2VsZi5y
b3cgPSBzZWxmLmVuY29kaW5nX2FycmF5LnNoYXBlWzBdIC0gMQogICAgICAgIGRlbCBlbmNvZGluZ3MK
ICAgICAgICBpZiBzZWxmLmVuY29kaW5nX2FycmF5LnNoYXBlWzBdID4gMToKICAgICAgICAgICAgcmV0
dXJuIFRydWUKICAgICAgICBlbHNlOgogICAgICAgICAgICByZXR1cm4gRmFsc2UKCiAgICBkZWYgQ0tT
TkFQKHNlbGYpOgogICAgICAgIGdhcCA9IHNlbGYua3dbJ2tzcGFjZSddCiAgICAgICAgaWYgc2VsZi5t
aW5pbXVtX2xlbmd0aF93aXRob3V0X21pbnVzIDwgZ2FwICsgMjoKICAgICAgICAgICAgc2VsZi5lcnJv
cl9tc2cgPSAnQ0tTTkFQIC0gYWxsIHRoZSBzZXF1ZW5jZSBsZW5ndGggc2hvdWxkIGJlIGxhcmdlciB0
aGFuIHRoZSAoZ2FwIHZhbHVlKSArIDIgPSAlcy4nICUgKAogICAgICAgICAgICAgICAgICAgIGdhcCAr
IDIpCiAgICAgICAgICAgIHJldHVybiBGYWxzZQoKICAgICAgICBBQSA9ICdBQ0dUJwogICAgICAgIGVu
Y29kaW5ncyA9IFtdCiAgICAgICAgYWFQYWlycyA9IFtdCiAgICAgICAgZm9yIGFhMSBpbiBBQToKICAg
ICAgICAgICAgZm9yIGFhMiBpbiBBQToKICAgICAgICAgICAgICAgIGFhUGFpcnMuYXBwZW5kKGFhMSAr
IGFhMikKCiAgICAgICAgaGVhZGVyID0gWydTYW1wbGVOYW1lJywgJ2xhYmVsJ10KICAgICAgICBmb3Ig
ZyBpbiByYW5nZShnYXAgKyAxKToKICAgICAgICAgICAgZm9yIGFhIGluIGFhUGFpcnM6CiAgICAgICAg
ICAgICAgICBoZWFkZXIuYXBwZW5kKGFhICsgJy5nYXAnICsgc3RyKGcpKQogICAgICAgIGVuY29kaW5n
cy5hcHBlbmQoaGVhZGVyKQoKICAgICAgICBmb3IgaSBpbiBzZWxmLmZhc3RhX2xpc3Q6CiAgICAgICAg
ICAgIG5hbWUsIHNlcXVlbmNlLCBsYWJlbCA9IGlbMF0sIGlbMV0sIGlbMl0KICAgICAgICAgICAgY29k
ZSA9IFtuYW1lLCBsYWJlbF0KICAgICAgICAgICAgZm9yIGcgaW4gcmFuZ2UoZ2FwICsgMSk6CiAgICAg
ICAgICAgICAgICBteURpY3QgPSB7fQogICAgICAgICAgICAgICAgZm9yIHBhaXIgaW4gYWFQYWlyczoK
ICAgICAgICAgICAgICAgICAgICBteURpY3RbcGFpcl0gPSAwCiAgICAgICAgICAgICAgICBzdW0gPSAw
CiAgICAgICAgICAgICAgICBmb3IgaW5kZXgxIGluIHJhbmdlKGxlbihzZXF1ZW5jZSkpOgogICAgICAg
ICAgICAgICAgICAgIGluZGV4MiA9IGluZGV4MSArIGcgKyAxCiAgICAgICAgICAgICAgICAgICAgaWYg
aW5kZXgxIDwgbGVuKHNlcXVlbmNlKSBhbmQgaW5kZXgyIDwgbGVuKHNlcXVlbmNlKSBhbmQgc2VxdWVu
Y2VbaW5kZXgxXSBpbiBBQSBhbmQgc2VxdWVuY2VbCiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4
Ml0gaW4gQUE6CiAgICAgICAgICAgICAgICAgICAgICAgIG15RGljdFtzZXF1ZW5jZVtpbmRleDFdICsg
c2VxdWVuY2VbaW5kZXgyXV0gPSBteURpY3Rbc2VxdWVuY2VbaW5kZXgxXSArIHNlcXVlbmNlW2luZGV4
Ml1dICsgMQogICAgICAgICAgICAgICAgICAgICAgICBzdW0gPSBzdW0gKyAxCiAgICAgICAgICAgICAg
ICBmb3IgcGFpciBpbiBhYVBhaXJzOgogICAgICAgICAgICAgICAgICAgIGNvZGUuYXBwZW5kKG15RGlj
dFtwYWlyXSAvIHN1bSkKICAgICAgICAgICAgZW5jb2RpbmdzLmFwcGVuZChjb2RlKQogICAgICAgIHNl
bGYuZW5jb2RpbmdfYXJyYXkgPSBucC5hcnJheShbXSkKICAgICAgICBzZWxmLmVuY29kaW5nX2FycmF5
ID0gbnAuYXJyYXkoZW5jb2RpbmdzLCBkdHlwZT1zdHIpCiAgICAgICAgc2VsZi5jb2x1bW4gPSBzZWxm
LmVuY29kaW5nX2FycmF5LnNoYXBlWzFdCiAgICAgICAgc2VsZi5yb3cgPSBzZWxmLmVuY29kaW5nX2Fy
cmF5LnNoYXBlWzBdIC0gMQogICAgICAgIGRlbCBlbmNvZGluZ3MKICAgICAgICBpZiBzZWxmLmVuY29k
aW5nX2FycmF5LnNoYXBlWzBdID4gMToKICAgICAgICAgICAgcmV0dXJuIFRydWUKICAgICAgICBlbHNl
OgogICAgICAgICAgICByZXR1cm4gRmFsc2UKCiAgICBkZWYgQ2FsY3VsYXRlTWF0cml4KHNlbGYsIGRh
dGEsIG9yZGVyKToKICAgICAgICBtYXRyaXggPSBucC56ZXJvcygobGVuKGRhdGFbMF0pIC0gMiwgNjQp
KQogICAgICAgIGZvciBpIGluIHJhbmdlKGxlbihkYXRhWzBdKSAtIDIpOiAgIyBwb3NpdGlvbgogICAg
ICAgICAgICBmb3IgaiBpbiByYW5nZShsZW4oZGF0YSkpOgogICAgICAgICAgICAgICAgaWYgcmUuc2Vh
cmNoKCctJywgZGF0YVtqXVtpOmkgKyAzXSk6CiAgICAgICAgICAgICAgICAgICAgcGFzcwogICAgICAg
ICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICBtYXRyaXhbaV1bb3JkZXJbZGF0YVtqXVtp
OmkgKyAzXV1dICs9IDEKICAgICAgICByZXR1cm4gbWF0cml4CgogICAgZGVmIFBTVE5Qc3Moc2VsZik6
CiAgICAgICAgaWYgbm90IHNlbGYuaXNfZXF1YWw6CiAgICAgICAgICAgIHNlbGYuZXJyb3JfbXNnID0g
J1BTVE5Qc3MgZGVzY3JpcHRvciBuZWVkIGZhc3RhIHNlcXVlbmNlIHdpdGggZXF1YWwgbGVuZ3RoLicK
ICAgICAgICAgICAgcmV0dXJuIEZhbHNlCgogICAgICAgIGZhc3RhcyA9IFtdCiAgICAgICAgZm9yIGl0
ZW0gaW4gc2VsZi5mYXN0YV9saXN0OgogICAgICAgICAgICBpZiBpdGVtWzNdID09ICd0cmFpbmluZyc6
CiAgICAgICAgICAgICAgICBmYXN0YXMuYXBwZW5kKGl0ZW0pCiAgICAgICAgICAgICAgICBmYXN0YXMu
YXBwZW5kKFtpdGVtWzBdLCBpdGVtWzFdLCBpdGVtWzJdLCAndGVzdGluZyddKQogICAgICAgICAgICBl
bHNlOgogICAgICAgICAgICAgICAgZmFzdGFzLmFwcGVuZChpdGVtKQoKICAgICAgICBmb3IgaSBpbiBm
YXN0YXM6CiAgICAgICAgICAgIGlmIHJlLnNlYXJjaCgnW15BQ0dULV0nLCBpWzFdKToKICAgICAgICAg
ICAgICAgIHNlbGYuZXJyb3JfbXNnID0gJ0lsbGVnYWwgY2hhcmFjdGVyIGluY2x1ZGVkIGluIHRoZSBm
YXN0YSBzZXF1ZW5jZXMsIG9ubHkgdGhlICJBQ0dUW1VdIiBhcmUgYWxsb3dlZCBieSB0aGlzIGVuY29k
aW5nIHNjaGVtZS4nCiAgICAgICAgICAgICAgICByZXR1cm4gRmFsc2UKCiAgICAgICAgZW5jb2Rpbmdz
ID0gW10KICAgICAgICBoZWFkZXIgPSBbJ1NhbXBsZU5hbWUnLCAnbGFiZWwnXQogICAgICAgIGZvciBw
b3MgaW4gcmFuZ2UobGVuKGZhc3Rhc1swXVsxXSkgLSAyKToKICAgICAgICAgICAgaGVhZGVyLmFwcGVu
ZCgnUG9zLiVkJyAlIChwb3MgKyAxKSkKICAgICAgICBlbmNvZGluZ3MuYXBwZW5kKGhlYWRlcikKCiAg
ICAgICAgcG9zaXRpdmUgPSBbXQogICAgICAgIG5lZ2F0aXZlID0gW10KICAgICAgICBwb3NpdGl2ZV9r
ZXkgPSBbXQogICAgICAgIG5lZ2F0aXZlX2tleSA9IFtdCiAgICAgICAgZm9yIGkgaW4gZmFzdGFzOgog
ICAgICAgICAgICBpZiBpWzNdID09ICd0cmFpbmluZyc6CiAgICAgICAgICAgICAgICBpZiBpWzJdID09
ICcxJzoKICAgICAgICAgICAgICAgICAgICBwb3NpdGl2ZS5hcHBlbmQoaVsxXSkKICAgICAgICAgICAg
ICAgICAgICBwb3NpdGl2ZV9rZXkuYXBwZW5kKGlbMF0pCiAgICAgICAgICAgICAgICBlbHNlOgogICAg
ICAgICAgICAgICAgICAgIG5lZ2F0aXZlLmFwcGVuZChpWzFdKQogICAgICAgICAgICAgICAgICAgIG5l
Z2F0aXZlX2tleS5hcHBlbmQoaVswXSkKCiAgICAgICAgbnVjbGVvdGlkZXMgPSBbJ0EnLCAnQycsICdH
JywgJ1QnXQogICAgICAgIHRyaW51Y2xlb3RpZGVzID0gW24xICsgbjIgKyBuMyBmb3IgbjEgaW4gbnVj
bGVvdGlkZXMgZm9yIG4yIGluIG51Y2xlb3RpZGVzIGZvciBuMyBpbiBudWNsZW90aWRlc10KICAgICAg
ICBvcmRlciA9IHt9CiAgICAgICAgZm9yIGkgaW4gcmFuZ2UobGVuKHRyaW51Y2xlb3RpZGVzKSk6CiAg
ICAgICAgICAgIG9yZGVyW3RyaW51Y2xlb3RpZGVzW2ldXSA9IGkKCiAgICAgICAgbWF0cml4X3BvID0g
c2VsZi5DYWxjdWxhdGVNYXRyaXgocG9zaXRpdmUsIG9yZGVyKQogICAgICAgIG1hdHJpeF9uZSA9IHNl
bGYuQ2FsY3VsYXRlTWF0cml4KG5lZ2F0aXZlLCBvcmRlcikKCiAgICAgICAgcG9zaXRpdmVfbnVtYmVy
ID0gbGVuKHBvc2l0aXZlKQogICAgICAgIG5lZ2F0aXZlX251bWJlciA9IGxlbihuZWdhdGl2ZSkKCiAg
ICAgICAgZm9yIGkgaW4gZmFzdGFzOgogICAgICAgICAgICBpZiBpWzNdID09ICd0ZXN0aW5nJzoKICAg
ICAgICAgICAgICAgIG5hbWUsIHNlcXVlbmNlLCBsYWJlbCA9IGlbMF0sIGlbMV0sIGlbMl0KICAgICAg
ICAgICAgICAgIGNvZGUgPSBbbmFtZSwgbGFiZWxdCiAgICAgICAgICAgICAgICBmb3IgaiBpbiByYW5n
ZShsZW4oc2VxdWVuY2UpIC0gMik6CiAgICAgICAgICAgICAgICAgICAgaWYgcmUuc2VhcmNoKCctJywg
c2VxdWVuY2VbajogaiArIDNdKToKICAgICAgICAgICAgICAgICAgICAgICAgY29kZS5hcHBlbmQoMCkK
ICAgICAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgICAgICBwX251bSwgbl9u
dW0gPSBwb3NpdGl2ZV9udW1iZXIsIG5lZ2F0aXZlX251bWJlcgogICAgICAgICAgICAgICAgICAgICAg
ICBwb19udW1iZXIgPSBtYXRyaXhfcG9bal1bb3JkZXJbc2VxdWVuY2VbajogaiArIDNdXV0KICAgICAg
ICAgICAgICAgICAgICAgICAgaWYgaVswXSBpbiBwb3NpdGl2ZV9rZXkgYW5kIHBvX251bWJlciA+IDA6
CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb19udW1iZXIgLT0gMQogICAgICAgICAgICAgICAg
ICAgICAgICAgICAgcF9udW0gLT0gMQogICAgICAgICAgICAgICAgICAgICAgICBuZV9udW1iZXIgPSBt
YXRyaXhfbmVbal1bb3JkZXJbc2VxdWVuY2VbajogaiArIDNdXV0KICAgICAgICAgICAgICAgICAgICAg
ICAgaWYgaVswXSBpbiBuZWdhdGl2ZV9rZXkgYW5kIG5lX251bWJlciA+IDA6CiAgICAgICAgICAgICAg
ICAgICAgICAgICAgICBuZV9udW1iZXIgLT0gMQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbl9u
dW0gLT0gMQogICAgICAgICAgICAgICAgICAgICAgICBjb2RlLmFwcGVuZChwb19udW1iZXIgLyBwX251
bSAtIG5lX251bWJlciAvIG5fbnVtKQogICAgICAgICAgICAgICAgICAgICAgICAjIHByaW50KHNlcXVl
bmNlW2o6IGorM10sIG9yZGVyW3NlcXVlbmNlW2o6IGorM11dLCBwb19udW1iZXIsIHBfbnVtLCBuZV9u
dW1iZXIsIG5fbnVtKQogICAgICAgICAgICAgICAgZW5jb2RpbmdzLmFwcGVuZChjb2RlKQogICAgICAg
IHNlbGYuZW5jb2RpbmdfYXJyYXkgPSBucC5hcnJheShbXSkKICAgICAgICBzZWxmLmVuY29kaW5nX2Fy
cmF5ID0gbnAuYXJyYXkoZW5jb2RpbmdzLCBkdHlwZT1zdHIpCiAgICAgICAgc2VsZi5jb2x1bW4gPSBz
ZWxmLmVuY29kaW5nX2FycmF5LnNoYXBlWzFdCiAgICAgICAgc2VsZi5yb3cgPSBzZWxmLmVuY29kaW5n
X2FycmF5LnNoYXBlWzBdIC0gMQogICAgICAgIGRlbCBlbmNvZGluZ3MKICAgICAgICBpZiBzZWxmLmVu
Y29kaW5nX2FycmF5LnNoYXBlWzBdID4gMToKICAgICAgICAgICAgcmV0dXJuIFRydWUKICAgICAgICBl
bHNlOgogICAgICAgICAgICByZXR1cm4gRmFsc2UKCiAgICBkZWYgUFNUTlBkcyhzZWxmKToKICAgICAg
ICBpZiBub3Qgc2VsZi5pc19lcXVhbDoKICAgICAgICAgICAgc2VsZi5lcnJvcl9tc2cgPSAnUFNUTlBk
cyBkZXNjcmlwdG9yIG5lZWQgZmFzdGEgc2VxdWVuY2Ugd2l0aCBlcXVhbCBsZW5ndGguJwogICAgICAg
ICAgICByZXR1cm4gRmFsc2UKCiAgICAgICAgZmFzdGFzID0gW10KICAgICAgICBmb3IgaXRlbSBpbiBz
ZWxmLmZhc3RhX2xpc3Q6CiAgICAgICAgICAgIGlmIGl0ZW1bM10gPT0gJ3RyYWluaW5nJzoKICAgICAg
ICAgICAgICAgIGZhc3Rhcy5hcHBlbmQoaXRlbSkKICAgICAgICAgICAgICAgIGZhc3Rhcy5hcHBlbmQo
W2l0ZW1bMF0sIGl0ZW1bMV0sIGl0ZW1bMl0sICd0ZXN0aW5nJ10pCiAgICAgICAgICAgIGVsc2U6CiAg
ICAgICAgICAgICAgICBmYXN0YXMuYXBwZW5kKGl0ZW0pCgogICAgICAgIGZvciBpIGluIGZhc3RhczoK
ICAgICAgICAgICAgaWYgcmUuc2VhcmNoKCdbXkFDR1QtXScsIGlbMV0pOgogICAgICAgICAgICAgICAg
c2VsZi5lcnJvcl9tc2cgPSAnSWxsZWdhbCBjaGFyYWN0ZXIgaW5jbHVkZWQgaW4gdGhlIGZhc3RhIHNl
cXVlbmNlcywgb25seSB0aGUgIkFDR1RbVV0iIGFyZSBhbGxvd2VkIGJ5IHRoaXMgZW5jb2Rpbmcgc2No
ZW1lLicKICAgICAgICAgICAgICAgIHJldHVybiBGYWxzZQoKICAgICAgICBmb3IgaSBpbiBmYXN0YXM6
CiAgICAgICAgICAgIGlbMV0gPSByZS5zdWIoJ1QnLCAnQScsIGlbMV0pCiAgICAgICAgICAgIGlbMV0g
PSByZS5zdWIoJ0cnLCAnQycsIGlbMV0pCgogICAgICAgIGVuY29kaW5ncyA9IFtdCiAgICAgICAgaGVh
ZGVyID0gWydTYW1wbGVOYW1lJywgJ2xhYmVsJ10KICAgICAgICBmb3IgcG9zIGluIHJhbmdlKGxlbihm
YXN0YXNbMF1bMV0pIC0gMik6CiAgICAgICAgICAgIGhlYWRlci5hcHBlbmQoJ1Bvcy4lZCcgJSAocG9z
ICsgMSkpCiAgICAgICAgZW5jb2RpbmdzLmFwcGVuZChoZWFkZXIpCgogICAgICAgIHBvc2l0aXZlID0g
W10KICAgICAgICBuZWdhdGl2ZSA9IFtdCiAgICAgICAgcG9zaXRpdmVfa2V5ID0gW10KICAgICAgICBu
ZWdhdGl2ZV9rZXkgPSBbXQogICAgICAgIGZvciBpIGluIGZhc3RhczoKICAgICAgICAgICAgaWYgaVsz
XSA9PSAndHJhaW5pbmcnOgogICAgICAgICAgICAgICAgaWYgaVsyXSA9PSAnMSc6CiAgICAgICAgICAg
ICAgICAgICAgcG9zaXRpdmUuYXBwZW5kKGlbMV0pCiAgICAgICAgICAgICAgICAgICAgcG9zaXRpdmVf
a2V5LmFwcGVuZChpWzBdKQogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICBu
ZWdhdGl2ZS5hcHBlbmQoaVsxXSkKICAgICAgICAgICAgICAgICAgICBuZWdhdGl2ZV9rZXkuYXBwZW5k
KGlbMF0pCgogICAgICAgIG51Y2xlb3RpZGVzID0gWydBJywgJ0MnXQogICAgICAgIHRyaW51Y2xlb3Rp
ZGVzID0gW24xICsgbjIgKyBuMyBmb3IgbjEgaW4gbnVjbGVvdGlkZXMgZm9yIG4yIGluIG51Y2xlb3Rp
ZGVzIGZvciBuMyBpbiBudWNsZW90aWRlc10KICAgICAgICBvcmRlciA9IHt9CiAgICAgICAgZm9yIGkg
aW4gcmFuZ2UobGVuKHRyaW51Y2xlb3RpZGVzKSk6CiAgICAgICAgICAgIG9yZGVyW3RyaW51Y2xlb3Rp
ZGVzW2ldXSA9IGkKCiAgICAgICAgbWF0cml4X3BvID0gc2VsZi5DYWxjdWxhdGVNYXRyaXgocG9zaXRp
dmUsIG9yZGVyKQogICAgICAgIG1hdHJpeF9uZSA9IHNlbGYuQ2FsY3VsYXRlTWF0cml4KG5lZ2F0aXZl
LCBvcmRlcikKCiAgICAgICAgcG9zaXRpdmVfbnVtYmVyID0gbGVuKHBvc2l0aXZlKQogICAgICAgIG5l
Z2F0aXZlX251bWJlciA9IGxlbihuZWdhdGl2ZSkKCiAgICAgICAgZm9yIGkgaW4gZmFzdGFzOgogICAg
ICAgICAgICBpZiBpWzNdID09ICd0ZXN0aW5nJzoKICAgICAgICAgICAgICAgIG5hbWUsIHNlcXVlbmNl
LCBsYWJlbCA9IGlbMF0sIGlbMV0sIGlbMl0KICAgICAgICAgICAgICAgIGNvZGUgPSBbbmFtZSwgbGFi
ZWxdCiAgICAgICAgICAgICAgICBmb3IgaiBpbiByYW5nZShsZW4oc2VxdWVuY2UpIC0gMik6CiAgICAg
ICAgICAgICAgICAgICAgaWYgcmUuc2VhcmNoKCctJywgc2VxdWVuY2VbajogaiArIDNdKToKICAgICAg
ICAgICAgICAgICAgICAgICAgY29kZS5hcHBlbmQoMCkKICAgICAgICAgICAgICAgICAgICBlbHNlOgog
ICAgICAgICAgICAgICAgICAgICAgICBwX251bSwgbl9udW0gPSBwb3NpdGl2ZV9udW1iZXIsIG5lZ2F0
aXZlX251bWJlcgogICAgICAgICAgICAgICAgICAgICAgICBwb19udW1iZXIgPSBtYXRyaXhfcG9bal1b
b3JkZXJbc2VxdWVuY2VbajogaiArIDNdXV0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgaVswXSBp
biBwb3NpdGl2ZV9rZXkgYW5kIHBvX251bWJlciA+IDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAg
ICBwb19udW1iZXIgLT0gMQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcF9udW0gLT0gMQogICAg
ICAgICAgICAgICAgICAgICAgICBuZV9udW1iZXIgPSBtYXRyaXhfbmVbal1bb3JkZXJbc2VxdWVuY2Vb
ajogaiArIDNdXV0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgaVswXSBpbiBuZWdhdGl2ZV9rZXkg
YW5kIG5lX251bWJlciA+IDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZV9udW1iZXIgLT0g
MQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbl9udW0gLT0gMQogICAgICAgICAgICAgICAgICAg
ICAgICBjb2RlLmFwcGVuZChwb19udW1iZXIgLyBwX251bSAtIG5lX251bWJlciAvIG5fbnVtKQogICAg
ICAgICAgICAgICAgICAgICAgICAjIHByaW50KHNlcXVlbmNlW2o6IGorM10sIG9yZGVyW3NlcXVlbmNl
W2o6IGorM11dLCBwb19udW1iZXIsIHBfbnVtLCBuZV9udW1iZXIsIG5fbnVtKQogICAgICAgICAgICAg
ICAgZW5jb2RpbmdzLmFwcGVuZChjb2RlKQogICAgICAgIHNlbGYuZW5jb2RpbmdfYXJyYXkgPSBucC5h
cnJheShbXSkKICAgICAgICBzZWxmLmVuY29kaW5nX2FycmF5ID0gbnAuYXJyYXkoZW5jb2RpbmdzLCBk
dHlwZT1zdHIpCiAgICAgICAgc2VsZi5jb2x1bW4gPSBzZWxmLmVuY29kaW5nX2FycmF5LnNoYXBlWzFd
CiAgICAgICAgc2VsZi5yb3cgPSBzZWxmLmVuY29kaW5nX2FycmF5LnNoYXBlWzBdIC0gMQogICAgICAg
IGRlbCBlbmNvZGluZ3MKICAgICAgICBpZiBzZWxmLmVuY29kaW5nX2FycmF5LnNoYXBlWzBdID4gMToK
ICAgICAgICAgICAgcmV0dXJuIFRydWUKICAgICAgICBlbHNlOgogICAgICAgICAgICByZXR1cm4gRmFs
c2UKCiAgICBkZWYgRUlJUChzZWxmKToKICAgICAgICBpZiBub3Qgc2VsZi5pc19lcXVhbDoKICAgICAg
ICAgICAgc2VsZi5lcnJvcl9tc2cgPSAnRUlJUCBkZXNjcmlwdG9yIG5lZWQgZmFzdGEgc2VxdWVuY2Ug
d2l0aCBlcXVhbCBsZW5ndGguJwogICAgICAgICAgICByZXR1cm4gRmFsc2UKICAgICAgICBmYXN0YXMg
PSBzZWxmLmZhc3RhX2xpc3QKICAgICAgICBBQSA9ICdBQ0dUJwogICAgICAgIEVJSVBfZGljdCA9IHsK
ICAgICAgICAgICAgJ0EnOiAwLjEyNjAsCiAgICAgICAgICAgICdDJzogMC4xMzQwLAogICAgICAgICAg
ICAnRyc6IDAuMDgwNiwKICAgICAgICAgICAgJ1QnOiAwLjEzMzUsCiAgICAgICAgICAgICctJzogMCwK
ICAgICAgICB9CiAgICAgICAgZW5jb2RpbmdzID0gW10KICAgICAgICBoZWFkZXIgPSBbJ1NhbXBsZU5h
bWUnLCAnbGFiZWwnXQogICAgICAgIGZvciBpIGluIHJhbmdlKDEsIGxlbihmYXN0YXNbMF1bMV0pICsg
MSk6CiAgICAgICAgICAgIGhlYWRlci5hcHBlbmQoJ0YnICsgc3RyKGkpKQogICAgICAgIGVuY29kaW5n
cy5hcHBlbmQoaGVhZGVyKQoKICAgICAgICBmb3IgaSBpbiBmYXN0YXM6CiAgICAgICAgICAgIG5hbWUs
IHNlcXVlbmNlLCBsYWJlbCA9IGlbMF0sIGlbMV0sIGlbMl0KICAgICAgICAgICAgY29kZSA9IFtuYW1l
LCBsYWJlbF0KICAgICAgICAgICAgZm9yIGFhIGluIHNlcXVlbmNlOgogICAgICAgICAgICAgICAgY29k
ZS5hcHBlbmQoRUlJUF9kaWN0LmdldChhYSwgMCkpCiAgICAgICAgICAgIGVuY29kaW5ncy5hcHBlbmQo
Y29kZSkKICAgICAgICBzZWxmLmVuY29kaW5nX2FycmF5ID0gbnAuYXJyYXkoW10pCiAgICAgICAgc2Vs
Zi5lbmNvZGluZ19hcnJheSA9IG5wLmFycmF5KGVuY29kaW5ncywgZHR5cGU9c3RyKQogICAgICAgIHNl
bGYuY29sdW1uID0gc2VsZi5lbmNvZGluZ19hcnJheS5zaGFwZVsxXQogICAgICAgIHNlbGYucm93ID0g
c2VsZi5lbmNvZGluZ19hcnJheS5zaGFwZVswXSAtIDEKICAgICAgICBkZWwgZW5jb2RpbmdzCiAgICAg
ICAgaWYgc2VsZi5lbmNvZGluZ19hcnJheS5zaGFwZVswXSA+IDE6CiAgICAgICAgICAgIHJldHVybiBU
cnVlCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmV0dXJuIEZhbHNlCgogICAgZGVmIFRyaU5jbGVv
dGlkZUNvbXBvc2l0aW9uKHNlbGYsIHNlcXVlbmNlLCBiYXNlKToKICAgICAgICB0cmluY2xlb3RpZGVz
ID0gW25uMSArIG5uMiArIG5uMyBmb3Igbm4xIGluIGJhc2UgZm9yIG5uMiBpbiBiYXNlIGZvciBubjMg
aW4gYmFzZV0KICAgICAgICB0bmNfZGljdCA9IHt9CiAgICAgICAgZm9yIHRyaU4gaW4gdHJpbmNsZW90
aWRlczoKICAgICAgICAgICAgdG5jX2RpY3RbdHJpTl0gPSAwCiAgICAgICAgZm9yIGkgaW4gcmFuZ2Uo
bGVuKHNlcXVlbmNlKSAtIDIpOgogICAgICAgICAgICB0bmNfZGljdFtzZXF1ZW5jZVtpOmkgKyAzXV0g
Kz0gMQogICAgICAgIGZvciBrZXkgaW4gdG5jX2RpY3Q6CiAgICAgICAgICAgIHRuY19kaWN0W2tleV0g
Lz0gKGxlbihzZXF1ZW5jZSkgLSAyKQogICAgICAgIHJldHVybiB0bmNfZGljdAoKICAgIGRlZiBQc2VF
SUlQKHNlbGYpOgogICAgICAgIGZhc3RhcyA9IHNlbGYuZmFzdGFfbGlzdAogICAgICAgIGZvciBpIGlu
IGZhc3RhczoKICAgICAgICAgICAgaWYgcmUuc2VhcmNoKCdbXkFDR1QtXScsIGlbMV0pOgogICAgICAg
ICAgICAgICAgc2VsZi5lcnJvcl9tc2cgPSAnSWxsZWdhbCBjaGFyYWN0ZXIgaW5jbHVkZWQgaW4gdGhl
IGZhc3RhIHNlcXVlbmNlcywgb25seSB0aGUgIkFDR1QtIiBhcmUgYWxsb3dlZCBieSB0aGlzIFBzZUVJ
SVAgc2NoZW1lLicKICAgICAgICAgICAgICAgIHJldHVybiBGYWxzZQogICAgICAgIGJhc2UgPSAnQUNH
VCcKICAgICAgICBFSUlQX2RpY3QgPSB7CiAgICAgICAgICAgICdBJzogMC4xMjYwLAogICAgICAgICAg
ICAnQyc6IDAuMTM0MCwKICAgICAgICAgICAgJ0cnOiAwLjA4MDYsCiAgICAgICAgICAgICdUJzogMC4x
MzM1LAogICAgICAgIH0KICAgICAgICB0cmluY2xlb3RpZGVzID0gW25uMSArIG5uMiArIG5uMyBmb3Ig
bm4xIGluIGJhc2UgZm9yIG5uMiBpbiBiYXNlIGZvciBubjMgaW4gYmFzZV0KICAgICAgICBFSUlQeHl6
ID0ge30KICAgICAgICBmb3IgdHJpTiBpbiB0cmluY2xlb3RpZGVzOgogICAgICAgICAgICBFSUlQeHl6
W3RyaU5dID0gRUlJUF9kaWN0W3RyaU5bMF1dICsgRUlJUF9kaWN0W3RyaU5bMV1dICsgRUlJUF9kaWN0
W3RyaU5bMl1dCgogICAgICAgIGVuY29kaW5ncyA9IFtdCiAgICAgICAgaGVhZGVyID0gWydTYW1wbGVO
YW1lJywgJ2xhYmVsJ10gKyB0cmluY2xlb3RpZGVzCiAgICAgICAgZW5jb2RpbmdzLmFwcGVuZChoZWFk
ZXIpCgogICAgICAgIGZvciBpIGluIGZhc3RhczoKICAgICAgICAgICAgbmFtZSwgc2VxdWVuY2UsIGxh
YmVsID0gaVswXSwgcmUuc3ViKCctJywgJycsIGlbMV0pLCBpWzJdCiAgICAgICAgICAgIGNvZGUgPSBb
bmFtZSwgbGFiZWxdCiAgICAgICAgICAgIHRyaW5jbGVvdGlkZV9mcmVxdWVuY3kgPSBzZWxmLlRyaU5j
bGVvdGlkZUNvbXBvc2l0aW9uKHNlcXVlbmNlLCBiYXNlKQogICAgICAgICAgICBjb2RlID0gY29kZSAr
IFtFSUlQeHl6W3RyaU5dICogdHJpbmNsZW90aWRlX2ZyZXF1ZW5jeVt0cmlOXSBmb3IgdHJpTiBpbiB0
cmluY2xlb3RpZGVzXQogICAgICAgICAgICBlbmNvZGluZ3MuYXBwZW5kKGNvZGUpCiAgICAgICAgc2Vs
Zi5lbmNvZGluZ19hcnJheSA9IG5wLmFycmF5KFtdKQogICAgICAgIHNlbGYuZW5jb2RpbmdfYXJyYXkg
PSBucC5hcnJheShlbmNvZGluZ3MsIGR0eXBlPXN0cikKICAgICAgICBzZWxmLmNvbHVtbiA9IHNlbGYu
ZW5jb2RpbmdfYXJyYXkuc2hhcGVbMV0KICAgICAgICBzZWxmLnJvdyA9IHNlbGYuZW5jb2RpbmdfYXJy
YXkuc2hhcGVbMF0gLSAxCiAgICAgICAgZGVsIGVuY29kaW5ncwogICAgICAgIGlmIHNlbGYuZW5jb2Rp
bmdfYXJyYXkuc2hhcGVbMF0gPiAxOgogICAgICAgICAgICByZXR1cm4gVHJ1ZQogICAgICAgIGVsc2U6
CiAgICAgICAgICAgIHJldHVybiBGYWxzZQoKICAgIGRlZiBBU0RDKHNlbGYpOgogICAgICAgICMgY2xl
YXIKICAgICAgICBzZWxmLmVuY29kaW5nX2FycmF5ID0gbnAuYXJyYXkoW10pCgogICAgICAgIEFBID0g
J0FDR1QnCiAgICAgICAgZW5jb2RpbmdzID0gW10KICAgICAgICBhYVBhaXJzID0gW10KICAgICAgICBm
b3IgYWExIGluIEFBOgogICAgICAgICAgICBmb3IgYWEyIGluIEFBOgogICAgICAgICAgICAgICAgYWFQ
YWlycy5hcHBlbmQoYWExICsgYWEyKQoKICAgICAgICBoZWFkZXIgPSBbJ1NhbXBsZU5hbWUnLCAnbGFi
ZWwnXQogICAgICAgIGhlYWRlciArPSBbYWExICsgYWEyIGZvciBhYTEgaW4gQUEgZm9yIGFhMiBpbiBB
QV0KICAgICAgICBlbmNvZGluZ3MuYXBwZW5kKGhlYWRlcikKCiAgICAgICAgZm9yIGkgaW4gc2VsZi5m
YXN0YV9saXN0OgogICAgICAgICAgICBuYW1lLCBzZXF1ZW5jZSwgbGFiZWwgPSBpWzBdLCByZS5zdWIo
Jy0nLCAnJywgaVsxXSksIGlbMl0KICAgICAgICAgICAgY29kZSA9IFtuYW1lLCBsYWJlbF0KICAgICAg
ICAgICAgc3VtID0gMAogICAgICAgICAgICBwYWlyX2RpY3QgPSB7fQogICAgICAgICAgICBmb3IgcGFp
ciBpbiBhYVBhaXJzOgogICAgICAgICAgICAgICAgcGFpcl9kaWN0W3BhaXJdID0gMAogICAgICAgICAg
ICBmb3IgaiBpbiByYW5nZShsZW4oc2VxdWVuY2UpKToKICAgICAgICAgICAgICAgIGZvciBrIGluIHJh
bmdlKGogKyAxLCBsZW4oc2VxdWVuY2UpKToKICAgICAgICAgICAgICAgICAgICBpZiBzZXF1ZW5jZVtq
XSBpbiBBQSBhbmQgc2VxdWVuY2Vba10gaW4gQUE6CiAgICAgICAgICAgICAgICAgICAgICAgIHBhaXJf
ZGljdFtzZXF1ZW5jZVtqXSArIHNlcXVlbmNlW2tdXSArPSAxCiAgICAgICAgICAgICAgICAgICAgICAg
IHN1bSArPSAxCiAgICAgICAgICAgIGZvciBwYWlyIGluIGFhUGFpcnM6CiAgICAgICAgICAgICAgICBj
b2RlLmFwcGVuZChwYWlyX2RpY3RbcGFpcl0gLyBzdW0pCiAgICAgICAgICAgIGVuY29kaW5ncy5hcHBl
bmQoY29kZSkKCiAgICAgICAgc2VsZi5lbmNvZGluZ19hcnJheSA9IG5wLmFycmF5KGVuY29kaW5ncywg
ZHR5cGU9c3RyKQogICAgICAgIHNlbGYuY29sdW1uID0gc2VsZi5lbmNvZGluZ19hcnJheS5zaGFwZVsx
XQogICAgICAgIHNlbGYucm93ID0gc2VsZi5lbmNvZGluZ19hcnJheS5zaGFwZVswXSAtIDEKICAgICAg
ICBkZWwgZW5jb2RpbmdzCiAgICAgICAgaWYgc2VsZi5lbmNvZGluZ19hcnJheS5zaGFwZVswXSA+IDE6
CiAgICAgICAgICAgIHJldHVybiBUcnVlCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmV0dXJuIEZh
bHNlCgogICAgZGVmIERCRShzZWxmKToKICAgICAgICAjIGNsZWFyCiAgICAgICAgc2VsZi5lbmNvZGlu
Z19hcnJheSA9IG5wLmFycmF5KFtdKQoKICAgICAgICBpZiBub3Qgc2VsZi5pc19lcXVhbDoKICAgICAg
ICAgICAgc2VsZi5lcnJvcl9tc2cgPSAnREJFIGRlc2NyaXB0b3IgbmVlZCBmYXN0YSBzZXF1ZW5jZSB3
aXRoIGVxdWFsIGxlbmd0aC4nCiAgICAgICAgICAgIHJldHVybiBGYWxzZQoKICAgICAgICBBQV9kaWN0
ID0gewogICAgICAgICAgICAnQUEnOiBbMCwgMCwgMCwgMF0sCiAgICAgICAgICAgICdBQyc6IFswLCAw
LCAwLCAxXSwKICAgICAgICAgICAgJ0FHJzogWzAsIDAsIDEsIDBdLAogICAgICAgICAgICAnQVQnOiBb
MCwgMCwgMSwgMV0sCiAgICAgICAgICAgICdDQSc6IFswLCAxLCAwLCAwXSwKICAgICAgICAgICAgJ0ND
JzogWzAsIDEsIDAsIDFdLAogICAgICAgICAgICAnQ0cnOiBbMCwgMSwgMSwgMF0sCiAgICAgICAgICAg
ICdDVCc6IFswLCAxLCAxLCAxXSwKICAgICAgICAgICAgJ0dBJzogWzEsIDAsIDAsIDBdLAogICAgICAg
ICAgICAnR0MnOiBbMSwgMCwgMCwgMV0sCiAgICAgICAgICAgICdHRyc6IFsxLCAwLCAxLCAwXSwKICAg
ICAgICAgICAgJ0dUJzogWzEsIDAsIDEsIDFdLAogICAgICAgICAgICAnVEEnOiBbMSwgMSwgMCwgMF0s
CiAgICAgICAgICAgICdUQyc6IFsxLCAxLCAwLCAxXSwKICAgICAgICAgICAgJ1RHJzogWzEsIDEsIDEs
IDBdLAogICAgICAgICAgICAnVFQnOiBbMSwgMSwgMSwgMV0sCiAgICAgICAgfQoKICAgICAgICBlbmNv
ZGluZ3MgPSBbXQogICAgICAgIGhlYWRlciA9IFsnU2FtcGxlTmFtZScsICdsYWJlbCddCiAgICAgICAg
Zm9yIGkgaW4gcmFuZ2UoKGxlbihzZWxmLmZhc3RhX2xpc3RbMF1bMV0pIC0gMSkgKiA0KToKICAgICAg
ICAgICAgaGVhZGVyLmFwcGVuZCgnRiVzJyAlKGkgKyAxKSkKICAgICAgICBlbmNvZGluZ3MuYXBwZW5k
KGhlYWRlcikKCiAgICAgICAgZm9yIGkgaW4gc2VsZi5mYXN0YV9saXN0OgogICAgICAgICAgICBuYW1l
LCBzZXF1ZW5jZSwgbGFiZWwgPSBpWzBdLCBpWzFdLCBpWzJdCiAgICAgICAgICAgIGNvZGUgPSBbbmFt
ZSwgbGFiZWxdCiAgICAgICAgICAgIGZvciBqIGluIHJhbmdlKGxlbihzZXF1ZW5jZSkgLSAxKToKICAg
ICAgICAgICAgICAgIGlmIHNlcXVlbmNlW2pdICsgc2VxdWVuY2VbaiArIDFdIGluIEFBX2RpY3Q6CiAg
ICAgICAgICAgICAgICAgICAgY29kZSArPSBBQV9kaWN0W3NlcXVlbmNlW2pdICsgc2VxdWVuY2VbaiAr
IDFdXQogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICBjb2RlICs9IFswLjUs
IDAuNSwgMC41LCAwLjVdCiAgICAgICAgICAgIGVuY29kaW5ncy5hcHBlbmQoY29kZSkKCiAgICAgICAg
c2VsZi5lbmNvZGluZ19hcnJheSA9IG5wLmFycmF5KGVuY29kaW5ncywgZHR5cGU9c3RyKQogICAgICAg
IHNlbGYuY29sdW1uID0gc2VsZi5lbmNvZGluZ19hcnJheS5zaGFwZVsxXQogICAgICAgIHNlbGYucm93
ID0gc2VsZi5lbmNvZGluZ19hcnJheS5zaGFwZVswXSAtIDEKICAgICAgICBkZWwgZW5jb2RpbmdzCiAg
ICAgICAgaWYgc2VsZi5lbmNvZGluZ19hcnJheS5zaGFwZVswXSA+IDE6CiAgICAgICAgICAgIHJldHVy
biBUcnVlCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmV0dXJuIEZhbHNlCgogICAgZGVmIExQREYo
c2VsZik6CiAgICAgICAgIyBjbGVhcgogICAgICAgIHNlbGYuZW5jb2RpbmdfYXJyYXkgPSBucC5hcnJh
eShbXSkKCiAgICAgICAgaWYgbm90IHNlbGYuaXNfZXF1YWw6CiAgICAgICAgICAgIHNlbGYuZXJyb3Jf
bXNnID0gJ0xQREYgZGVzY3JpcHRvciBuZWVkIGZhc3RhIHNlcXVlbmNlIHdpdGggZXF1YWwgbGVuZ3Ro
LicKICAgICAgICAgICAgcmV0dXJuIEZhbHNlCgogICAgICAgIGVuY29kaW5ncyA9IFtdCiAgICAgICAg
aGVhZGVyID0gWydTYW1wbGVOYW1lJywgJ2xhYmVsJ10KICAgICAgICBoZWFkZXIgKz0gWydMUERGX3Bv
cyVzJyAlIGkgZm9yIGkgaW4gcmFuZ2UoMSwgbGVuKHNlbGYuZmFzdGFfbGlzdFswXVsxXSkpXQogICAg
ICAgIGVuY29kaW5ncy5hcHBlbmQoaGVhZGVyKQoKICAgICAgICBmb3IgaSBpbiBzZWxmLmZhc3RhX2xp
c3Q6CiAgICAgICAgICAgIG5hbWUsIHNlcXVlbmNlLCBsYWJlbCA9IGlbMF0sIGlbMV0sIGlbMl0KICAg
ICAgICAgICAgY29kZSA9IFtuYW1lLCBsYWJlbF0KICAgICAgICAgICAgZGludWNsZW90aWRlX2RpY3Qg
PSB7CiAgICAgICAgICAgICAgICAnQUEnOiAwLAogICAgICAgICAgICAgICAgJ0FDJzogMCwKICAgICAg
ICAgICAgICAgICdBRyc6IDAsCiAgICAgICAgICAgICAgICAnQVQnOiAwLAogICAgICAgICAgICAgICAg
J0EtJzogMCwKICAgICAgICAgICAgICAgICdDQSc6IDAsCiAgICAgICAgICAgICAgICAnQ0MnOiAwLAog
ICAgICAgICAgICAgICAgJ0NHJzogMCwKICAgICAgICAgICAgICAgICdDVCc6IDAsCiAgICAgICAgICAg
ICAgICAnQy0nOiAwLAogICAgICAgICAgICAgICAgJ0dBJzogMCwKICAgICAgICAgICAgICAgICdHQyc6
IDAsCiAgICAgICAgICAgICAgICAnR0cnOiAwLAogICAgICAgICAgICAgICAgJ0dUJzogMCwKICAgICAg
ICAgICAgICAgICdHLSc6IDAsCiAgICAgICAgICAgICAgICAnVEEnOiAwLAogICAgICAgICAgICAgICAg
J1RDJzogMCwKICAgICAgICAgICAgICAgICdURyc6IDAsCiAgICAgICAgICAgICAgICAnVFQnOiAwLAog
ICAgICAgICAgICAgICAgJ1QtJzogMCwKICAgICAgICAgICAgICAgICctQSc6IDAsCiAgICAgICAgICAg
ICAgICAnLUMnOiAwLAogICAgICAgICAgICAgICAgJy1HJzogMCwKICAgICAgICAgICAgICAgICctVCc6
IDAsCiAgICAgICAgICAgICAgICAnLS0nOiAwLAogICAgICAgICAgICB9CiAgICAgICAgICAgIGZvciBq
IGluIHJhbmdlKDEsIGxlbihzZXF1ZW5jZSkpOgogICAgICAgICAgICAgICAgZGludWNsZW90aWRlX2Rp
Y3Rbc2VxdWVuY2Vbal0gKyBzZXF1ZW5jZVtqIC0gMV1dICs9IDEKICAgICAgICAgICAgICAgIGNvZGUu
YXBwZW5kKGRpbnVjbGVvdGlkZV9kaWN0W3NlcXVlbmNlW2pdICsgc2VxdWVuY2VbaiAtIDFdXSAvIGop
CiAgICAgICAgICAgIGVuY29kaW5ncy5hcHBlbmQoY29kZSkKCiAgICAgICAgc2VsZi5lbmNvZGluZ19h
cnJheSA9IG5wLmFycmF5KGVuY29kaW5ncywgZHR5cGU9c3RyKQogICAgICAgIHNlbGYuY29sdW1uID0g
c2VsZi5lbmNvZGluZ19hcnJheS5zaGFwZVsxXQogICAgICAgIHNlbGYucm93ID0gc2VsZi5lbmNvZGlu
Z19hcnJheS5zaGFwZVswXSAtIDEKICAgICAgICBkZWwgZW5jb2RpbmdzCiAgICAgICAgaWYgc2VsZi5l
bmNvZGluZ19hcnJheS5zaGFwZVswXSA+IDE6CiAgICAgICAgICAgIHJldHVybiBUcnVlCiAgICAgICAg
ZWxzZToKICAgICAgICAgICAgcmV0dXJuIEZhbHNlCgogICAgZGVmIERQQ1Aoc2VsZik6CiAgICAgICAg
IyBjbGVhcgogICAgICAgIHNlbGYuZW5jb2RpbmdfYXJyYXkgPSBucC5hcnJheShbXSkKCiAgICAgICAg
aWYgc2VsZi5zZXF1ZW5jZV90eXBlID09ICdETkEnOgogICAgICAgICAgICBmaWxlX25hbWUgPSAnZGlk
bmFQaHljaGUuZGF0YScKICAgICAgICAgICAgcHJvcGVydHlfbmFtZSA9IHNlbGYua3dbJ0RpLUROQS1Q
aHljaGVtJ10uc3BsaXQoJzsnKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGZpbGVfbmFtZSA9ICdk
aXJuYVBoeWNoZS5kYXRhJwogICAgICAgICAgICBwcm9wZXJ0eV9uYW1lID0gc2VsZi5rd1snRGktUk5B
LVBoeWNoZW0nXS5zcGxpdCgnOycpCgogICAgICAgIHRyeToKICAgICAgICAgICAgZGF0YV9maWxlID0g
b3MucGF0aC5zcGxpdChvcy5wYXRoLnJlYWxwYXRoKF9fZmlsZV9fKSlbMF0gKyByJ1xkYXRhXCVzJyAl
ZmlsZV9uYW1lIGlmIHBsYXRmb3JtLnN5c3RlbSgpID09ICdXaW5kb3dzJyBlbHNlIG9zLnBhdGguc3Bs
aXQob3MucGF0aC5yZWFscGF0aChfX2ZpbGVfXykpWzBdICsgcicvZGF0YS8lcycgJWZpbGVfbmFtZQog
ICAgICAgICAgICB3aXRoIG9wZW4oZGF0YV9maWxlLCAncmInKSBhcyBoYW5kbGU6CiAgICAgICAgICAg
ICAgICBwcm9wZXJ0eV9kaWN0ID0gcGlja2xlLmxvYWQoaGFuZGxlKQogICAgICAgIGV4Y2VwdCBFeGNl
cHRpb24gYXMgZToKICAgICAgICAgICAgc2VsZi5lcnJvcl9tc2cgPSAnQ291bGQgbm90IGZpbmQgdGhl
IHBoeXNpY29jaGVtaWNhbCBwcm9wZXJ0aWVzIGZpbGUuJwogICAgICAgICAgICByZXR1cm4gRmFsc2UK
CiAgICAgICAgYmFzZSA9ICdBQ0dUJwogICAgICAgIGVuY29kaW5ncyA9IFtdCiAgICAgICAgZGludWNs
ZW90aWRlcyA9IFtuMSArIG4yICsgJ18nICsgcF9uYW1lIGZvciBwX25hbWUgaW4gcHJvcGVydHlfbmFt
ZSBmb3IgbjEgaW4gYmFzZSBmb3IgbjIgaW4gYmFzZV0KICAgICAgICBoZWFkZXIgPSBbJ1NhbXBsZU5h
bWUnLCAnbGFiZWwnXSArIGRpbnVjbGVvdGlkZXMKICAgICAgICBlbmNvZGluZ3MuYXBwZW5kKGhlYWRl
cikKCiAgICAgICAgQUFEaWN0ID0ge30KICAgICAgICBmb3IgaSBpbiByYW5nZShsZW4oYmFzZSkpOgog
ICAgICAgICAgICBBQURpY3RbYmFzZVtpXV0gPSBpCgogICAgICAgIGZvciBpIGluIHNlbGYuZmFzdGFf
bGlzdDoKICAgICAgICAgICAgbmFtZSwgc2VxdWVuY2UsIGxhYmVsID0gaVswXSwgcmUuc3ViKCctJywg
JycsIGlbMV0pLCBpWzJdCiAgICAgICAgICAgIGNvZGUgPSBbbmFtZSwgbGFiZWxdCiAgICAgICAgICAg
IHRtcENvZGUgPSBbMF0gKiAxNgogICAgICAgICAgICBmb3IgaiBpbiByYW5nZShsZW4oc2VxdWVuY2Up
IC0gMiArIDEpOgogICAgICAgICAgICAgICAgdG1wQ29kZVtBQURpY3Rbc2VxdWVuY2Vbal1dICogNCAr
IEFBRGljdFtzZXF1ZW5jZVtqICsgMV1dXSA9IHRtcENvZGVbQUFEaWN0W3NlcXVlbmNlW2pdXSAqIDQg
KyBBQURpY3RbCiAgICAgICAgICAgICAgICAgICAgc2VxdWVuY2VbaiArIDFdXV0gKyAxCiAgICAgICAg
ICAgIGlmIHN1bSh0bXBDb2RlKSAhPSAwOgogICAgICAgICAgICAgICAgdG1wQ29kZSA9IFtpIC8gc3Vt
KHRtcENvZGUpIGZvciBpIGluIHRtcENvZGVdCgogICAgICAgICAgICBmb3IgcF9uYW1lIGluIHByb3Bl
cnR5X25hbWU6CiAgICAgICAgICAgICAgICBub3JtYWxpemVkX2NvZGUgPSBbXQogICAgICAgICAgICAg
ICAgZm9yIGogaW4gcmFuZ2UobGVuKHRtcENvZGUpKToKICAgICAgICAgICAgICAgICAgICBub3JtYWxp
emVkX2NvZGUuYXBwZW5kKHRtcENvZGVbal0gKiBmbG9hdChwcm9wZXJ0eV9kaWN0W3BfbmFtZV1bal0p
KQogICAgICAgICAgICAgICAgY29kZSArPSBub3JtYWxpemVkX2NvZGUKICAgICAgICAgICAgZW5jb2Rp
bmdzLmFwcGVuZChjb2RlKQoKICAgICAgICBzZWxmLmVuY29kaW5nX2FycmF5ID0gbnAuYXJyYXkoW10p
CiAgICAgICAgc2VsZi5lbmNvZGluZ19hcnJheSA9IG5wLmFycmF5KGVuY29kaW5ncywgZHR5cGU9c3Ry
KQogICAgICAgIHNlbGYuY29sdW1uID0gc2VsZi5lbmNvZGluZ19hcnJheS5zaGFwZVsxXQogICAgICAg
IHNlbGYucm93ID0gc2VsZi5lbmNvZGluZ19hcnJheS5zaGFwZVswXSAtIDEKICAgICAgICBkZWwgZW5j
b2RpbmdzCiAgICAgICAgaWYgc2VsZi5lbmNvZGluZ19hcnJheS5zaGFwZVswXSA+IDE6CiAgICAgICAg
ICAgIHJldHVybiBUcnVlCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmV0dXJuIEZhbHNlCgogICAg
ZGVmIERQQ1BfdHlwZTIoc2VsZik6CiAgICAgICAgIyBjbGVhcgogICAgICAgIHNlbGYuZW5jb2Rpbmdf
YXJyYXkgPSBucC5hcnJheShbXSkKCiAgICAgICAgaWYgbm90IHNlbGYuaXNfZXF1YWw6CiAgICAgICAg
ICAgIHNlbGYuZXJyb3JfbXNnID0gJ0RQQ1AgdHlwZTIgZGVzY3JpcHRvciBuZWVkIGZhc3RhIHNlcXVl
bmNlIHdpdGggZXF1YWwgbGVuZ3RoLicKICAgICAgICAgICAgcmV0dXJuIEZhbHNlCgogICAgICAgIGlm
IHNlbGYuc2VxdWVuY2VfdHlwZSA9PSAnRE5BJzoKICAgICAgICAgICAgZmlsZV9uYW1lID0gJ2RpZG5h
UGh5Y2hlLmRhdGEnCiAgICAgICAgICAgIHByb3BlcnR5X25hbWUgPSBzZWxmLmt3WydEaS1ETkEtUGh5
Y2hlbSddLnNwbGl0KCc7JykKICAgICAgICBlbHNlOgogICAgICAgICAgICBmaWxlX25hbWUgPSAnZGly
bmFQaHljaGUuZGF0YScKICAgICAgICAgICAgcHJvcGVydHlfbmFtZSA9IHNlbGYua3dbJ0RpLVJOQS1Q
aHljaGVtJ10uc3BsaXQoJzsnKQoKICAgICAgICB0cnk6CiAgICAgICAgICAgIGRhdGFfZmlsZSA9IG9z
LnBhdGguc3BsaXQob3MucGF0aC5yZWFscGF0aChfX2ZpbGVfXykpWzBdICsgcidcZGF0YVwlcycgJWZp
bGVfbmFtZSBpZiBwbGF0Zm9ybS5zeXN0ZW0oKSA9PSAnV2luZG93cycgZWxzZSBvcy5wYXRoLnNwbGl0
KG9zLnBhdGgucmVhbHBhdGgoX19maWxlX18pKVswXSArIHInL2RhdGEvJXMnICVmaWxlX25hbWUKICAg
ICAgICAgICAgd2l0aCBvcGVuKGRhdGFfZmlsZSwgJ3JiJykgYXMgaGFuZGxlOgogICAgICAgICAgICAg
ICAgcHJvcGVydHlfZGljdCA9IHBpY2tsZS5sb2FkKGhhbmRsZSkKICAgICAgICBleGNlcHQgRXhjZXB0
aW9uIGFzIGU6CiAgICAgICAgICAgIHNlbGYuZXJyb3JfbXNnID0gJ0NvdWxkIG5vdCBmaW5kIHRoZSBw
aHlzaWNvY2hlbWljYWwgcHJvcGVydGllcyBmaWxlLicKICAgICAgICAgICAgcmV0dXJuIEZhbHNlCgog
ICAgICAgIEFBID0gJ0FDR1QnCiAgICAgICAgZW5jb2RpbmdzID0gW10KICAgICAgICBoZWFkZXIgPSBb
J1NhbXBsZU5hbWUnLCAnbGFiZWwnXQogICAgICAgIGZvciBpIGluIHJhbmdlKGxlbihzZWxmLmZhc3Rh
X2xpc3RbMF1bMV0pIC0gMSk6CiAgICAgICAgICAgIGZvciBwX25hbWUgaW4gcHJvcGVydHlfbmFtZToK
ICAgICAgICAgICAgICAgIGhlYWRlci5hcHBlbmQocF9uYW1lICsgJ19wb3MlcycgJShpKzEpKQogICAg
ICAgIGVuY29kaW5ncy5hcHBlbmQoaGVhZGVyKQoKICAgICAgICBBQURpY3QgPSB7fQogICAgICAgIEFB
X2xpc3QgPSBbYWExICsgYWEyIGZvciBhYTEgaW4gQUEgZm9yIGFhMiBpbiBBQV0KICAgICAgICBmb3Ig
aSBpbiByYW5nZShsZW4oQUFfbGlzdCkpOgogICAgICAgICAgICBBQURpY3RbQUFfbGlzdFtpXV0gPSBp
CgogICAgICAgIGZvciBpIGluIHNlbGYuZmFzdGFfbGlzdDoKICAgICAgICAgICAgbmFtZSwgc2VxdWVu
Y2UsIGxhYmVsID0gaVswXSwgaVsxXSwgaVsyXQogICAgICAgICAgICBjb2RlID0gW25hbWUsIGxhYmVs
XQogICAgICAgICAgICBmb3IgcF9uYW1lIGluIHByb3BlcnR5X25hbWU6CiAgICAgICAgICAgICAgICBm
b3IgaiBpbiByYW5nZShsZW4oc2VxdWVuY2UpIC0gMSk6CiAgICAgICAgICAgICAgICAgICAgaWYgc2Vx
dWVuY2VbajogaiArIDJdIGluIEFBRGljdDoKICAgICAgICAgICAgICAgICAgICAgICAgY29kZS5hcHBl
bmQocHJvcGVydHlfZGljdFtwX25hbWVdW0FBRGljdFtzZXF1ZW5jZVtqOiBqICsgMl1dXSkKICAgICAg
ICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgICAgICBjb2RlLmFwcGVuZCgwKQog
ICAgICAgICAgICBlbmNvZGluZ3MuYXBwZW5kKGNvZGUpCiAgICAgICAgc2VsZi5lbmNvZGluZ19hcnJh
eSA9IG5wLmFycmF5KFtdKQogICAgICAgIHNlbGYuZW5jb2RpbmdfYXJyYXkgPSBucC5hcnJheShlbmNv
ZGluZ3MsIGR0eXBlPXN0cikKICAgICAgICBzZWxmLmNvbHVtbiA9IHNlbGYuZW5jb2RpbmdfYXJyYXku
c2hhcGVbMV0KICAgICAgICBzZWxmLnJvdyA9IHNlbGYuZW5jb2RpbmdfYXJyYXkuc2hhcGVbMF0gLSAx
CiAgICAgICAgZGVsIGVuY29kaW5ncwogICAgICAgIGlmIHNlbGYuZW5jb2RpbmdfYXJyYXkuc2hhcGVb
MF0gPiAxOgogICAgICAgICAgICByZXR1cm4gVHJ1ZQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJl
dHVybiBGYWxzZQoKICAgIGRlZiBUUENQKHNlbGYpOgogICAgICAgICMgY2xlYXIKICAgICAgICBzZWxm
LmVuY29kaW5nX2FycmF5ID0gbnAuYXJyYXkoW10pCgogICAgICAgIGZpbGVfbmFtZSA9ICd0cmlkbmFQ
aHljaGUuZGF0YScKICAgICAgICBwcm9wZXJ0eV9uYW1lID0gc2VsZi5rd1snVHJpLUROQS1QaHljaGVt
J10uc3BsaXQoJzsnKQoKICAgICAgICB0cnk6CiAgICAgICAgICAgIGRhdGFfZmlsZSA9IG9zLnBhdGgu
c3BsaXQob3MucGF0aC5yZWFscGF0aChfX2ZpbGVfXykpWzBdICsgcidcZGF0YVwlcycgJWZpbGVfbmFt
ZSBpZiBwbGF0Zm9ybS5zeXN0ZW0oKSA9PSAnV2luZG93cycgZWxzZSBvcy5wYXRoLnNwbGl0KG9zLnBh
dGgucmVhbHBhdGgoX19maWxlX18pKVswXSArIHInL2RhdGEvJXMnICVmaWxlX25hbWUKICAgICAgICAg
ICAgd2l0aCBvcGVuKGRhdGFfZmlsZSwgJ3JiJykgYXMgaGFuZGxlOgogICAgICAgICAgICAgICAgcHJv
cGVydHlfZGljdCA9IHBpY2tsZS5sb2FkKGhhbmRsZSkKICAgICAgICAgICAgcHJvcGVydHlfbmFtZSA9
IHByb3BlcnR5X2RpY3Qua2V5cygpCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAg
ICAgICBzZWxmLmVycm9yX21zZyA9ICdDb3VsZCBub3QgZmluZCB0aGUgcGh5c2ljb2NoZW1pY2FsIHBy
b3BlcnRpZXMgZmlsZS4nCiAgICAgICAgICAgIHJldHVybiBGYWxzZQoKICAgICAgICBBQSA9ICdBQ0dU
JwogICAgICAgIGVuY29kaW5ncyA9IFtdCiAgICAgICAgdHJpUGVwdGlkZXMgPSBbYWExICsgYWEyICsg
YWEzICsgJ18nICsgcF9uYW1lIGZvciBwX25hbWUgaW4gcHJvcGVydHlfbmFtZSBmb3IgYWExIGluIEFB
IGZvciBhYTIgaW4gQUEgZm9yIGFhMyBpbgogICAgICAgICAgICAgICAgICAgICAgIEFBXQogICAgICAg
IGhlYWRlciA9IFsnU2FtcGxlTmFtZScsICdsYWJlbCddICsgdHJpUGVwdGlkZXMKICAgICAgICBlbmNv
ZGluZ3MuYXBwZW5kKGhlYWRlcikKCiAgICAgICAgQUFEaWN0ID0ge30KICAgICAgICBmb3IgaSBpbiBy
YW5nZShsZW4oQUEpKToKICAgICAgICAgICAgQUFEaWN0W0FBW2ldXSA9IGkKCiAgICAgICAgZm9yIGkg
aW4gc2VsZi5mYXN0YV9saXN0OgogICAgICAgICAgICBuYW1lLCBzZXF1ZW5jZSwgbGFiZWwgPSBpWzBd
LCByZS5zdWIoJy0nLCAnJywgaVsxXSksIGlbMl0KICAgICAgICAgICAgY29kZSA9IFtuYW1lLCBsYWJl
bF0KICAgICAgICAgICAgdG1wQ29kZSA9IFswXSAqIDY0CiAgICAgICAgICAgIGZvciBqIGluIHJhbmdl
KGxlbihzZXF1ZW5jZSkgLSAzICsgMSk6CiAgICAgICAgICAgICAgICB0bXBDb2RlW0FBRGljdFtzZXF1
ZW5jZVtqXV0gKiAxNiArIEFBRGljdFtzZXF1ZW5jZVtqICsgMV1dICogNCArIEFBRGljdFtzZXF1ZW5j
ZVtqICsgMl1dXSA9IHRtcENvZGVbCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICBBQURpY3RbCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgc2VxdWVuY2VbCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpdXSAqIDE2ICsKICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFBRGljdFsKICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXF1ZW5jZVsKICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaiArIDFdXSAqIDQgKwog
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQUFEaWN0Wwog
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcXVl
bmNlWwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICBqICsgMl1dXSArIDEKICAgICAgICAgICAgaWYgc3VtKHRtcENvZGUpICE9IDA6CiAgICAgICAg
ICAgICAgICB0bXBDb2RlID0gW2kgLyBzdW0odG1wQ29kZSkgZm9yIGkgaW4gdG1wQ29kZV0KCiAgICAg
ICAgICAgIGZvciBwX25hbWUgaW4gcHJvcGVydHlfbmFtZToKICAgICAgICAgICAgICAgIG5vcm1hbGl6
ZWRfY29kZSA9IFtdCiAgICAgICAgICAgICAgICBmb3IgaiBpbiByYW5nZShsZW4odG1wQ29kZSkpOgog
ICAgICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWRfY29kZS5hcHBlbmQodG1wQ29kZVtqXSAqIGZsb2F0
KHByb3BlcnR5X2RpY3RbcF9uYW1lXVtqXSkpCiAgICAgICAgICAgICAgICBjb2RlICs9IG5vcm1hbGl6
ZWRfY29kZQogICAgICAgICAgICBlbmNvZGluZ3MuYXBwZW5kKGNvZGUpCiAgICAgICAgc2VsZi5lbmNv
ZGluZ19hcnJheSA9IG5wLmFycmF5KFtdKQogICAgICAgIHNlbGYuZW5jb2RpbmdfYXJyYXkgPSBucC5h
cnJheShlbmNvZGluZ3MsIGR0eXBlPXN0cikKICAgICAgICBzZWxmLmNvbHVtbiA9IHNlbGYuZW5jb2Rp
bmdfYXJyYXkuc2hhcGVbMV0KICAgICAgICBzZWxmLnJvdyA9IHNlbGYuZW5jb2RpbmdfYXJyYXkuc2hh
cGVbMF0gLSAxCiAgICAgICAgZGVsIGVuY29kaW5ncwogICAgICAgIGlmIHNlbGYuZW5jb2RpbmdfYXJy
YXkuc2hhcGVbMF0gPiAxOgogICAgICAgICAgICByZXR1cm4gVHJ1ZQogICAgICAgIGVsc2U6CiAgICAg
ICAgICAgIHJldHVybiBGYWxzZQoKICAgIGRlZiBUUENQX3R5cGUyKHNlbGYpOgogICAgICAgICMgY2xl
YXIKICAgICAgICBzZWxmLmVuY29kaW5nX2FycmF5ID0gbnAuYXJyYXkoW10pCgogICAgICAgIGlmIG5v
dCBzZWxmLmlzX2VxdWFsOgogICAgICAgICAgICBzZWxmLmVycm9yX21zZyA9ICdUUENQIHR5cGUyIGRl
c2NyaXB0b3IgbmVlZCBmYXN0YSBzZXF1ZW5jZSB3aXRoIGVxdWFsIGxlbmd0aC4nCiAgICAgICAgICAg
IHJldHVybiBGYWxzZQoKICAgICAgICBpZiBzZWxmLnNlcXVlbmNlX3R5cGUgPT0gJ0ROQSc6CiAgICAg
ICAgICAgIGZpbGVfbmFtZSA9ICd0cmlkbmFQaHljaGUuZGF0YScKICAgICAgICAgICAgcHJvcGVydHlf
bmFtZSA9IHNlbGYua3dbJ1RyaS1ETkEtUGh5Y2hlbSddLnNwbGl0KCc7JykKCiAgICAgICAgdHJ5Ogog
ICAgICAgICAgICBkYXRhX2ZpbGUgPSBvcy5wYXRoLnNwbGl0KG9zLnBhdGgucmVhbHBhdGgoX19maWxl
X18pKVswXSArIHInXGRhdGFcJXMnICVmaWxlX25hbWUgaWYgcGxhdGZvcm0uc3lzdGVtKCkgPT0gJ1dp
bmRvd3MnIGVsc2Ugb3MucGF0aC5zcGxpdChvcy5wYXRoLnJlYWxwYXRoKF9fZmlsZV9fKSlbMF0gKyBy
Jy9kYXRhLyVzJyAlZmlsZV9uYW1lCiAgICAgICAgICAgIHdpdGggb3BlbihkYXRhX2ZpbGUsICdyYicp
IGFzIGhhbmRsZToKICAgICAgICAgICAgICAgIHByb3BlcnR5X2RpY3QgPSBwaWNrbGUubG9hZChoYW5k
bGUpCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICBzZWxmLmVycm9yX21z
ZyA9ICdDb3VsZCBub3QgZmluZCB0aGUgcGh5c2ljb2NoZW1pY2FsIHByb3BlcnRpZXMgZmlsZS4nCiAg
ICAgICAgICAgIHJldHVybiBGYWxzZQoKICAgICAgICBBQSA9ICdBQ0dUJwogICAgICAgIGVuY29kaW5n
cyA9IFtdCiAgICAgICAgaGVhZGVyID0gWydTYW1wbGVOYW1lJywgJ2xhYmVsJ10KICAgICAgICBmb3Ig
aSBpbiByYW5nZShsZW4oc2VsZi5mYXN0YV9saXN0WzBdWzFdKSAtIDIpOgogICAgICAgICAgICBmb3Ig
cF9uYW1lIGluIHByb3BlcnR5X25hbWU6CiAgICAgICAgICAgICAgICBoZWFkZXIuYXBwZW5kKHBfbmFt
ZSArICdfcG9zJXMnICUoaSsxKSkKICAgICAgICBlbmNvZGluZ3MuYXBwZW5kKGhlYWRlcikKCiAgICAg
ICAgQUFEaWN0ID0ge30KICAgICAgICBBQV9saXN0ID0gW2FhMSArIGFhMiArIGFhMyBmb3IgYWExIGlu
IEFBIGZvciBhYTIgaW4gQUEgZm9yIGFhMyBpbiBBQV0KICAgICAgICBmb3IgaSBpbiByYW5nZShsZW4o
QUFfbGlzdCkpOgogICAgICAgICAgICBBQURpY3RbQUFfbGlzdFtpXV0gPSBpCgogICAgICAgIGZvciBp
IGluIHNlbGYuZmFzdGFfbGlzdDoKICAgICAgICAgICAgbmFtZSwgc2VxdWVuY2UsIGxhYmVsID0gaVsw
XSwgaVsxXSwgaVsyXQogICAgICAgICAgICBjb2RlID0gW25hbWUsIGxhYmVsXQogICAgICAgICAgICBm
b3IgcF9uYW1lIGluIHByb3BlcnR5X25hbWU6CiAgICAgICAgICAgICAgICBmb3IgaiBpbiByYW5nZShs
ZW4oc2VxdWVuY2UpIC0gMik6CiAgICAgICAgICAgICAgICAgICAgaWYgc2VxdWVuY2VbajogaiArIDNd
IGluIEFBRGljdDoKICAgICAgICAgICAgICAgICAgICAgICAgY29kZS5hcHBlbmQocHJvcGVydHlfZGlj
dFtwX25hbWVdW0FBRGljdFtzZXF1ZW5jZVtqOiBqICsgM11dXSkKICAgICAgICAgICAgICAgICAgICBl
bHNlOgogICAgICAgICAgICAgICAgICAgICAgICBjb2RlLmFwcGVuZCgwKQogICAgICAgICAgICBlbmNv
ZGluZ3MuYXBwZW5kKGNvZGUpCiAgICAgICAgc2VsZi5lbmNvZGluZ19hcnJheSA9IG5wLmFycmF5KFtd
KQogICAgICAgIHNlbGYuZW5jb2RpbmdfYXJyYXkgPSBucC5hcnJheShlbmNvZGluZ3MsIGR0eXBlPXN0
cikKICAgICAgICBzZWxmLmNvbHVtbiA9IHNlbGYuZW5jb2RpbmdfYXJyYXkuc2hhcGVbMV0KICAgICAg
ICBzZWxmLnJvdyA9IHNlbGYuZW5jb2RpbmdfYXJyYXkuc2hhcGVbMF0gLSAxCiAgICAgICAgZGVsIGVu
Y29kaW5ncwogICAgICAgIGlmIHNlbGYuZW5jb2RpbmdfYXJyYXkuc2hhcGVbMF0gPiAxOgogICAgICAg
ICAgICByZXR1cm4gVHJ1ZQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJldHVybiBGYWxzZQoKICAg
IGRlZiBNTUkoc2VsZik6CiAgICAgICAgTkEgPSAnQUNHVCcKICAgICAgICBkaW51Y2xlb3RpZGVfbGlz
dCA9IFthMSArIGEyIGZvciBhMSBpbiBOQSBmb3IgYTIgaW4gTkFdCiAgICAgICAgdHJpbnVjbGVvdGlk
ZV9saXN0ID0gW2ExICsgYTIgKyBhMyBmb3IgYTEgaW4gTkEgZm9yIGEyIGluIE5BIGZvciBhMyBpbiBO
QV0KICAgICAgICBkaW51Y2xlb3RpZGVfZGljdCA9IHt9CiAgICAgICAgdHJpbnVjbGVvdGlkZV9kaWN0
ID0ge30KICAgICAgICBmb3IgZWxlbSBpbiBkaW51Y2xlb3RpZGVfbGlzdDoKICAgICAgICAgICAgZGlu
dWNsZW90aWRlX2RpY3RbJycuam9pbihzb3J0ZWQoZWxlbSkpXSA9IDAKICAgICAgICBmb3IgZWxlbSBp
biB0cmludWNsZW90aWRlX2xpc3Q6CiAgICAgICAgICAgIHRyaW51Y2xlb3RpZGVfZGljdFsnJy5qb2lu
KHNvcnRlZChlbGVtKSldID0gMAoKICAgICAgICBlbmNvZGluZ3MgPSBbXQogICAgICAgIGhlYWRlciA9
IFsnU2FtcGxlTmFtZScsICdsYWJlbCddCiAgICAgICAgaGVhZGVyICs9IFsnTU1JXyVzJyAlIGVsZW0g
Zm9yIGVsZW0gaW4gc29ydGVkKGRpbnVjbGVvdGlkZV9kaWN0LmtleXMoKSldCiAgICAgICAgaGVhZGVy
ICs9IFsnTU1JXyVzJyAlIGVsZW0gZm9yIGVsZW0gaW4gc29ydGVkKHRyaW51Y2xlb3RpZGVfZGljdC5r
ZXlzKCkpXQogICAgICAgIGVuY29kaW5ncy5hcHBlbmQoaGVhZGVyKQoKICAgICAgICBmb3IgaSBpbiBz
ZWxmLmZhc3RhX2xpc3Q6CiAgICAgICAgICAgIG5hbWUsIHNlcXVlbmNlLCBsYWJlbCA9IGlbMF0sIHJl
LnN1YignLScsICcnLCBpWzFdKSwgaVsyXQogICAgICAgICAgICBjb2RlID0gW25hbWUsIGxhYmVsXQog
ICAgICAgICAgICBmMV9kaWN0ID0gewogICAgICAgICAgICAgICAgJ0EnOiAwLAogICAgICAgICAgICAg
ICAgJ0MnOiAwLAogICAgICAgICAgICAgICAgJ0cnOiAwLAogICAgICAgICAgICAgICAgJ1QnOiAwLAog
ICAgICAgICAgICB9CiAgICAgICAgICAgIGYyX2RpY3QgPSBkaW51Y2xlb3RpZGVfZGljdC5jb3B5KCkK
ICAgICAgICAgICAgZjNfZGljdCA9IHRyaW51Y2xlb3RpZGVfZGljdC5jb3B5KCkKCiAgICAgICAgICAg
IGZvciBlbGVtIGluIHNlcXVlbmNlOgogICAgICAgICAgICAgICAgaWYgZWxlbSBpbiBmMV9kaWN0Ogog
ICAgICAgICAgICAgICAgICAgIGYxX2RpY3RbZWxlbV0gKz0gMQogICAgICAgICAgICBmb3Iga2V5IGlu
IGYxX2RpY3Q6CiAgICAgICAgICAgICAgICBmMV9kaWN0W2tleV0gLz0gbGVuKHNlcXVlbmNlKQoKICAg
ICAgICAgICAgZm9yIGkgaW4gcmFuZ2UobGVuKHNlcXVlbmNlKSAtIDEpOgogICAgICAgICAgICAgICAg
aWYgJycuam9pbihzb3J0ZWQoc2VxdWVuY2VbaTogaSArIDJdKSkgaW4gZjJfZGljdDoKICAgICAgICAg
ICAgICAgICAgICBmMl9kaWN0WycnLmpvaW4oc29ydGVkKHNlcXVlbmNlW2k6IGkgKyAyXSkpXSArPSAx
CiAgICAgICAgICAgIGZvciBrZXkgaW4gZjJfZGljdDoKICAgICAgICAgICAgICAgIGYyX2RpY3Rba2V5
XSAvPSAobGVuKHNlcXVlbmNlKSAtIDEpCgogICAgICAgICAgICBmb3IgaSBpbiByYW5nZShsZW4oc2Vx
dWVuY2UpIC0gMik6CiAgICAgICAgICAgICAgICBpZiAnJy5qb2luKHNvcnRlZChzZXF1ZW5jZVtpOiBp
ICsgM10pKSBpbiBmM19kaWN0OgogICAgICAgICAgICAgICAgICAgIGYzX2RpY3RbJycuam9pbihzb3J0
ZWQoc2VxdWVuY2VbaTogaSArIDNdKSldICs9IDEKICAgICAgICAgICAgZm9yIGtleSBpbiBmM19kaWN0
OgogICAgICAgICAgICAgICAgZjNfZGljdFtrZXldIC89IChsZW4oc2VxdWVuY2UpIC0gMikKCiAgICAg
ICAgICAgIGZvciBrZXkgaW4gc29ydGVkKGYyX2RpY3Qua2V5cygpKToKICAgICAgICAgICAgICAgIGlm
IGYyX2RpY3Rba2V5XSAhPSAwIGFuZCBmMV9kaWN0W2tleVswXV0gKiBmMV9kaWN0W2tleVsxXV0gIT0g
MDoKICAgICAgICAgICAgICAgICAgICBjb2RlLmFwcGVuZChmMl9kaWN0W2tleV0gKiBtYXRoLmxvZyhm
Ml9kaWN0W2tleV0gLyAoZjFfZGljdFtrZXlbMF1dICogZjFfZGljdFtrZXlbMV1dKSkpCiAgICAgICAg
ICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgIGNvZGUuYXBwZW5kKDApCiAgICAgICAgICAg
IGZvciBrZXkgaW4gc29ydGVkKGYzX2RpY3Qua2V5cygpKToKICAgICAgICAgICAgICAgIGVsZW1lbnRf
MSA9IDAKICAgICAgICAgICAgICAgIGVsZW1lbnRfMiA9IDAKICAgICAgICAgICAgICAgIGVsZW1lbnRf
MyA9IDAKICAgICAgICAgICAgICAgIGlmIGYyX2RpY3Rba2V5WzA6Ml1dICE9IDAgYW5kIGYxX2RpY3Rb
a2V5WzBdXSAqIGYxX2RpY3Rba2V5WzFdXSAhPSAwOgogICAgICAgICAgICAgICAgICAgIGVsZW1lbnRf
MSA9IGYyX2RpY3Rba2V5WzA6Ml1dICogbWF0aC5sb2coZjJfZGljdFtrZXlbMDoyXV0gLyAoZjFfZGlj
dFtrZXlbMF1dICogZjFfZGljdFtrZXlbMV1dKSkKICAgICAgICAgICAgICAgIGlmIGYyX2RpY3Rba2V5
WzBdICsga2V5WzJdXSAhPSAwIGFuZCBmMV9kaWN0W2tleVsyXV0gIT0gMDoKICAgICAgICAgICAgICAg
ICAgICBlbGVtZW50XzIgPSAoZjJfZGljdFtrZXlbMF0gKyBrZXlbMl1dIC8gZjFfZGljdFtrZXlbMl1d
KSAqIG1hdGgubG9nKAogICAgICAgICAgICAgICAgICAgICAgICBmMl9kaWN0W2tleVswXSArIGtleVsy
XV0gLyBmMV9kaWN0W2tleVsyXV0pCiAgICAgICAgICAgICAgICBpZiBmMl9kaWN0W2tleVsxOjNdXSAh
PSAwIGFuZCBmM19kaWN0W2tleV0gLyBmMl9kaWN0W2tleVsxOjNdXSAhPSAwOgogICAgICAgICAgICAg
ICAgICAgIGVsZW1lbnRfMyA9IChmM19kaWN0W2tleV0gLyBmMl9kaWN0W2tleVsxOjNdXSkgKiBtYXRo
LmxvZyhmM19kaWN0W2tleV0gLyBmMl9kaWN0W2tleVsxOjNdXSkKICAgICAgICAgICAgICAgIGNvZGUu
YXBwZW5kKGVsZW1lbnRfMSArIGVsZW1lbnRfMiAtIGVsZW1lbnRfMykKICAgICAgICAgICAgZW5jb2Rp
bmdzLmFwcGVuZChjb2RlKQogICAgICAgIHNlbGYuZW5jb2RpbmdfYXJyYXkgPSBucC5hcnJheShbXSkK
ICAgICAgICBzZWxmLmVuY29kaW5nX2FycmF5ID0gbnAuYXJyYXkoZW5jb2RpbmdzLCBkdHlwZT1zdHIp
CiAgICAgICAgc2VsZi5jb2x1bW4gPSBzZWxmLmVuY29kaW5nX2FycmF5LnNoYXBlWzFdCiAgICAgICAg
c2VsZi5yb3cgPSBzZWxmLmVuY29kaW5nX2FycmF5LnNoYXBlWzBdIC0gMQogICAgICAgIGRlbCBlbmNv
ZGluZ3MKICAgICAgICBpZiBzZWxmLmVuY29kaW5nX2FycmF5LnNoYXBlWzBdID4gMToKICAgICAgICAg
ICAgcmV0dXJuIFRydWUKICAgICAgICBlbHNlOgogICAgICAgICAgICByZXR1cm4gRmFsc2UKCiAgICAn
JycgRE5BL1JOQSBLTk4gZGVzY3JpcHRvciAnJycKICAgIGRlZiBTaW1OKHNlbGYsIGEsIGIpOgogICAg
ICAgIHNjb3JlX21hdHJpeCA9IFsKICAgICAgICAgICAgWyAyLCAtMSwgLTEsIC0xLCAtMV0sICAjIEEK
ICAgICAgICAgICAgWy0xLCAgMiwgLTEsIC0xLCAtMV0sICAjIEMKICAgICAgICAgICAgWy0xLCAtMSwg
IDIsIC0xLCAtMV0sICAjIEcKICAgICAgICAgICAgWy0xLCAtMSwgLTEsICAyLCAtMV0sICAjIFQKICAg
ICAgICAgICAgWy0xLCAtMSwgLTEsIC0xLCAgMl0sICAjIC0KICAgICAgICBdCiAgICAgICAgQUEgPSAn
QUNHVC0nCiAgICAgICAgbXlEaWN0ID0ge30KICAgICAgICBmb3IgaSBpbiByYW5nZShsZW4oQUEpKToK
ICAgICAgICAgICAgbXlEaWN0W0FBW2ldXSA9IGkKICAgICAgICBtYXhWYWx1ZSwgbWluVmFsdWUgPSAy
LCAtMQogICAgICAgIHJldHVybiAoc2NvcmVfbWF0cml4W215RGljdFthXV1bbXlEaWN0W2JdXSAtIG1p
blZhbHVlKSAvIChtYXhWYWx1ZSAtIG1pblZhbHVlKQoKICAgIGRlZiBDYWxjdWxhdGVEaXN0YW5jZU4o
c2VsZiwgc2VxdWVuY2UxLCBzZXF1ZW5jZTIpOgogICAgICAgIGlmIGxlbihzZXF1ZW5jZTEpICE9IGxl
bihzZXF1ZW5jZTIpOgogICAgICAgICAgICBzZWxmLmVycm9yX21zZyA9ICdLTk4gZGVzY3JpcHRvciBu
ZWVkIGZhc3RhIHNlcXVlbmNlIHdpdGggZXF1YWwgbGVuZ3RoLicKICAgICAgICAgICAgcmV0dXJuIDEK
ICAgICAgICBkaXN0YW5jZSA9IDEgLSBzdW0oW3NlbGYuU2ltTihzZXF1ZW5jZTFbaV0sIHNlcXVlbmNl
MltpXSkgZm9yIGkgaW4gcmFuZ2UobGVuKHNlcXVlbmNlMSkpXSkgLyBsZW4oc2VxdWVuY2UxKQogICAg
ICAgIHJldHVybiBkaXN0YW5jZQoKICAgIGRlZiBLTk4oc2VsZik6CiAgICAgICAgIyBjbGVhcgogICAg
ICAgIHNlbGYuZW5jb2RpbmdfYXJyYXkgPSBucC5hcnJheShbXSkKCiAgICAgICAgaWYgbm90IHNlbGYu
aXNfZXF1YWw6CiAgICAgICAgICAgIHNlbGYuZXJyb3JfbXNnID0gJ0tOTiBkZXNjcmlwdG9yIG5lZWQg
ZmFzdGEgc2VxdWVuY2Ugd2l0aCBlcXVhbCBsZW5ndGguJwogICAgICAgICAgICByZXR1cm4gRmFsc2UK
CiAgICAgICAgdG9wS192YWx1ZXMgPSBbMC4wMSwgMC4wMiwgMC4wMywgMC4wNCwgMC4wNSwgMC4wNiwg
MC4wNywgMC4wOCwgMC4wOSwgMC4xMCwgMC4xMSwgMC4xMiwgMC4xMywgMC4xNCwgMC4xNSwgMC4xNiwK
ICAgICAgICAgICAgICAgICAgICAgICAwLjE3LCAwLjE4LCAwLjE5LCAwLjIwLCAwLjIxLCAwLjIyLCAw
LjIzLCAwLjI0LCAwLjI1LCAwLjI2LCAwLjI3LCAwLjI4LCAwLjI5LCAwLjMwXQoKICAgICAgICB0cmFp
bmluZ19kYXRhID0gW10KICAgICAgICB0cmFpbmluZ19sYWJlbCA9IHt9CiAgICAgICAgZm9yIGkgaW4g
c2VsZi5mYXN0YV9saXN0OgogICAgICAgICAgICBpZiBpWzNdID09ICd0cmFpbmluZyc6CiAgICAgICAg
ICAgICAgICB0cmFpbmluZ19kYXRhLmFwcGVuZChpKQogICAgICAgICAgICAgICAgdHJhaW5pbmdfbGFi
ZWxbaVswXV0gPSBpbnQoaVsyXSkKICAgICAgICB0bXBfbGFiZWxfc2V0cyA9IGxpc3Qoc2V0KHRyYWlu
aW5nX2xhYmVsLnZhbHVlcygpKSkKCiAgICAgICAgdG9wS19udW1iZXJzID0gW10KICAgICAgICBmb3Ig
aSBpbiB0b3BLX3ZhbHVlczoKICAgICAgICAgICAgdG9wS19udW1iZXJzLmFwcGVuZChtYXRoLmNlaWwo
bGVuKHRyYWluaW5nX2RhdGEpICogaSkpCgogICAgICAgICMgY2FsY3VsYXRlIHBhaXIgZGlzdGFuY2UK
ICAgICAgICBkaXN0YW5jZV9kaWN0ID0ge30KICAgICAgICBmb3IgaSBpbiByYW5nZShsZW4oc2VsZi5m
YXN0YV9saXN0KSk6CiAgICAgICAgICAgIG5hbWVfc2VxMSwgc2VxdWVuY2VfMSwgbGFiZWxfMSwgdXNh
Z2VfMSA9IHNlbGYuZmFzdGFfbGlzdFtpXVswXSwgc2VsZi5mYXN0YV9saXN0W2ldWzFdLCBzZWxmLmZh
c3RhX2xpc3RbaV1bMl0sIHNlbGYuZmFzdGFfbGlzdFtpXVszXQogICAgICAgICAgICBmb3IgaiBpbiBy
YW5nZShpKzEsIGxlbihzZWxmLmZhc3RhX2xpc3QpKToKICAgICAgICAgICAgICAgIG5hbWVfc2VxMiwg
c2VxdWVuY2VfMiwgbGFiZWxfMiwgdXNhZ2VfMiA9IHNlbGYuZmFzdGFfbGlzdFtqXVswXSwgc2VsZi5m
YXN0YV9saXN0W2pdWzFdLCBzZWxmLmZhc3RhX2xpc3Rbal1bMl0sIHNlbGYuZmFzdGFfbGlzdFtqXVsz
XQogICAgICAgICAgICAgICAgaWYgdXNhZ2VfMSA9PSAndGVzdGluZycgYW5kIHVzYWdlXzIgPT0gJ3Rl
c3RpbmcnOgogICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgICAgICAgICBlbHNlOgog
ICAgICAgICAgICAgICAgICAgIGRpc3RhbmNlX2RpY3RbJzonLmpvaW4oc29ydGVkKFtuYW1lX3NlcTEs
IG5hbWVfc2VxMl0pKV0gPSBzZWxmLkNhbGN1bGF0ZURpc3RhbmNlTihzZXF1ZW5jZV8xLCBzZXF1ZW5j
ZV8yKQoKICAgICAgICBlbmNvZGluZ3MgPSBbXQogICAgICAgIGhlYWRlciA9IFsnIycsICdsYWJlbCdd
CiAgICAgICAgZm9yIGsgaW4gdG9wS19udW1iZXJzOgogICAgICAgICAgICBmb3IgbCBpbiB0bXBfbGFi
ZWxfc2V0czoKICAgICAgICAgICAgICAgIGhlYWRlci5hcHBlbmQoJ1RvcCcgKyBzdHIoaykgKyAnLmxh
YmVsJyArIHN0cihsKSkKICAgICAgICBlbmNvZGluZ3MuYXBwZW5kKGhlYWRlcikKCiAgICAgICAgZm9y
IGkgaW4gc2VsZi5mYXN0YV9saXN0OgogICAgICAgICAgICBuYW1lLCBzZXF1ZW5jZSwgbGFiZWwgPSBp
WzBdLCBpWzFdLCBpWzJdCiAgICAgICAgICAgIGNvZGUgPSBbbmFtZSwgbGFiZWxdCiAgICAgICAgICAg
IHRtcF9kaXN0YW5jZV9saXN0ID0gW10KICAgICAgICAgICAgZm9yIGogaW4gcmFuZ2UobGVuKHRyYWlu
aW5nX2RhdGEpKToKICAgICAgICAgICAgICAgIGlmIG5hbWUgIT0gdHJhaW5pbmdfZGF0YVtqXVswXToK
ICAgICAgICAgICAgICAgICAgICB0bXBfZGlzdGFuY2VfbGlzdC5hcHBlbmQoW2ludCh0cmFpbmluZ19k
YXRhW2pdWzJdKSwgZGlzdGFuY2VfZGljdC5nZXQoJzonLmpvaW4oc29ydGVkKFtuYW1lLCB0cmFpbmlu
Z19kYXRhW2pdWzBdXSkpLCAxKV0pCgogICAgICAgICAgICB0bXBfZGlzdGFuY2VfbGlzdCA9IG5wLmFy
cmF5KHRtcF9kaXN0YW5jZV9saXN0KQogICAgICAgICAgICB0bXBfZGlzdGFuY2VfbGlzdCA9IHRtcF9k
aXN0YW5jZV9saXN0W25wLmxleHNvcnQodG1wX2Rpc3RhbmNlX2xpc3QuVCldCgogICAgICAgICAgICBm
b3IgaiBpbiB0b3BLX251bWJlcnM6CiAgICAgICAgICAgICAgICBjb2RlICs9IHNlbGYuQ2FsY3VsYXRl
Q29udGVudCh0bXBfZGlzdGFuY2VfbGlzdCwgaiwgdG1wX2xhYmVsX3NldHMpCiAgICAgICAgICAgIGVu
Y29kaW5ncy5hcHBlbmQoY29kZSkKCiAgICAgICAgc2VsZi5lbmNvZGluZ19hcnJheSA9IG5wLmFycmF5
KGVuY29kaW5ncywgZHR5cGU9c3RyKQogICAgICAgIHNlbGYuY29sdW1uID0gc2VsZi5lbmNvZGluZ19h
cnJheS5zaGFwZVsxXQogICAgICAgIHNlbGYucm93ID0gc2VsZi5lbmNvZGluZ19hcnJheS5zaGFwZVsw
XSAtIDEKICAgICAgICBkZWwgZW5jb2RpbmdzCiAgICAgICAgaWYgc2VsZi5lbmNvZGluZ19hcnJheS5z
aGFwZVswXSA+IDE6CiAgICAgICAgICAgIHJldHVybiBUcnVlCiAgICAgICAgZWxzZToKICAgICAgICAg
ICAgcmV0dXJuIEZhbHNlCiAgICAnJycgZW5kaW5nIEROQS9STkEgS05OIGRlc2NyaXB0b3IgJycnCgog
ICAgZGVmIFBTMihzZWxmKToKICAgICAgICBpZiBub3Qgc2VsZi5pc19lcXVhbDoKICAgICAgICAgICAg
c2VsZi5lcnJvcl9tc2cgPSAnUFMyIGRlc2NyaXB0b3IgbmVlZCBmYXN0YSBzZXF1ZW5jZSB3aXRoIGVx
dWFsIGxlbmd0aC4nCiAgICAgICAgICAgIHJldHVybiBGYWxzZQogICAgICAgIEFBID0gJ0FDR1QnCiAg
ICAgICAgQUFfbGlzdCA9IFthMSArIGEyIGZvciBhMSBpbiBBQSBmb3IgYTIgaW4gQUFdCiAgICAgICAg
QUFfZGljdCA9IHt9CiAgICAgICAgZm9yIGkgaW4gcmFuZ2UobGVuKEFBX2xpc3QpKToKICAgICAgICAg
ICAgQUFfZGljdFtBQV9saXN0W2ldXSA9IFswXSAqIDE2CiAgICAgICAgICAgIEFBX2RpY3RbQUFfbGlz
dFtpXV1baV0gPSAxCgogICAgICAgIGVuY29kaW5ncyA9IFtdCiAgICAgICAgaGVhZGVyID0gWydTYW1w
bGVOYW1lJywgJ2xhYmVsJ10KICAgICAgICBmb3IgaSBpbiByYW5nZSgxLCAobGVuKHNlbGYuZmFzdGFf
bGlzdFswXVsxXSkgLSAxKSAqIDE2ICsgMSk6CiAgICAgICAgICAgIGhlYWRlci5hcHBlbmQoJ0JJTkFS
WS5GJyArIHN0cihpKSkKICAgICAgICBlbmNvZGluZ3MuYXBwZW5kKGhlYWRlcikKCiAgICAgICAgZm9y
IGkgaW4gc2VsZi5mYXN0YV9saXN0OgogICAgICAgICAgICBuYW1lLCBzZXF1ZW5jZSwgbGFiZWwgPSBp
WzBdLCBpWzFdLCBpWzJdCiAgICAgICAgICAgIGNvZGUgPSBbbmFtZSwgbGFiZWxdCiAgICAgICAgICAg
IGZvciBqIGluIHJhbmdlKGxlbihzZXF1ZW5jZSkgLSAxKToKICAgICAgICAgICAgICAgIGNvZGUgKz0g
QUFfZGljdC5nZXQoc2VxdWVuY2VbajogaisyXSwgWzBdKjE2KQogICAgICAgICAgICBlbmNvZGluZ3Mu
YXBwZW5kKGNvZGUpCiAgICAgICAgc2VsZi5lbmNvZGluZ19hcnJheSA9IG5wLmFycmF5KFtdKQogICAg
ICAgIHNlbGYuZW5jb2RpbmdfYXJyYXkgPSBucC5hcnJheShlbmNvZGluZ3MsIGR0eXBlPXN0cikKICAg
ICAgICBzZWxmLmNvbHVtbiA9IHNlbGYuZW5jb2RpbmdfYXJyYXkuc2hhcGVbMV0KICAgICAgICBzZWxm
LnJvdyA9IHNlbGYuZW5jb2RpbmdfYXJyYXkuc2hhcGVbMF0gLSAxCiAgICAgICAgZGVsIGVuY29kaW5n
cwogICAgICAgIGlmIHNlbGYuZW5jb2RpbmdfYXJyYXkuc2hhcGVbMF0gPiAxOgogICAgICAgICAgICBy
ZXR1cm4gVHJ1ZQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJldHVybiBGYWxzZQoKICAgIGRlZiBQ
UzMoc2VsZik6CiAgICAgICAgaWYgbm90IHNlbGYuaXNfZXF1YWw6CiAgICAgICAgICAgIHNlbGYuZXJy
b3JfbXNnID0gJ1BTMyBkZXNjcmlwdG9yIG5lZWQgZmFzdGEgc2VxdWVuY2Ugd2l0aCBlcXVhbCBsZW5n
dGguJwogICAgICAgICAgICByZXR1cm4gRmFsc2UKICAgICAgICBBQSA9ICdBQ0dUJwogICAgICAgIEFB
X2xpc3QgPSBbYTEgKyBhMiArIGEzIGZvciBhMSBpbiBBQSBmb3IgYTIgaW4gQUEgZm9yIGEzIGluIEFB
XQogICAgICAgIEFBX2RpY3QgPSB7fQogICAgICAgIGZvciBpIGluIHJhbmdlKGxlbihBQV9saXN0KSk6
CiAgICAgICAgICAgIEFBX2RpY3RbQUFfbGlzdFtpXV0gPSBbMF0gKiA2NAogICAgICAgICAgICBBQV9k
aWN0W0FBX2xpc3RbaV1dW2ldID0gMQoKICAgICAgICBlbmNvZGluZ3MgPSBbXQogICAgICAgIGhlYWRl
ciA9IFsnU2FtcGxlTmFtZScsICdsYWJlbCddCiAgICAgICAgZm9yIGkgaW4gcmFuZ2UoMSwgKGxlbihz
ZWxmLmZhc3RhX2xpc3RbMF1bMV0pIC0gMikgKiA2NCArIDEpOgogICAgICAgICAgICBoZWFkZXIuYXBw
ZW5kKCdCSU5BUlkuRicgKyBzdHIoaSkpCiAgICAgICAgZW5jb2RpbmdzLmFwcGVuZChoZWFkZXIpCgog
ICAgICAgIGZvciBpIGluIHNlbGYuZmFzdGFfbGlzdDoKICAgICAgICAgICAgbmFtZSwgc2VxdWVuY2Us
IGxhYmVsID0gaVswXSwgaVsxXSwgaVsyXQogICAgICAgICAgICBjb2RlID0gW25hbWUsIGxhYmVsXQog
ICAgICAgICAgICBmb3IgaiBpbiByYW5nZShsZW4oc2VxdWVuY2UpIC0gMik6CiAgICAgICAgICAgICAg
ICBjb2RlICs9IEFBX2RpY3QuZ2V0KHNlcXVlbmNlW2o6IGorM10sIFswXSo2NCkKICAgICAgICAgICAg
ZW5jb2RpbmdzLmFwcGVuZChjb2RlKQogICAgICAgIHNlbGYuZW5jb2RpbmdfYXJyYXkgPSBucC5hcnJh
eShbXSkKICAgICAgICBzZWxmLmVuY29kaW5nX2FycmF5ID0gbnAuYXJyYXkoZW5jb2RpbmdzLCBkdHlw
ZT1zdHIpCiAgICAgICAgc2VsZi5jb2x1bW4gPSBzZWxmLmVuY29kaW5nX2FycmF5LnNoYXBlWzFdCiAg
ICAgICAgc2VsZi5yb3cgPSBzZWxmLmVuY29kaW5nX2FycmF5LnNoYXBlWzBdIC0gMQogICAgICAgIGRl
bCBlbmNvZGluZ3MKICAgICAgICBpZiBzZWxmLmVuY29kaW5nX2FycmF5LnNoYXBlWzBdID4gMToKICAg
ICAgICAgICAgcmV0dXJuIFRydWUKICAgICAgICBlbHNlOgogICAgICAgICAgICByZXR1cm4gRmFsc2UK
CiAgICBkZWYgUFM0KHNlbGYpOgogICAgICAgIGlmIG5vdCBzZWxmLmlzX2VxdWFsOgogICAgICAgICAg
ICBzZWxmLmVycm9yX21zZyA9ICdQUzQgZGVzY3JpcHRvciBuZWVkIGZhc3RhIHNlcXVlbmNlIHdpdGgg
ZXF1YWwgbGVuZ3RoLicKICAgICAgICAgICAgcmV0dXJuIEZhbHNlCiAgICAgICAgQUEgPSAnQUNHVCcK
ICAgICAgICBBQV9saXN0ID0gW2ExICsgYTIgKyBhMyArIGE0IGZvciBhMSBpbiBBQSBmb3IgYTIgaW4g
QUEgZm9yIGEzIGluIEFBIGZvciBhNCBpbiBBQV0KICAgICAgICBBQV9kaWN0ID0ge30KICAgICAgICBm
b3IgaSBpbiByYW5nZShsZW4oQUFfbGlzdCkpOgogICAgICAgICAgICBBQV9kaWN0W0FBX2xpc3RbaV1d
ID0gWzBdICogMjU2CiAgICAgICAgICAgIEFBX2RpY3RbQUFfbGlzdFtpXV1baV0gPSAxCgogICAgICAg
IGVuY29kaW5ncyA9IFtdCiAgICAgICAgaGVhZGVyID0gWydTYW1wbGVOYW1lJywgJ2xhYmVsJ10KICAg
ICAgICBmb3IgaSBpbiByYW5nZSgxLCAobGVuKHNlbGYuZmFzdGFfbGlzdFswXVsxXSkgLSAzKSAqIDI1
NiArIDEpOgogICAgICAgICAgICBoZWFkZXIuYXBwZW5kKCdCSU5BUlkuRicgKyBzdHIoaSkpCiAgICAg
ICAgZW5jb2RpbmdzLmFwcGVuZChoZWFkZXIpCgogICAgICAgIGZvciBpIGluIHNlbGYuZmFzdGFfbGlz
dDoKICAgICAgICAgICAgbmFtZSwgc2VxdWVuY2UsIGxhYmVsID0gaVswXSwgaVsxXSwgaVsyXQogICAg
ICAgICAgICBjb2RlID0gW25hbWUsIGxhYmVsXQogICAgICAgICAgICBmb3IgaiBpbiByYW5nZShsZW4o
c2VxdWVuY2UpIC0gMyk6CiAgICAgICAgICAgICAgICBjb2RlICs9IEFBX2RpY3QuZ2V0KHNlcXVlbmNl
W2o6IGorNF0sIFswXSoyNTYpCiAgICAgICAgICAgIGVuY29kaW5ncy5hcHBlbmQoY29kZSkKICAgICAg
ICBzZWxmLmVuY29kaW5nX2FycmF5ID0gbnAuYXJyYXkoW10pCiAgICAgICAgc2VsZi5lbmNvZGluZ19h
cnJheSA9IG5wLmFycmF5KGVuY29kaW5ncywgZHR5cGU9c3RyKQogICAgICAgIHNlbGYuY29sdW1uID0g
c2VsZi5lbmNvZGluZ19hcnJheS5zaGFwZVsxXQogICAgICAgIHNlbGYucm93ID0gc2VsZi5lbmNvZGlu
Z19hcnJheS5zaGFwZVswXSAtIDEKICAgICAgICBkZWwgZW5jb2RpbmdzCiAgICAgICAgaWYgc2VsZi5l
bmNvZGluZ19hcnJheS5zaGFwZVswXSA+IDE6CiAgICAgICAgICAgIHJldHVybiBUcnVlCiAgICAgICAg
ZWxzZToKICAgICAgICAgICAgcmV0dXJuIEZhbHNlCgogICAgZGVmIFpfY3VydmVfOWJpdChzZWxmKToK
ICAgICAgICBlbmNvZGluZ3MgPSBbXQogICAgICAgIGhlYWRlciA9IFsnU2FtcGxlTmFtZScsICdsYWJl
bCddCiAgICAgICAgZm9yIHBvcyBpbiByYW5nZSgxLCA0KToKICAgICAgICAgICAgZm9yIGVsZW0gaW4g
Wyd4JywgJ3knLCAneiddOgogICAgICAgICAgICAgICAgaGVhZGVyLmFwcGVuZCgnUG9zXyVzLiVzJyAl
KHBvcywgZWxlbSkpCiAgICAgICAgZW5jb2RpbmdzLmFwcGVuZChoZWFkZXIpCgogICAgICAgIGZvciBl
bGVtIGluIHNlbGYuZmFzdGFfbGlzdDoKICAgICAgICAgICAgbmFtZSwgc2VxdWVuY2UsIGxhYmVsID0g
ZWxlbVswXSwgcmUuc3ViKCctJywgJycsIGVsZW1bMV0pLCBlbGVtWzJdCiAgICAgICAgICAgIGNvZGUg
PSBbbmFtZSwgbGFiZWxdCiAgICAgICAgICAgIHBvczFfZGljdCA9IHt9CiAgICAgICAgICAgIHBvczJf
ZGljdCA9IHt9CiAgICAgICAgICAgIHBvczNfZGljdCA9IHt9CiAgICAgICAgICAgIGZvciBpIGluIHJh
bmdlKGxlbihzZXF1ZW5jZSkpOgogICAgICAgICAgICAgICAgaWYgKGkrMSkgJSAzID09IDE6CiAgICAg
ICAgICAgICAgICAgICAgaWYgc2VxdWVuY2VbaV0gaW4gcG9zMV9kaWN0OgogICAgICAgICAgICAgICAg
ICAgICAgICBwb3MxX2RpY3Rbc2VxdWVuY2VbaV1dICs9IDEKICAgICAgICAgICAgICAgICAgICBlbHNl
OgogICAgICAgICAgICAgICAgICAgICAgICBwb3MxX2RpY3Rbc2VxdWVuY2VbaV1dID0gMQogICAgICAg
ICAgICAgICAgZWxpZiAoaSsxKSAlIDMgPT0gMjoKICAgICAgICAgICAgICAgICAgICBpZiBzZXF1ZW5j
ZVtpXSBpbiBwb3MyX2RpY3Q6CiAgICAgICAgICAgICAgICAgICAgICAgIHBvczJfZGljdFtzZXF1ZW5j
ZVtpXV0gKz0gMQogICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAg
IHBvczJfZGljdFtzZXF1ZW5jZVtpXV0gPSAxCiAgICAgICAgICAgICAgICBlbGlmIChpKzEpICUgMyA9
PSAwOgogICAgICAgICAgICAgICAgICAgIGlmIHNlcXVlbmNlW2ldIGluIHBvczNfZGljdDoKICAgICAg
ICAgICAgICAgICAgICAgICAgcG9zM19kaWN0W3NlcXVlbmNlW2ldXSArPSAxCiAgICAgICAgICAgICAg
ICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgcG9zM19kaWN0W3NlcXVlbmNlW2ldXSA9
IDEKCiAgICAgICAgICAgIGNvZGUgKz0gWwogICAgICAgICAgICAgICAgKHBvczFfZGljdC5nZXQoJ0En
LCAwKSArIHBvczFfZGljdC5nZXQoJ0cnLCAwKSAtIHBvczFfZGljdC5nZXQoJ0MnLCAwKSAtIHBvczFf
ZGljdC5nZXQoJ1QnLCAwKSkgLyBsZW4oc2VxdWVuY2UpLCAjIHgKICAgICAgICAgICAgICAgIChwb3Mx
X2RpY3QuZ2V0KCdBJywgMCkgKyBwb3MxX2RpY3QuZ2V0KCdDJywgMCkgLSBwb3MxX2RpY3QuZ2V0KCdH
JywgMCkgLSBwb3MxX2RpY3QuZ2V0KCdUJywgMCkpIC8gbGVuKHNlcXVlbmNlKSwgIyB5CiAgICAgICAg
ICAgICAgICAocG9zMV9kaWN0LmdldCgnQScsIDApICsgcG9zMV9kaWN0LmdldCgnVCcsIDApIC0gcG9z
MV9kaWN0LmdldCgnRycsIDApIC0gcG9zMV9kaWN0LmdldCgnQycsIDApKSAvIGxlbihzZXF1ZW5jZSkg
ICMgegogICAgICAgICAgICAgICAgXQogICAgICAgICAgICBjb2RlICs9IFsKICAgICAgICAgICAgICAg
IChwb3MyX2RpY3QuZ2V0KCdBJywgMCkgKyBwb3MyX2RpY3QuZ2V0KCdHJywgMCkgLSBwb3MyX2RpY3Qu
Z2V0KCdDJywgMCkgLSBwb3MyX2RpY3QuZ2V0KCdUJywgMCkpIC8gbGVuKHNlcXVlbmNlKSwKICAgICAg
ICAgICAgICAgIChwb3MyX2RpY3QuZ2V0KCdBJywgMCkgKyBwb3MyX2RpY3QuZ2V0KCdDJywgMCkgLSBw
b3MyX2RpY3QuZ2V0KCdHJywgMCkgLSBwb3MyX2RpY3QuZ2V0KCdUJywgMCkpIC8gbGVuKHNlcXVlbmNl
KSwKICAgICAgICAgICAgICAgIChwb3MyX2RpY3QuZ2V0KCdBJywgMCkgKyBwb3MyX2RpY3QuZ2V0KCdU
JywgMCkgLSBwb3MyX2RpY3QuZ2V0KCdHJywgMCkgLSBwb3MyX2RpY3QuZ2V0KCdDJywgMCkpIC8gbGVu
KHNlcXVlbmNlKQogICAgICAgICAgICAgICAgXQogICAgICAgICAgICBjb2RlICs9IFsKICAgICAgICAg
ICAgICAgIChwb3MzX2RpY3QuZ2V0KCdBJywgMCkgKyBwb3MzX2RpY3QuZ2V0KCdHJywgMCkgLSBwb3Mz
X2RpY3QuZ2V0KCdDJywgMCkgLSBwb3MzX2RpY3QuZ2V0KCdUJywgMCkpIC8gbGVuKHNlcXVlbmNlKSwK
ICAgICAgICAgICAgICAgIChwb3MzX2RpY3QuZ2V0KCdBJywgMCkgKyBwb3MzX2RpY3QuZ2V0KCdDJywg
MCkgLSBwb3MzX2RpY3QuZ2V0KCdHJywgMCkgLSBwb3MzX2RpY3QuZ2V0KCdUJywgMCkpIC8gbGVuKHNl
cXVlbmNlKSwKICAgICAgICAgICAgICAgIChwb3MzX2RpY3QuZ2V0KCdBJywgMCkgKyBwb3MzX2RpY3Qu
Z2V0KCdUJywgMCkgLSBwb3MzX2RpY3QuZ2V0KCdHJywgMCkgLSBwb3MzX2RpY3QuZ2V0KCdDJywgMCkp
IC8gbGVuKHNlcXVlbmNlKQogICAgICAgICAgICAgICAgXQogICAgICAgICAgICBlbmNvZGluZ3MuYXBw
ZW5kKGNvZGUpCgogICAgICAgIHNlbGYuZW5jb2RpbmdfYXJyYXkgPSBucC5hcnJheShbXSkKICAgICAg
ICBzZWxmLmVuY29kaW5nX2FycmF5ID0gbnAuYXJyYXkoZW5jb2RpbmdzLCBkdHlwZT1zdHIpCiAgICAg
ICAgc2VsZi5jb2x1bW4gPSBzZWxmLmVuY29kaW5nX2FycmF5LnNoYXBlWzFdCiAgICAgICAgc2VsZi5y
b3cgPSBzZWxmLmVuY29kaW5nX2FycmF5LnNoYXBlWzBdIC0gMQogICAgICAgIGRlbCBlbmNvZGluZ3MK
ICAgICAgICBpZiBzZWxmLmVuY29kaW5nX2FycmF5LnNoYXBlWzBdID4gMToKICAgICAgICAgICAgcmV0
dXJuIFRydWUKICAgICAgICBlbHNlOgogICAgICAgICAgICByZXR1cm4gRmFsc2UKCiAgICBkZWYgWl9j
dXJ2ZV8xMmJpdChzZWxmKToKICAgICAgICBOTiA9ICdBQ0dUJwogICAgICAgIGVuY29kaW5ncyA9IFtd
CiAgICAgICAgaGVhZGVyID0gWydTYW1wbGVOYW1lJywgJ2xhYmVsJ10KICAgICAgICBmb3IgYmFzZSBp
biBOTjoKICAgICAgICAgICAgZm9yIGVsZW0gaW4gWyd4JywgJ3knLCAneiddOgogICAgICAgICAgICAg
ICAgaGVhZGVyLmFwcGVuZCgnJXMuJXMnICUoYmFzZSwgZWxlbSkpCiAgICAgICAgZW5jb2RpbmdzLmFw
cGVuZChoZWFkZXIpCgogICAgICAgIGZvciBlbGVtIGluIHNlbGYuZmFzdGFfbGlzdDoKICAgICAgICAg
ICAgbmFtZSwgc2VxdWVuY2UsIGxhYmVsID0gZWxlbVswXSwgcmUuc3ViKCctJywgJycsIGVsZW1bMV0p
LCBlbGVtWzJdCiAgICAgICAgICAgIGNvZGUgPSBbbmFtZSwgbGFiZWxdCiAgICAgICAgICAgIHBvc19k
aWN0ID0ge30KICAgICAgICAgICAgZm9yIGkgaW4gcmFuZ2UobGVuKHNlcXVlbmNlKSAtIDEpOgogICAg
ICAgICAgICAgICAgaWYgc2VxdWVuY2VbaTogaSsyXSBpbiBwb3NfZGljdDoKICAgICAgICAgICAgICAg
ICAgICBwb3NfZGljdFtzZXF1ZW5jZVtpOiBpKzJdXSArPSAxCiAgICAgICAgICAgICAgICBlbHNlOgog
ICAgICAgICAgICAgICAgICAgIHBvc19kaWN0W3NlcXVlbmNlW2k6IGkrMl1dID0gMQoKICAgICAgICAg
ICAgZm9yIGJhc2UgaW4gTk46CiAgICAgICAgICAgICAgICBjb2RlICs9IFsKICAgICAgICAgICAgICAg
ICAgICAocG9zX2RpY3QuZ2V0KCclc0EnICViYXNlLCAwKSArIHBvc19kaWN0LmdldCgnJXNHJyAlYmFz
ZSwgMCkgLSBwb3NfZGljdC5nZXQoJyVzQycgJWJhc2UsIDApIC0gcG9zX2RpY3QuZ2V0KCclc1QnICVi
YXNlLCAwKSkgLyAobGVuKHNlcXVlbmNlKSAtIDEpLCAjIHgKICAgICAgICAgICAgICAgICAgICAocG9z
X2RpY3QuZ2V0KCclc0EnICViYXNlLCAwKSArIHBvc19kaWN0LmdldCgnJXNDJyAlYmFzZSwgMCkgLSBw
b3NfZGljdC5nZXQoJyVzRycgJWJhc2UsIDApIC0gcG9zX2RpY3QuZ2V0KCclc1QnICViYXNlLCAwKSkg
LyAobGVuKHNlcXVlbmNlKSAtIDEpLCAjIHkKICAgICAgICAgICAgICAgICAgICAocG9zX2RpY3QuZ2V0
KCclc0EnICViYXNlLCAwKSArIHBvc19kaWN0LmdldCgnJXNUJyAlYmFzZSwgMCkgLSBwb3NfZGljdC5n
ZXQoJyVzRycgJWJhc2UsIDApIC0gcG9zX2RpY3QuZ2V0KCclc0MnICViYXNlLCAwKSkgLyAobGVuKHNl
cXVlbmNlKSAtIDEpICAjIHoKICAgICAgICAgICAgICAgICAgICBdCgogICAgICAgICAgICBlbmNvZGlu
Z3MuYXBwZW5kKGNvZGUpCgogICAgICAgIHNlbGYuZW5jb2RpbmdfYXJyYXkgPSBucC5hcnJheShbXSkK
ICAgICAgICBzZWxmLmVuY29kaW5nX2FycmF5ID0gbnAuYXJyYXkoZW5jb2RpbmdzLCBkdHlwZT1zdHIp
CiAgICAgICAgc2VsZi5jb2x1bW4gPSBzZWxmLmVuY29kaW5nX2FycmF5LnNoYXBlWzFdCiAgICAgICAg
c2VsZi5yb3cgPSBzZWxmLmVuY29kaW5nX2FycmF5LnNoYXBlWzBdIC0gMQogICAgICAgIGRlbCBlbmNv
ZGluZ3MKICAgICAgICBpZiBzZWxmLmVuY29kaW5nX2FycmF5LnNoYXBlWzBdID4gMToKICAgICAgICAg
ICAgcmV0dXJuIFRydWUKICAgICAgICBlbHNlOgogICAgICAgICAgICByZXR1cm4gRmFsc2UKCiAgICBk
ZWYgWl9jdXJ2ZV8zNmJpdChzZWxmKToKICAgICAgICBOTiA9ICdBQ0dUJwogICAgICAgIGVuY29kaW5n
cyA9IFtdCiAgICAgICAgaGVhZGVyID0gWydTYW1wbGVOYW1lJywgJ2xhYmVsJ10KCiAgICAgICAgZm9y
IGJhc2UgaW4gTk46CiAgICAgICAgICAgIGZvciBwb3MgaW4gcmFuZ2UoMSwgNCk6CiAgICAgICAgICAg
ICAgICBmb3IgZWxlbSBpbiBbJ3gnLCAneScsICd6J106CiAgICAgICAgICAgICAgICAgICAgaGVhZGVy
LmFwcGVuZCgnUG9zXyVzXyVzLiVzJyAlKHBvcywgYmFzZSwgZWxlbSkpCiAgICAgICAgZW5jb2Rpbmdz
LmFwcGVuZChoZWFkZXIpCgogICAgICAgIGZvciBlbGVtIGluIHNlbGYuZmFzdGFfbGlzdDoKICAgICAg
ICAgICAgbmFtZSwgc2VxdWVuY2UsIGxhYmVsID0gZWxlbVswXSwgcmUuc3ViKCctJywgJycsIGVsZW1b
MV0pLCBlbGVtWzJdCiAgICAgICAgICAgIGNvZGUgPSBbbmFtZSwgbGFiZWxdCiAgICAgICAgICAgIHBv
czFfZGljdCA9IHt9CiAgICAgICAgICAgIHBvczJfZGljdCA9IHt9CiAgICAgICAgICAgIHBvczNfZGlj
dCA9IHt9CiAgICAgICAgICAgIGZvciBpIGluIHJhbmdlKGxlbihzZXF1ZW5jZSkgLSAxKToKICAgICAg
ICAgICAgICAgIGlmIChpKzEpICUgMyA9PSAxOgogICAgICAgICAgICAgICAgICAgIGlmIHNlcXVlbmNl
W2k6IGkrMl0gaW4gcG9zMV9kaWN0OgogICAgICAgICAgICAgICAgICAgICAgICBwb3MxX2RpY3Rbc2Vx
dWVuY2VbaTogaSsyXV0gKz0gMQogICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAg
ICAgICAgICAgIHBvczFfZGljdFtzZXF1ZW5jZVtpOiBpKzJdXSA9IDEKICAgICAgICAgICAgICAgIGVs
aWYgKGkrMSkgJSAzID09IDI6CiAgICAgICAgICAgICAgICAgICAgaWYgc2VxdWVuY2VbaTogaSsyXSBp
biBwb3MyX2RpY3Q6CiAgICAgICAgICAgICAgICAgICAgICAgIHBvczJfZGljdFtzZXF1ZW5jZVtpOiBp
KzJdXSArPSAxCiAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAg
cG9zMl9kaWN0W3NlcXVlbmNlW2k6IGkrMl1dID0gMQogICAgICAgICAgICAgICAgZWxpZiAoaSsxKSAl
IDMgPT0gMDoKICAgICAgICAgICAgICAgICAgICBpZiBzZXF1ZW5jZVtpOiBpKzJdIGluIHBvczNfZGlj
dDoKICAgICAgICAgICAgICAgICAgICAgICAgcG9zM19kaWN0W3NlcXVlbmNlW2k6IGkrMl1dICs9IDEK
ICAgICAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgICAgICBwb3MzX2RpY3Rb
c2VxdWVuY2VbaTogaSsyXV0gPSAxCgogICAgICAgICAgICBmb3IgYmFzZSBpbiBOTjoKICAgICAgICAg
ICAgICAgIGNvZGUgKz0gWwogICAgICAgICAgICAgICAgICAgIChwb3MxX2RpY3QuZ2V0KCclc0EnICVi
YXNlLCAwKSArIHBvczFfZGljdC5nZXQoJyVzRycgJWJhc2UsIDApIC0gcG9zMV9kaWN0LmdldCgnJXND
JyAlYmFzZSwgMCkgLSBwb3MxX2RpY3QuZ2V0KCclc1QnICViYXNlLCAwKSkgLyAobGVuKHNlcXVlbmNl
KSAtIDEpLCAjIHgKICAgICAgICAgICAgICAgICAgICAocG9zMV9kaWN0LmdldCgnJXNBJyAlYmFzZSwg
MCkgKyBwb3MxX2RpY3QuZ2V0KCclc0MnICViYXNlLCAwKSAtIHBvczFfZGljdC5nZXQoJyVzRycgJWJh
c2UsIDApIC0gcG9zMV9kaWN0LmdldCgnJXNUJyAlYmFzZSwgMCkpIC8gKGxlbihzZXF1ZW5jZSkgLSAx
KSwgIyB5CiAgICAgICAgICAgICAgICAgICAgKHBvczFfZGljdC5nZXQoJyVzQScgJWJhc2UsIDApICsg
cG9zMV9kaWN0LmdldCgnJXNUJyAlYmFzZSwgMCkgLSBwb3MxX2RpY3QuZ2V0KCclc0cnICViYXNlLCAw
KSAtIHBvczFfZGljdC5nZXQoJyVzQycgJWJhc2UsIDApKSAvIChsZW4oc2VxdWVuY2UpIC0gMSkgICMg
egogICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgIGNvZGUgKz0gWwogICAgICAgICAg
ICAgICAgICAgIChwb3MyX2RpY3QuZ2V0KCclc0EnICViYXNlLCAwKSArIHBvczJfZGljdC5nZXQoJyVz
RycgJWJhc2UsIDApIC0gcG9zMl9kaWN0LmdldCgnJXNDJyAlYmFzZSwgMCkgLSBwb3MyX2RpY3QuZ2V0
KCclc1QnICViYXNlLCAwKSkgLyAobGVuKHNlcXVlbmNlKSAtIDEpLAogICAgICAgICAgICAgICAgICAg
IChwb3MyX2RpY3QuZ2V0KCclc0EnICViYXNlLCAwKSArIHBvczJfZGljdC5nZXQoJyVzQycgJWJhc2Us
IDApIC0gcG9zMl9kaWN0LmdldCgnJXNHJyAlYmFzZSwgMCkgLSBwb3MyX2RpY3QuZ2V0KCclc1QnICVi
YXNlLCAwKSkgLyAobGVuKHNlcXVlbmNlKSAtIDEpLAogICAgICAgICAgICAgICAgICAgIChwb3MyX2Rp
Y3QuZ2V0KCclc0EnICViYXNlLCAwKSArIHBvczJfZGljdC5nZXQoJyVzVCcgJWJhc2UsIDApIC0gcG9z
Ml9kaWN0LmdldCgnJXNHJyAlYmFzZSwgMCkgLSBwb3MyX2RpY3QuZ2V0KCclc0MnICViYXNlLCAwKSkg
LyAobGVuKHNlcXVlbmNlKSAtIDEpCiAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAg
Y29kZSArPSBbCiAgICAgICAgICAgICAgICAgICAgKHBvczNfZGljdC5nZXQoJyVzQScgJWJhc2UsIDAp
ICsgcG9zM19kaWN0LmdldCgnJXNHJyAlYmFzZSwgMCkgLSBwb3MzX2RpY3QuZ2V0KCclc0MnICViYXNl
LCAwKSAtIHBvczNfZGljdC5nZXQoJyVzVCcgJWJhc2UsIDApKSAvIChsZW4oc2VxdWVuY2UpIC0gMSks
CiAgICAgICAgICAgICAgICAgICAgKHBvczNfZGljdC5nZXQoJyVzQScgJWJhc2UsIDApICsgcG9zM19k
aWN0LmdldCgnJXNDJyAlYmFzZSwgMCkgLSBwb3MzX2RpY3QuZ2V0KCclc0cnICViYXNlLCAwKSAtIHBv
czNfZGljdC5nZXQoJyVzVCcgJWJhc2UsIDApKSAvIChsZW4oc2VxdWVuY2UpIC0gMSksCiAgICAgICAg
ICAgICAgICAgICAgKHBvczNfZGljdC5nZXQoJyVzQScgJWJhc2UsIDApICsgcG9zM19kaWN0LmdldCgn
JXNUJyAlYmFzZSwgMCkgLSBwb3MzX2RpY3QuZ2V0KCclc0cnICViYXNlLCAwKSAtIHBvczNfZGljdC5n
ZXQoJyVzQycgJWJhc2UsIDApKSAvIChsZW4oc2VxdWVuY2UpIC0gMSkKICAgICAgICAgICAgICAgICAg
ICBdCiAgICAgICAgICAgIGVuY29kaW5ncy5hcHBlbmQoY29kZSkKCiAgICAgICAgc2VsZi5lbmNvZGlu
Z19hcnJheSA9IG5wLmFycmF5KFtdKQogICAgICAgIHNlbGYuZW5jb2RpbmdfYXJyYXkgPSBucC5hcnJh
eShlbmNvZGluZ3MsIGR0eXBlPXN0cikKICAgICAgICBzZWxmLmNvbHVtbiA9IHNlbGYuZW5jb2Rpbmdf
YXJyYXkuc2hhcGVbMV0KICAgICAgICBzZWxmLnJvdyA9IHNlbGYuZW5jb2RpbmdfYXJyYXkuc2hhcGVb
MF0gLSAxCiAgICAgICAgZGVsIGVuY29kaW5ncwogICAgICAgIGlmIHNlbGYuZW5jb2RpbmdfYXJyYXku
c2hhcGVbMF0gPiAxOgogICAgICAgICAgICByZXR1cm4gVHJ1ZQogICAgICAgIGVsc2U6CiAgICAgICAg
ICAgIHJldHVybiBGYWxzZQoKICAgIGRlZiBaX2N1cnZlXzQ4Yml0KHNlbGYpOgogICAgICAgIE5OID0g
J0FDR1QnCiAgICAgICAgZW5jb2RpbmdzID0gW10KICAgICAgICBoZWFkZXIgPSBbJ1NhbXBsZU5hbWUn
LCAnbGFiZWwnXQogICAgICAgIGZvciBiYXNlIGluIE5OOgogICAgICAgICAgICBmb3IgYmFzZTEgaW4g
Tk46CiAgICAgICAgICAgICAgICBmb3IgZWxlbSBpbiBbJ3gnLCAneScsICd6J106CiAgICAgICAgICAg
ICAgICAgICAgaGVhZGVyLmFwcGVuZCgnJXMlcy4lcycgJShiYXNlLCBiYXNlMSwgZWxlbSkpCiAgICAg
ICAgZW5jb2RpbmdzLmFwcGVuZChoZWFkZXIpCgogICAgICAgIGZvciBlbGVtIGluIHNlbGYuZmFzdGFf
bGlzdDoKICAgICAgICAgICAgbmFtZSwgc2VxdWVuY2UsIGxhYmVsID0gZWxlbVswXSwgcmUuc3ViKCct
JywgJycsIGVsZW1bMV0pLCBlbGVtWzJdCiAgICAgICAgICAgIGNvZGUgPSBbbmFtZSwgbGFiZWxdCiAg
ICAgICAgICAgIHBvc19kaWN0ID0ge30KICAgICAgICAgICAgZm9yIGkgaW4gcmFuZ2UobGVuKHNlcXVl
bmNlKSAtIDIpOgogICAgICAgICAgICAgICAgaWYgc2VxdWVuY2VbaTogaSszXSBpbiBwb3NfZGljdDoK
ICAgICAgICAgICAgICAgICAgICBwb3NfZGljdFtzZXF1ZW5jZVtpOiBpKzNdXSArPSAxCiAgICAgICAg
ICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgIHBvc19kaWN0W3NlcXVlbmNlW2k6IGkrM11d
ID0gMQoKICAgICAgICAgICAgZm9yIGJhc2UgaW4gTk46CiAgICAgICAgICAgICAgICBmb3IgYmFzZTEg
aW4gTk46CiAgICAgICAgICAgICAgICAgICAgY29kZSArPSBbCiAgICAgICAgICAgICAgICAgICAgICAg
IChwb3NfZGljdC5nZXQoJyVzJXNBJyAlKGJhc2UsIGJhc2UxKSwgMCkgKyBwb3NfZGljdC5nZXQoJyVz
JXNHJyAlKGJhc2UsIGJhc2UxKSwgMCkgLSBwb3NfZGljdC5nZXQoJyVzJXNDJyAlKGJhc2UsIGJhc2Ux
KSwgMCkgLSBwb3NfZGljdC5nZXQoJyVzJXNUJyAlKGJhc2UsIGJhc2UxKSwgMCkpIC8gKGxlbihzZXF1
ZW5jZSkgLSAyKSwgIyB4CiAgICAgICAgICAgICAgICAgICAgICAgIChwb3NfZGljdC5nZXQoJyVzJXNB
JyAlKGJhc2UsIGJhc2UxKSwgMCkgKyBwb3NfZGljdC5nZXQoJyVzJXNDJyAlKGJhc2UsIGJhc2UxKSwg
MCkgLSBwb3NfZGljdC5nZXQoJyVzJXNHJyAlKGJhc2UsIGJhc2UxKSwgMCkgLSBwb3NfZGljdC5nZXQo
JyVzJXNUJyAlKGJhc2UsIGJhc2UxKSwgMCkpIC8gKGxlbihzZXF1ZW5jZSkgLSAyKSwgIyB5CiAgICAg
ICAgICAgICAgICAgICAgICAgIChwb3NfZGljdC5nZXQoJyVzJXNBJyAlKGJhc2UsIGJhc2UxKSwgMCkg
KyBwb3NfZGljdC5nZXQoJyVzJXNUJyAlKGJhc2UsIGJhc2UxKSwgMCkgLSBwb3NfZGljdC5nZXQoJyVz
JXNHJyAlKGJhc2UsIGJhc2UxKSwgMCkgLSBwb3NfZGljdC5nZXQoJyVzJXNDJyAlKGJhc2UsIGJhc2Ux
KSwgMCkpIC8gKGxlbihzZXF1ZW5jZSkgLSAyKSAgIyB6CiAgICAgICAgICAgICAgICAgICAgICAgIF0K
ICAgICAgICAgICAgZW5jb2RpbmdzLmFwcGVuZChjb2RlKQoKICAgICAgICBzZWxmLmVuY29kaW5nX2Fy
cmF5ID0gbnAuYXJyYXkoW10pCiAgICAgICAgc2VsZi5lbmNvZGluZ19hcnJheSA9IG5wLmFycmF5KGVu
Y29kaW5ncywgZHR5cGU9c3RyKQogICAgICAgIHNlbGYuY29sdW1uID0gc2VsZi5lbmNvZGluZ19hcnJh
eS5zaGFwZVsxXQogICAgICAgIHNlbGYucm93ID0gc2VsZi5lbmNvZGluZ19hcnJheS5zaGFwZVswXSAt
IDEKICAgICAgICBkZWwgZW5jb2RpbmdzCiAgICAgICAgaWYgc2VsZi5lbmNvZGluZ19hcnJheS5zaGFw
ZVswXSA+IDE6CiAgICAgICAgICAgIHJldHVybiBUcnVlCiAgICAgICAgZWxzZToKICAgICAgICAgICAg
cmV0dXJuIEZhbHNlCgogICAgZGVmIFpfY3VydmVfMTQ0Yml0KHNlbGYpOgogICAgICAgIE5OID0gJ0FD
R1QnCiAgICAgICAgZW5jb2RpbmdzID0gW10KICAgICAgICBoZWFkZXIgPSBbJ1NhbXBsZU5hbWUnLCAn
bGFiZWwnXQoKICAgICAgICBmb3IgYmFzZSBpbiBOTjoKICAgICAgICAgICAgZm9yIGJhc2UxIGluIE5O
OgogICAgICAgICAgICAgICAgZm9yIHBvcyBpbiByYW5nZSgxLCA0KToKICAgICAgICAgICAgICAgICAg
ICBmb3IgZWxlbSBpbiBbJ3gnLCAneScsICd6J106CiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRl
ci5hcHBlbmQoJ1Bvc18lc18lcyVzLiVzJyAlKHBvcywgYmFzZSwgYmFzZTEsIGVsZW0pKQogICAgICAg
IGVuY29kaW5ncy5hcHBlbmQoaGVhZGVyKQoKICAgICAgICBmb3IgZWxlbSBpbiBzZWxmLmZhc3RhX2xp
c3Q6CiAgICAgICAgICAgIG5hbWUsIHNlcXVlbmNlLCBsYWJlbCA9IGVsZW1bMF0sIHJlLnN1YignLScs
ICcnLCBlbGVtWzFdKSwgZWxlbVsyXQogICAgICAgICAgICBjb2RlID0gW25hbWUsIGxhYmVsXQogICAg
ICAgICAgICBwb3MxX2RpY3QgPSB7fQogICAgICAgICAgICBwb3MyX2RpY3QgPSB7fQogICAgICAgICAg
ICBwb3MzX2RpY3QgPSB7fQogICAgICAgICAgICBmb3IgaSBpbiByYW5nZShsZW4oc2VxdWVuY2UpIC0g
Mik6CiAgICAgICAgICAgICAgICBpZiAoaSsxKSAlIDMgPT0gMToKICAgICAgICAgICAgICAgICAgICBp
ZiBzZXF1ZW5jZVtpOiBpKzNdIGluIHBvczFfZGljdDoKICAgICAgICAgICAgICAgICAgICAgICAgcG9z
MV9kaWN0W3NlcXVlbmNlW2k6IGkrM11dICs9IDEKICAgICAgICAgICAgICAgICAgICBlbHNlOgogICAg
ICAgICAgICAgICAgICAgICAgICBwb3MxX2RpY3Rbc2VxdWVuY2VbaTogaSszXV0gPSAxCiAgICAgICAg
ICAgICAgICBlbGlmIChpKzEpICUgMyA9PSAyOgogICAgICAgICAgICAgICAgICAgIGlmIHNlcXVlbmNl
W2k6IGkrM10gaW4gcG9zMl9kaWN0OgogICAgICAgICAgICAgICAgICAgICAgICBwb3MyX2RpY3Rbc2Vx
dWVuY2VbaTogaSszXV0gKz0gMQogICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAg
ICAgICAgICAgIHBvczJfZGljdFtzZXF1ZW5jZVtpOiBpKzNdXSA9IDEKICAgICAgICAgICAgICAgIGVs
aWYgKGkrMSkgJSAzID09IDA6CiAgICAgICAgICAgICAgICAgICAgaWYgc2VxdWVuY2VbaTogaSszXSBp
biBwb3MzX2RpY3Q6CiAgICAgICAgICAgICAgICAgICAgICAgIHBvczNfZGljdFtzZXF1ZW5jZVtpOiBp
KzNdXSArPSAxCiAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAg
cG9zM19kaWN0W3NlcXVlbmNlW2k6IGkrM11dID0gMQoKICAgICAgICAgICAgZm9yIGJhc2UgaW4gTk46
CiAgICAgICAgICAgICAgICBmb3IgYmFzZTEgaW4gTk46CiAgICAgICAgICAgICAgICAgICAgY29kZSAr
PSBbCiAgICAgICAgICAgICAgICAgICAgICAgIChwb3MxX2RpY3QuZ2V0KCclcyVzQScgJShiYXNlLCBi
YXNlMSksIDApICsgcG9zMV9kaWN0LmdldCgnJXMlc0cnICUoYmFzZSwgYmFzZTEpLCAwKSAtIHBvczFf
ZGljdC5nZXQoJyVzJXNDJyAlKGJhc2UsIGJhc2UxKSwgMCkgLSBwb3MxX2RpY3QuZ2V0KCclcyVzVCcg
JShiYXNlLCBiYXNlMSksIDApKSAvIChsZW4oc2VxdWVuY2UpIC0gMiksICMgeAogICAgICAgICAgICAg
ICAgICAgICAgICAocG9zMV9kaWN0LmdldCgnJXMlc0EnICUoYmFzZSwgYmFzZTEpLCAwKSArIHBvczFf
ZGljdC5nZXQoJyVzJXNDJyAlKGJhc2UsIGJhc2UxKSwgMCkgLSBwb3MxX2RpY3QuZ2V0KCclcyVzRycg
JShiYXNlLCBiYXNlMSksIDApIC0gcG9zMV9kaWN0LmdldCgnJXMlc1QnICUoYmFzZSwgYmFzZTEpLCAw
KSkgLyAobGVuKHNlcXVlbmNlKSAtIDIpLCAjIHkKICAgICAgICAgICAgICAgICAgICAgICAgKHBvczFf
ZGljdC5nZXQoJyVzJXNBJyAlKGJhc2UsIGJhc2UxKSwgMCkgKyBwb3MxX2RpY3QuZ2V0KCclcyVzVCcg
JShiYXNlLCBiYXNlMSksIDApIC0gcG9zMV9kaWN0LmdldCgnJXMlc0cnICUoYmFzZSwgYmFzZTEpLCAw
KSAtIHBvczFfZGljdC5nZXQoJyVzJXNDJyAlKGJhc2UsIGJhc2UxKSwgMCkpIC8gKGxlbihzZXF1ZW5j
ZSkgLSAyKSAgIyB6CiAgICAgICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgICAgICBj
b2RlICs9IFsKICAgICAgICAgICAgICAgICAgICAgICAgKHBvczJfZGljdC5nZXQoJyVzJXNBJyAlKGJh
c2UsIGJhc2UxKSwgMCkgKyBwb3MyX2RpY3QuZ2V0KCclcyVzRycgJShiYXNlLCBiYXNlMSksIDApIC0g
cG9zMl9kaWN0LmdldCgnJXMlc0MnICUoYmFzZSwgYmFzZTEpLCAwKSAtIHBvczJfZGljdC5nZXQoJyVz
JXNUJyAlKGJhc2UsIGJhc2UxKSwgMCkpIC8gKGxlbihzZXF1ZW5jZSkgLSAyKSwgIyB4CiAgICAgICAg
ICAgICAgICAgICAgICAgIChwb3MyX2RpY3QuZ2V0KCclcyVzQScgJShiYXNlLCBiYXNlMSksIDApICsg
cG9zMl9kaWN0LmdldCgnJXMlc0MnICUoYmFzZSwgYmFzZTEpLCAwKSAtIHBvczJfZGljdC5nZXQoJyVz
JXNHJyAlKGJhc2UsIGJhc2UxKSwgMCkgLSBwb3MyX2RpY3QuZ2V0KCclcyVzVCcgJShiYXNlLCBiYXNl
MSksIDApKSAvIChsZW4oc2VxdWVuY2UpIC0gMiksICMgeQogICAgICAgICAgICAgICAgICAgICAgICAo
cG9zMl9kaWN0LmdldCgnJXMlc0EnICUoYmFzZSwgYmFzZTEpLCAwKSArIHBvczJfZGljdC5nZXQoJyVz
JXNUJyAlKGJhc2UsIGJhc2UxKSwgMCkgLSBwb3MyX2RpY3QuZ2V0KCclcyVzRycgJShiYXNlLCBiYXNl
MSksIDApIC0gcG9zMl9kaWN0LmdldCgnJXMlc0MnICUoYmFzZSwgYmFzZTEpLCAwKSkgLyAobGVuKHNl
cXVlbmNlKSAtIDIpICAjIHoKICAgICAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAg
ICAgIGNvZGUgKz0gWwogICAgICAgICAgICAgICAgICAgICAgICAocG9zM19kaWN0LmdldCgnJXMlc0En
ICUoYmFzZSwgYmFzZTEpLCAwKSArIHBvczNfZGljdC5nZXQoJyVzJXNHJyAlKGJhc2UsIGJhc2UxKSwg
MCkgLSBwb3MzX2RpY3QuZ2V0KCclcyVzQycgJShiYXNlLCBiYXNlMSksIDApIC0gcG9zM19kaWN0Lmdl
dCgnJXMlc1QnICUoYmFzZSwgYmFzZTEpLCAwKSkgLyAobGVuKHNlcXVlbmNlKSAtIDIpLCAjIHgKICAg
ICAgICAgICAgICAgICAgICAgICAgKHBvczNfZGljdC5nZXQoJyVzJXNBJyAlKGJhc2UsIGJhc2UxKSwg
MCkgKyBwb3MzX2RpY3QuZ2V0KCclcyVzQycgJShiYXNlLCBiYXNlMSksIDApIC0gcG9zM19kaWN0Lmdl
dCgnJXMlc0cnICUoYmFzZSwgYmFzZTEpLCAwKSAtIHBvczNfZGljdC5nZXQoJyVzJXNUJyAlKGJhc2Us
IGJhc2UxKSwgMCkpIC8gKGxlbihzZXF1ZW5jZSkgLSAyKSwgIyB5CiAgICAgICAgICAgICAgICAgICAg
ICAgIChwb3MzX2RpY3QuZ2V0KCclcyVzQScgJShiYXNlLCBiYXNlMSksIDApICsgcG9zM19kaWN0Lmdl
dCgnJXMlc1QnICUoYmFzZSwgYmFzZTEpLCAwKSAtIHBvczNfZGljdC5nZXQoJyVzJXNHJyAlKGJhc2Us
IGJhc2UxKSwgMCkgLSBwb3MzX2RpY3QuZ2V0KCclcyVzQycgJShiYXNlLCBiYXNlMSksIDApKSAvIChs
ZW4oc2VxdWVuY2UpIC0gMikgICMgegogICAgICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAg
IGVuY29kaW5ncy5hcHBlbmQoY29kZSkKCiAgICAgICAgc2VsZi5lbmNvZGluZ19hcnJheSA9IG5wLmFy
cmF5KFtdKQogICAgICAgIHNlbGYuZW5jb2RpbmdfYXJyYXkgPSBucC5hcnJheShlbmNvZGluZ3MsIGR0
eXBlPXN0cikKICAgICAgICBzZWxmLmNvbHVtbiA9IHNlbGYuZW5jb2RpbmdfYXJyYXkuc2hhcGVbMV0K
ICAgICAgICBzZWxmLnJvdyA9IHNlbGYuZW5jb2RpbmdfYXJyYXkuc2hhcGVbMF0gLSAxCiAgICAgICAg
ZGVsIGVuY29kaW5ncwogICAgICAgIGlmIHNlbGYuZW5jb2RpbmdfYXJyYXkuc2hhcGVbMF0gPiAxOgog
ICAgICAgICAgICByZXR1cm4gVHJ1ZQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJldHVybiBGYWxz
ZQoKICAgIGRlZiBOTUJyb3RvKHNlbGYpOgogICAgICAgIHNlbGYuZW5jb2RpbmdfYXJyYXkgPSBucC5h
cnJheShbXSkKCiAgICAgICAgaWYgc2VsZi5zZXF1ZW5jZV90eXBlID09ICdETkEnOgogICAgICAgICAg
ICBmaWxlX25hbWUgPSAnZGlkbmFQaHljaGUuZGF0YScKICAgICAgICAgICAgcHJvcGVydHlfbmFtZSA9
IHNlbGYua3dbJ0RpLUROQS1QaHljaGVtJ10uc3BsaXQoJzsnKQogICAgICAgIGVsc2U6CiAgICAgICAg
ICAgIGZpbGVfbmFtZSA9ICdkaXJuYVBoeWNoZS5kYXRhJwogICAgICAgICAgICBwcm9wZXJ0eV9uYW1l
ID0gc2VsZi5rd1snRGktUk5BLVBoeWNoZW0nXS5zcGxpdCgnOycpCiAgICAgICAgdHJ5OgogICAgICAg
ICAgICBkYXRhX2ZpbGUgPSBvcy5wYXRoLnNwbGl0KG9zLnBhdGgucmVhbHBhdGgoX19maWxlX18pKVsw
XSArIHInXGRhdGFcJXMnICVmaWxlX25hbWUgaWYgcGxhdGZvcm0uc3lzdGVtKCkgPT0gJ1dpbmRvd3Mn
IGVsc2Ugb3MucGF0aC5zcGxpdChvcy5wYXRoLnJlYWxwYXRoKF9fZmlsZV9fKSlbMF0gKyByJy9kYXRh
LyVzJyAlZmlsZV9uYW1lCiAgICAgICAgICAgIHdpdGggb3BlbihkYXRhX2ZpbGUsICdyYicpIGFzIGhh
bmRsZToKICAgICAgICAgICAgICAgIHByb3BlcnR5X2RpY3QgPSBwaWNrbGUubG9hZChoYW5kbGUpCiAg
ICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICBzZWxmLmVycm9yX21zZyA9ICdD
b3VsZCBub3QgZmluZCB0aGUgcGh5c2ljb2NoZW1pY2FsIHByb3BlcnRpZXMgZmlsZS4nCiAgICAgICAg
ICAgIHJldHVybiBGYWxzZQogICAgICAgIG5sYWcgPSBzZWxmLmt3WydubGFnJ10KCiAgICAgICAgIyB2
YWx1ZSBub3JtYWxpemF0aW9uCiAgICAgICAgZm9yIHBfbmFtZSBpbiBwcm9wZXJ0eV9uYW1lOgogICAg
ICAgICAgICB0bXAgPSBucC5hcnJheShwcm9wZXJ0eV9kaWN0W3BfbmFtZV0sIGR0eXBlPWZsb2F0KQog
ICAgICAgICAgICBwbWVhbiA9IG5wLmF2ZXJhZ2UodG1wKQogICAgICAgICAgICBwc3RkID0gbnAuc3Rk
KHRtcCkKICAgICAgICAgICAgcHJvcGVydHlfZGljdFtwX25hbWVdID0gWyhlbGVtIC0gcG1lYW4pIC8g
cHN0ZCBmb3IgZWxlbSBpbiB0bXBdCgogICAgICAgIGJhc2UgPSAnQUNHVCcKICAgICAgICBlbmNvZGlu
Z3MgPSBbXQogICAgICAgIGhlYWRlciA9IFsnU2FtcGxlTmFtZScsICdsYWJlbCddCiAgICAgICAgZm9y
IHBfbmFtZSBpbiBwcm9wZXJ0eV9uYW1lOgogICAgICAgICAgICBmb3IgZCBpbiByYW5nZSgxLCBubGFn
ICsgMSk6CiAgICAgICAgICAgICAgICBoZWFkZXIuYXBwZW5kKHBfbmFtZSArICcubGFnJyArIHN0cihk
KSkKICAgICAgICBlbmNvZGluZ3MuYXBwZW5kKGhlYWRlcikKCiAgICAgICAgQUFEaWN0ID0ge30KICAg
ICAgICBBQV9saXN0ID0gW2FhMSArIGFhMiBmb3IgYWExIGluIGJhc2UgZm9yIGFhMiBpbiBiYXNlXQog
ICAgICAgIGZvciBpIGluIHJhbmdlKGxlbihBQV9saXN0KSk6CiAgICAgICAgICAgIEFBRGljdFtBQV9s
aXN0W2ldXSA9IGkKCiAgICAgICAgZm9yIGVsZW0gaW4gc2VsZi5mYXN0YV9saXN0OgogICAgICAgICAg
ICBuYW1lLCBzZXF1ZW5jZSwgbGFiZWwgPSBlbGVtWzBdLCByZS5zdWIoJy0nLCAnJywgZWxlbVsxXSks
IGVsZW1bMl0KICAgICAgICAgICAgY29kZSA9IFtuYW1lLCBsYWJlbF0KICAgICAgICAgICAgTiA9IGxl
bihzZXF1ZW5jZSkgLSAxCiAgICAgICAgICAgIGZvciBwX25hbWUgaW4gcHJvcGVydHlfbmFtZToKICAg
ICAgICAgICAgICAgIGZvciBkIGluIHJhbmdlKDEsIG5sYWcgKyAxKToKICAgICAgICAgICAgICAgICAg
ICB0cnk6CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIE4gPiBubGFnOgogICAgICAgICAgICAgICAg
ICAgICAgICAgICAgYXRzZCA9IHN1bShbZmxvYXQocHJvcGVydHlfZGljdFtwX25hbWVdW0FBRGljdFtz
ZXF1ZW5jZVtqOiBqKzJdXV0pICogZmxvYXQocHJvcGVydHlfZGljdFtwX25hbWVdW0FBRGljdFtzZXF1
ZW5jZVtqK2Q6IGorZCsyXV1dKSBmb3IgaiBpbiByYW5nZShOLWQpXSkgLyAoTiAtIGQpCiAgICAgICAg
ICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHNkID0gMAog
ICAgICAgICAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgICAgICAg
ICAgICAgYXRzZCA9IDAKICAgICAgICAgICAgICAgICAgICBjb2RlLmFwcGVuZChhdHNkKQogICAgICAg
ICAgICBlbmNvZGluZ3MuYXBwZW5kKGNvZGUpCgogICAgICAgIHNlbGYuZW5jb2RpbmdfYXJyYXkgPSBu
cC5hcnJheShbXSkKICAgICAgICBzZWxmLmVuY29kaW5nX2FycmF5ID0gbnAuYXJyYXkoZW5jb2Rpbmdz
LCBkdHlwZT1zdHIpCiAgICAgICAgc2VsZi5jb2x1bW4gPSBzZWxmLmVuY29kaW5nX2FycmF5LnNoYXBl
WzFdCiAgICAgICAgc2VsZi5yb3cgPSBzZWxmLmVuY29kaW5nX2FycmF5LnNoYXBlWzBdIC0gMQogICAg
ICAgIGRlbCBlbmNvZGluZ3MKICAgICAgICBpZiBzZWxmLmVuY29kaW5nX2FycmF5LnNoYXBlWzBdID4g
MToKICAgICAgICAgICAgcmV0dXJuIFRydWUKICAgICAgICBlbHNlOgogICAgICAgICAgICByZXR1cm4g
RmFsc2UKCiAgICBkZWYgTW9yYW4oc2VsZik6CiAgICAgICAgc2VsZi5lbmNvZGluZ19hcnJheSA9IG5w
LmFycmF5KFtdKQoKICAgICAgICBpZiBzZWxmLnNlcXVlbmNlX3R5cGUgPT0gJ0ROQSc6CiAgICAgICAg
ICAgIGZpbGVfbmFtZSA9ICdkaWRuYVBoeWNoZS5kYXRhJwogICAgICAgICAgICBwcm9wZXJ0eV9uYW1l
ID0gc2VsZi5rd1snRGktRE5BLVBoeWNoZW0nXS5zcGxpdCgnOycpCiAgICAgICAgZWxzZToKICAgICAg
ICAgICAgZmlsZV9uYW1lID0gJ2Rpcm5hUGh5Y2hlLmRhdGEnCiAgICAgICAgICAgIHByb3BlcnR5X25h
bWUgPSBzZWxmLmt3WydEaS1STkEtUGh5Y2hlbSddLnNwbGl0KCc7JykKICAgICAgICB0cnk6CiAgICAg
ICAgICAgIGRhdGFfZmlsZSA9IG9zLnBhdGguc3BsaXQob3MucGF0aC5yZWFscGF0aChfX2ZpbGVfXykp
WwogICAgICAgICAgICAgICAgICAgICAgICAgICAgMF0gKyByJ1xkYXRhXCVzJyAlIGZpbGVfbmFtZSBp
ZiBwbGF0Zm9ybS5zeXN0ZW0oKSA9PSAnV2luZG93cycgZWxzZSBcCiAgICAgICAgICAgIG9zLnBhdGgu
c3BsaXQob3MucGF0aC5yZWFscGF0aChfX2ZpbGVfXykpWzBdICsgcicvZGF0YS8lcycgJSBmaWxlX25h
bWUKICAgICAgICAgICAgd2l0aCBvcGVuKGRhdGFfZmlsZSwgJ3JiJykgYXMgaGFuZGxlOgogICAgICAg
ICAgICAgICAgcHJvcGVydHlfZGljdCA9IHBpY2tsZS5sb2FkKGhhbmRsZSkKICAgICAgICBleGNlcHQg
RXhjZXB0aW9uIGFzIGU6CiAgICAgICAgICAgIHNlbGYuZXJyb3JfbXNnID0gJ0NvdWxkIG5vdCBmaW5k
IHRoZSBwaHlzaWNvY2hlbWljYWwgcHJvcGVydGllcyBmaWxlLicKICAgICAgICAgICAgcmV0dXJuIEZh
bHNlCiAgICAgICAgbmxhZyA9IHNlbGYua3dbJ25sYWcnXQoKICAgICAgICAjIHZhbHVlIG5vcm1hbGl6
YXRpb24KICAgICAgICBmb3IgcF9uYW1lIGluIHByb3BlcnR5X25hbWU6CiAgICAgICAgICAgIHRtcCA9
IG5wLmFycmF5KHByb3BlcnR5X2RpY3RbcF9uYW1lXSwgZHR5cGU9ZmxvYXQpCiAgICAgICAgICAgIHBt
ZWFuID0gbnAuYXZlcmFnZSh0bXApCiAgICAgICAgICAgIHBzdGQgPSBucC5zdGQodG1wKQogICAgICAg
ICAgICBwcm9wZXJ0eV9kaWN0W3BfbmFtZV0gPSBbKGVsZW0gLSBwbWVhbikgLyBwc3RkIGZvciBlbGVt
IGluIHRtcF0KCiAgICAgICAgYmFzZSA9ICdBQ0dUJwogICAgICAgIGVuY29kaW5ncyA9IFtdCiAgICAg
ICAgaGVhZGVyID0gWydTYW1wbGVOYW1lJywgJ2xhYmVsJ10KICAgICAgICBmb3IgcF9uYW1lIGluIHBy
b3BlcnR5X25hbWU6CiAgICAgICAgICAgIGZvciBkIGluIHJhbmdlKDEsIG5sYWcgKyAxKToKICAgICAg
ICAgICAgICAgIGhlYWRlci5hcHBlbmQocF9uYW1lICsgJy5sYWcnICsgc3RyKGQpKQogICAgICAgIGVu
Y29kaW5ncy5hcHBlbmQoaGVhZGVyKQoKICAgICAgICBBQURpY3QgPSB7fQogICAgICAgIEFBX2xpc3Qg
PSBbYWExICsgYWEyIGZvciBhYTEgaW4gYmFzZSBmb3IgYWEyIGluIGJhc2VdCiAgICAgICAgZm9yIGkg
aW4gcmFuZ2UobGVuKEFBX2xpc3QpKToKICAgICAgICAgICAgQUFEaWN0W0FBX2xpc3RbaV1dID0gaQoK
ICAgICAgICBmb3IgZWxlbSBpbiBzZWxmLmZhc3RhX2xpc3Q6CiAgICAgICAgICAgIG5hbWUsIHNlcXVl
bmNlLCBsYWJlbCA9IGVsZW1bMF0sIHJlLnN1YignLScsICcnLCBlbGVtWzFdKSwgZWxlbVsyXQogICAg
ICAgICAgICBjb2RlID0gW25hbWUsIGxhYmVsXQogICAgICAgICAgICBOID0gbGVuKHNlcXVlbmNlKSAt
IDEKICAgICAgICAgICAgZm9yIHBfbmFtZSBpbiBwcm9wZXJ0eV9uYW1lOgogICAgICAgICAgICAgICAg
cG1lYW4gPSBzdW0oW3Byb3BlcnR5X2RpY3RbcF9uYW1lXVtBQURpY3Rbc2VxdWVuY2VbaTogaSsyXV1d
IGZvciBpIGluIHJhbmdlKE4pXSkgLyBOCiAgICAgICAgICAgICAgICBmb3IgZCBpbiByYW5nZSgxLCBu
bGFnICsgMSk6CiAgICAgICAgICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgICAgICAgICBJ
ZHVwID0gc3VtKFsocHJvcGVydHlfZGljdFtwX25hbWVdW0FBRGljdFtzZXF1ZW5jZVtqOiBqKzJdXV0g
LSBwbWVhbikgKiAocHJvcGVydHlfZGljdFtwX25hbWVdW0FBRGljdFtzZXF1ZW5jZVtqK2Q6IGorZCsy
XV1dIC0gcG1lYW4pIGZvciBqIGluIHJhbmdlKE4tZCldKSAvIChOIC0gZCkKICAgICAgICAgICAgICAg
ICAgICAgICAgSWRkb3duID0gc3VtKFsocHJvcGVydHlfZGljdFtwX25hbWVdW0FBRGljdFtzZXF1ZW5j
ZVtqOiBqKzJdXV0gLSBwbWVhbikgKiogMiBmb3IgaiBpbiByYW5nZShOLWQpXSkgLyBOCiAgICAgICAg
ICAgICAgICAgICAgICAgIGNvZGUuYXBwZW5kKElkdXAvSWRkb3duKQogICAgICAgICAgICAgICAgICAg
IGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgICAgICAgICAgICAgY29kZS5hcHBlbmQo
MCkKICAgICAgICAgICAgZW5jb2RpbmdzLmFwcGVuZChjb2RlKQoKICAgICAgICBzZWxmLmVuY29kaW5n
X2FycmF5ID0gbnAuYXJyYXkoW10pCiAgICAgICAgc2VsZi5lbmNvZGluZ19hcnJheSA9IG5wLmFycmF5
KGVuY29kaW5ncywgZHR5cGU9c3RyKQogICAgICAgIHNlbGYuY29sdW1uID0gc2VsZi5lbmNvZGluZ19h
cnJheS5zaGFwZVsxXQogICAgICAgIHNlbGYucm93ID0gc2VsZi5lbmNvZGluZ19hcnJheS5zaGFwZVsw
XSAtIDEKICAgICAgICBkZWwgZW5jb2RpbmdzCiAgICAgICAgaWYgc2VsZi5lbmNvZGluZ19hcnJheS5z
aGFwZVswXSA+IDE6CiAgICAgICAgICAgIHJldHVybiBUcnVlCiAgICAgICAgZWxzZToKICAgICAgICAg
ICAgcmV0dXJuIEZhbHNlCgogICAgZGVmIEdlYXJ5KHNlbGYpOgogICAgICAgIHNlbGYuZW5jb2Rpbmdf
YXJyYXkgPSBucC5hcnJheShbXSkKCiAgICAgICAgaWYgc2VsZi5zZXF1ZW5jZV90eXBlID09ICdETkEn
OgogICAgICAgICAgICBmaWxlX25hbWUgPSAnZGlkbmFQaHljaGUuZGF0YScKICAgICAgICAgICAgcHJv
cGVydHlfbmFtZSA9IHNlbGYua3dbJ0RpLUROQS1QaHljaGVtJ10uc3BsaXQoJzsnKQogICAgICAgIGVs
c2U6CiAgICAgICAgICAgIGZpbGVfbmFtZSA9ICdkaXJuYVBoeWNoZS5kYXRhJwogICAgICAgICAgICBw
cm9wZXJ0eV9uYW1lID0gc2VsZi5rd1snRGktUk5BLVBoeWNoZW0nXS5zcGxpdCgnOycpCiAgICAgICAg
dHJ5OgogICAgICAgICAgICBkYXRhX2ZpbGUgPSBvcy5wYXRoLnNwbGl0KG9zLnBhdGgucmVhbHBhdGgo
X19maWxlX18pKVsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDBdICsgcidcZGF0YVwlcycgJSBm
aWxlX25hbWUgaWYgcGxhdGZvcm0uc3lzdGVtKCkgPT0gJ1dpbmRvd3MnIGVsc2UgXAogICAgICAgICAg
ICAgICAgb3MucGF0aC5zcGxpdChvcy5wYXRoLnJlYWxwYXRoKF9fZmlsZV9fKSlbMF0gKyByJy9kYXRh
LyVzJyAlIGZpbGVfbmFtZQogICAgICAgICAgICB3aXRoIG9wZW4oZGF0YV9maWxlLCAncmInKSBhcyBo
YW5kbGU6CiAgICAgICAgICAgICAgICBwcm9wZXJ0eV9kaWN0ID0gcGlja2xlLmxvYWQoaGFuZGxlKQog
ICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgc2VsZi5lcnJvcl9tc2cgPSAn
Q291bGQgbm90IGZpbmQgdGhlIHBoeXNpY29jaGVtaWNhbCBwcm9wZXJ0aWVzIGZpbGUuJwogICAgICAg
ICAgICByZXR1cm4gRmFsc2UKICAgICAgICBubGFnID0gc2VsZi5rd1snbmxhZyddCgogICAgICAgICMg
dmFsdWUgbm9ybWFsaXphdGlvbgogICAgICAgIGZvciBwX25hbWUgaW4gcHJvcGVydHlfbmFtZToKICAg
ICAgICAgICAgdG1wID0gbnAuYXJyYXkocHJvcGVydHlfZGljdFtwX25hbWVdLCBkdHlwZT1mbG9hdCkK
ICAgICAgICAgICAgcG1lYW4gPSBucC5hdmVyYWdlKHRtcCkKICAgICAgICAgICAgcHN0ZCA9IG5wLnN0
ZCh0bXApCiAgICAgICAgICAgIHByb3BlcnR5X2RpY3RbcF9uYW1lXSA9IFsoZWxlbSAtIHBtZWFuKSAv
IHBzdGQgZm9yIGVsZW0gaW4gdG1wXQoKICAgICAgICBiYXNlID0gJ0FDR1QnCiAgICAgICAgZW5jb2Rp
bmdzID0gW10KICAgICAgICBoZWFkZXIgPSBbJ1NhbXBsZU5hbWUnLCAnbGFiZWwnXQogICAgICAgIGZv
ciBwX25hbWUgaW4gcHJvcGVydHlfbmFtZToKICAgICAgICAgICAgZm9yIGQgaW4gcmFuZ2UoMSwgbmxh
ZyArIDEpOgogICAgICAgICAgICAgICAgaGVhZGVyLmFwcGVuZChwX25hbWUgKyAnLmxhZycgKyBzdHIo
ZCkpCiAgICAgICAgZW5jb2RpbmdzLmFwcGVuZChoZWFkZXIpCgogICAgICAgIEFBRGljdCA9IHt9CiAg
ICAgICAgQUFfbGlzdCA9IFthYTEgKyBhYTIgZm9yIGFhMSBpbiBiYXNlIGZvciBhYTIgaW4gYmFzZV0K
ICAgICAgICBmb3IgaSBpbiByYW5nZShsZW4oQUFfbGlzdCkpOgogICAgICAgICAgICBBQURpY3RbQUFf
bGlzdFtpXV0gPSBpCgogICAgICAgIGZvciBlbGVtIGluIHNlbGYuZmFzdGFfbGlzdDoKICAgICAgICAg
ICAgbmFtZSwgc2VxdWVuY2UsIGxhYmVsID0gZWxlbVswXSwgcmUuc3ViKCctJywgJycsIGVsZW1bMV0p
LCBlbGVtWzJdCiAgICAgICAgICAgIGNvZGUgPSBbbmFtZSwgbGFiZWxdCiAgICAgICAgICAgIE4gPSBs
ZW4oc2VxdWVuY2UpIC0gMQogICAgICAgICAgICBmb3IgcF9uYW1lIGluIHByb3BlcnR5X25hbWU6CiAg
ICAgICAgICAgICAgICBwbWVhbiA9IHN1bShbcHJvcGVydHlfZGljdFtwX25hbWVdW0FBRGljdFtzZXF1
ZW5jZVtpOiBpICsgMl1dXSBmb3IgaSBpbiByYW5nZShOKV0pIC8gTgogICAgICAgICAgICAgICAgZm9y
IGQgaW4gcmFuZ2UoMSwgbmxhZyArIDEpOgogICAgICAgICAgICAgICAgICAgIHRyeToKICAgICAgICAg
ICAgICAgICAgICAgICAgQ2R1cCA9IHN1bShbKHByb3BlcnR5X2RpY3RbcF9uYW1lXVtBQURpY3Rbc2Vx
dWVuY2VbajogaisyXV1dIC0gcHJvcGVydHlfZGljdFtwX25hbWVdW0FBRGljdFtzZXF1ZW5jZVtqK2Q6
IGorZCsyXV1dKSAqKiAyIGZvciBqIGluIHJhbmdlKE4gLSBkKV0pIC8gKDIgKiAoTiAtIGQpKQogICAg
ICAgICAgICAgICAgICAgICAgICBDZGRvd24gPSBzdW0oWyhwcm9wZXJ0eV9kaWN0W3BfbmFtZV1bQUFE
aWN0W3NlcXVlbmNlW2o6IGorMl1dXSAtIHBtZWFuKSAqKiAyIGZvciBqIGluIHJhbmdlKE4gLSBkKV0p
IC8gKE4gLSAxKQogICAgICAgICAgICAgICAgICAgICAgICBjb2RlLmFwcGVuZChDZHVwIC8gQ2Rkb3du
KQogICAgICAgICAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgICAg
ICAgICAgICAgY29kZS5hcHBlbmQoMCkKICAgICAgICAgICAgZW5jb2RpbmdzLmFwcGVuZChjb2RlKQoK
ICAgICAgICBzZWxmLmVuY29kaW5nX2FycmF5ID0gbnAuYXJyYXkoW10pCiAgICAgICAgc2VsZi5lbmNv
ZGluZ19hcnJheSA9IG5wLmFycmF5KGVuY29kaW5ncywgZHR5cGU9c3RyKQogICAgICAgIHNlbGYuY29s
dW1uID0gc2VsZi5lbmNvZGluZ19hcnJheS5zaGFwZVsxXQogICAgICAgIHNlbGYucm93ID0gc2VsZi5l
bmNvZGluZ19hcnJheS5zaGFwZVswXSAtIDEKICAgICAgICBkZWwgZW5jb2RpbmdzCiAgICAgICAgaWYg
c2VsZi5lbmNvZGluZ19hcnJheS5zaGFwZVswXSA+IDE6CiAgICAgICAgICAgIHJldHVybiBUcnVlCiAg
ICAgICAgZWxzZToKICAgICAgICAgICAgcmV0dXJuIEZhbHNlCgogICAgZGVmIGdlbmVyYXRlUHJvcGVy
dHlQYWlycyhzZWxmLCBteVByb3BlcnR5TmFtZSk6CiAgICAgICAgcGFpcnMgPSBbXQogICAgICAgIGZv
ciBpIGluIHJhbmdlKGxlbihteVByb3BlcnR5TmFtZSkpOgogICAgICAgICAgICBmb3IgaiBpbiByYW5n
ZShpICsgMSwgbGVuKG15UHJvcGVydHlOYW1lKSk6CiAgICAgICAgICAgICAgICBwYWlycy5hcHBlbmQo
W215UHJvcGVydHlOYW1lW2ldLCBteVByb3BlcnR5TmFtZVtqXV0pCiAgICAgICAgICAgICAgICBwYWly
cy5hcHBlbmQoW215UHJvcGVydHlOYW1lW2pdLCBteVByb3BlcnR5TmFtZVtpXV0pCiAgICAgICAgcmV0
dXJuIHBhaXJzCgogICAgZGVmIG1ha2VfYWNfdmVjdG9yKHNlbGYsIG15UHJvcGVydHlOYW1lLCBteVBy
b3BlcnR5VmFsdWUsIGttZXIpOgogICAgICAgIGZhc3RhcyA9IHNlbGYuZmFzdGFfbGlzdAogICAgICAg
IGxhZyA9IHNlbGYua3dbJ25sYWcnXQoKICAgICAgICBlbmNvZGluZ3MgPSBbXQogICAgICAgIG15SW5k
ZXggPSBzZWxmLm15RGlJbmRleCBpZiBrbWVyID09IDIgZWxzZSBzZWxmLm15VHJpSW5kZXgKICAgICAg
ICBoZWFkZXIgPSBbJ1NhbXBsZU5hbWUnLCAnbGFiZWwnXQogICAgICAgIGZvciBwIGluIG15UHJvcGVy
dHlOYW1lOgogICAgICAgICAgICBmb3IgbCBpbiByYW5nZSgxLCBsYWcgKyAxKToKICAgICAgICAgICAg
ICAgIGhlYWRlci5hcHBlbmQoJyVzLmxhZyVkJyAlIChwLCBsKSkKICAgICAgICBlbmNvZGluZ3MuYXBw
ZW5kKGhlYWRlcikKCiAgICAgICAgZm9yIGkgaW4gZmFzdGFzOgogICAgICAgICAgICAjIHByaW50KGlb
MF0pCiAgICAgICAgICAgIG5hbWUsIHNlcXVlbmNlLCBsYWJlbCA9IGlbMF0sIHJlLnN1YignLScsICcn
LCBpWzFdKSwgaVsyXQogICAgICAgICAgICBjb2RlID0gW25hbWUsIGxhYmVsXQoKICAgICAgICAgICAg
Zm9yIHAgaW4gbXlQcm9wZXJ0eU5hbWU6CiAgICAgICAgICAgICAgICBtZWFuVmFsdWUgPSAwCiAgICAg
ICAgICAgICAgICAjIGZvciBqIGluIHJhbmdlKGxlbihzZXF1ZW5jZSkgLSBrbWVyKToKICAgICAgICAg
ICAgICAgIGZvciBqIGluIHJhbmdlKGxlbihzZXF1ZW5jZSkgLSBrbWVyICsgMSk6CiAgICAgICAgICAg
ICAgICAgICAgbWVhblZhbHVlID0gbWVhblZhbHVlICsgZmxvYXQobXlQcm9wZXJ0eVZhbHVlW3BdW215
SW5kZXhbc2VxdWVuY2VbajogaiArIGttZXJdXV0pCiAgICAgICAgICAgICAgICAjIG1lYW5WYWx1ZSA9
IG1lYW5WYWx1ZSAvIChsZW4oc2VxdWVuY2UpIC0ga21lcikKICAgICAgICAgICAgICAgIG1lYW5WYWx1
ZSA9IG1lYW5WYWx1ZSAvIChsZW4oc2VxdWVuY2UpIC0ga21lciArIDEpCgogICAgICAgICAgICAgICAg
Zm9yIGwgaW4gcmFuZ2UoMSwgbGFnICsgMSk6CiAgICAgICAgICAgICAgICAgICAgYWNWYWx1ZSA9IDAK
ICAgICAgICAgICAgICAgICAgICBmb3IgaiBpbiByYW5nZShsZW4oc2VxdWVuY2UpIC0ga21lciAtIGwg
KyAxKToKICAgICAgICAgICAgICAgICAgICAgICAgIyBhY1ZhbHVlID0gYWNWYWx1ZSArIChmbG9hdCht
eVByb3BlcnR5VmFsdWVbcF1bbXlJbmRleFtzZXF1ZW5jZVtqOiBqK2ttZXJdXV0pIC0gbWVhblZhbHVl
KSAqIChmbG9hdChteVByb3BlcnR5VmFsdWVbcF1bbXlJbmRleFtzZXF1ZW5jZVtqK2w6aitsK2ttZXJd
XV0pKQogICAgICAgICAgICAgICAgICAgICAgICBhY1ZhbHVlID0gYWNWYWx1ZSArIChmbG9hdChteVBy
b3BlcnR5VmFsdWVbcF1bbXlJbmRleFtzZXF1ZW5jZVtqOiBqICsga21lcl1dXSkgLSBtZWFuVmFsdWUp
ICogKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsb2F0KG15UHJvcGVydHlWYWx1ZVtw
XVtteUluZGV4W3NlcXVlbmNlW2ogKyBsOmogKyBsICsga21lcl1dXSkgLSBtZWFuVmFsdWUpCiAgICAg
ICAgICAgICAgICAgICAgYWNWYWx1ZSA9IGFjVmFsdWUgLyAobGVuKHNlcXVlbmNlKSAtIGttZXIgLSBs
ICsgMSkKICAgICAgICAgICAgICAgICAgICAjIHByaW50KGFjVmFsdWUpCiAgICAgICAgICAgICAgICAg
ICAgY29kZS5hcHBlbmQoYWNWYWx1ZSkKICAgICAgICAgICAgZW5jb2RpbmdzLmFwcGVuZChjb2RlKQog
ICAgICAgIHNlbGYuZW5jb2RpbmdfYXJyYXkgPSBucC5hcnJheShbXSkKICAgICAgICBzZWxmLmVuY29k
aW5nX2FycmF5ID0gbnAuYXJyYXkoZW5jb2RpbmdzLCBkdHlwZT1zdHIpCiAgICAgICAgc2VsZi5jb2x1
bW4gPSBzZWxmLmVuY29kaW5nX2FycmF5LnNoYXBlWzFdCiAgICAgICAgc2VsZi5yb3cgPSBzZWxmLmVu
Y29kaW5nX2FycmF5LnNoYXBlWzBdIC0gMQogICAgICAgIGRlbCBlbmNvZGluZ3MKICAgICAgICBpZiBz
ZWxmLmVuY29kaW5nX2FycmF5LnNoYXBlWzBdID4gMToKICAgICAgICAgICAgcmV0dXJuIFRydWUKICAg
ICAgICBlbHNlOgogICAgICAgICAgICByZXR1cm4gRmFsc2UKCiAgICBkZWYgbWFrZV9jY192ZWN0b3Io
c2VsZiwgbXlQcm9wZXJ0eU5hbWUsIG15UHJvcGVydHlWYWx1ZSwga21lcik6CiAgICAgICAgZmFzdGFz
ID0gc2VsZi5mYXN0YV9saXN0CiAgICAgICAgbGFnID0gc2VsZi5rd1snbmxhZyddCgogICAgICAgIGVu
Y29kaW5ncyA9IFtdCiAgICAgICAgbXlJbmRleCA9IHNlbGYubXlEaUluZGV4IGlmIGttZXIgPT0gMiBl
bHNlIHNlbGYubXlUcmlJbmRleAogICAgICAgIGlmIGxlbihteVByb3BlcnR5TmFtZSkgPCAyOgogICAg
ICAgICAgICBzZWxmLmVycm9yX21zZyA9ICd0d28gb3IgbW9yZSBwcm9wZXJ0eSBhcmUgbmVlZGVkIGZv
ciBjcm9zcyBjb3ZhcmlhbmNlIChpLmUuIERDQyBhbmQgVENDKSBkZXNjcmlwdG9ycycKICAgICAgICAg
ICAgcmV0dXJuIEZhbHNlCiAgICAgICAgcHJvcGVydHlQYWlycyA9IHNlbGYuZ2VuZXJhdGVQcm9wZXJ0
eVBhaXJzKG15UHJvcGVydHlOYW1lKQogICAgICAgIGhlYWRlciA9IFsnU2FtcGxlTmFtZScsICdsYWJl
bCddICsgW25bMF0gKyAnLScgKyBuWzFdICsgJy1sYWcuJyArIHN0cihsKSBmb3IgbiBpbiBwcm9wZXJ0
eVBhaXJzIGZvciBsIGluCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
cmFuZ2UoMSwgbGFnICsgMSldCiAgICAgICAgZW5jb2RpbmdzLmFwcGVuZChoZWFkZXIpCgogICAgICAg
IGZvciBpIGluIGZhc3RhczoKICAgICAgICAgICAgbmFtZSwgc2VxdWVuY2UsIGxhYmVsID0gaVswXSwg
cmUuc3ViKCctJywgJycsIGlbMV0pLCBpWzJdCiAgICAgICAgICAgIGNvZGUgPSBbbmFtZSwgbGFiZWxd
CgogICAgICAgICAgICBmb3IgcGFpciBpbiBwcm9wZXJ0eVBhaXJzOgogICAgICAgICAgICAgICAgbWVh
blAxID0gMAogICAgICAgICAgICAgICAgbWVhblAyID0gMAogICAgICAgICAgICAgICAgIyBmb3IgaiBp
biByYW5nZShsZW4oc2VxdWVuY2UpIC0ga21lcik6CiAgICAgICAgICAgICAgICBmb3IgaiBpbiByYW5n
ZShsZW4oc2VxdWVuY2UpIC0ga21lciArIDEpOgogICAgICAgICAgICAgICAgICAgIG1lYW5QMSA9IG1l
YW5QMSArIGZsb2F0KG15UHJvcGVydHlWYWx1ZVtwYWlyWzBdXVtteUluZGV4W3NlcXVlbmNlW2o6IGog
KyBrbWVyXV1dKQogICAgICAgICAgICAgICAgICAgIG1lYW5QMiA9IG1lYW5QMiArIGZsb2F0KG15UHJv
cGVydHlWYWx1ZVtwYWlyWzFdXVtteUluZGV4W3NlcXVlbmNlW2o6IGogKyBrbWVyXV1dKQogICAgICAg
ICAgICAgICAgIyBtZWFuUDEgPSBtZWFuUDEgLyAobGVuKHNlcXVlbmNlKSAtIGttZXIpCiAgICAgICAg
ICAgICAgICAjIG1lYW5QMiA9IG1lYW5QMiAvIChsZW4oc2VxdWVuY2UpIC0ga21lcikKICAgICAgICAg
ICAgICAgIG1lYW5QMSA9IG1lYW5QMSAvIChsZW4oc2VxdWVuY2UpIC0ga21lciArIDEpCiAgICAgICAg
ICAgICAgICBtZWFuUDIgPSBtZWFuUDIgLyAobGVuKHNlcXVlbmNlKSAtIGttZXIgKyAxKQoKICAgICAg
ICAgICAgICAgIGZvciBsIGluIHJhbmdlKDEsIGxhZyArIDEpOgogICAgICAgICAgICAgICAgICAgIGNj
VmFsdWUgPSAwCiAgICAgICAgICAgICAgICAgICAgZm9yIGogaW4gcmFuZ2UobGVuKHNlcXVlbmNlKSAt
IGttZXIgLSBsICsgMSk6CiAgICAgICAgICAgICAgICAgICAgICAgIGNjVmFsdWUgPSBjY1ZhbHVlICsg
KAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsb2F0KG15UHJvcGVydHlWYWx1ZVtwYWly
WzBdXVtteUluZGV4W3NlcXVlbmNlW2o6IGogKyBrbWVyXV1dKSAtIG1lYW5QMSkgKiAoCiAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsb2F0KAogICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgbXlQcm9wZXJ0eVZhbHVlW3BhaXJbMV1dW215SW5kZXhb
c2VxdWVuY2VbaiArIGw6aiArIGwgKyBrbWVyXV1dKSAtIG1lYW5QMikKICAgICAgICAgICAgICAgICAg
ICBjY1ZhbHVlID0gY2NWYWx1ZSAvIChsZW4oc2VxdWVuY2UpIC0ga21lciAtIGwgKyAxKQogICAgICAg
ICAgICAgICAgICAgIGNvZGUuYXBwZW5kKGNjVmFsdWUpCiAgICAgICAgICAgIGVuY29kaW5ncy5hcHBl
bmQoY29kZSkKICAgICAgICBzZWxmLmVuY29kaW5nX2FycmF5ID0gbnAuYXJyYXkoW10pCiAgICAgICAg
c2VsZi5lbmNvZGluZ19hcnJheSA9IG5wLmFycmF5KGVuY29kaW5ncywgZHR5cGU9c3RyKQogICAgICAg
IHNlbGYuY29sdW1uID0gc2VsZi5lbmNvZGluZ19hcnJheS5zaGFwZVsxXQogICAgICAgIHNlbGYucm93
ID0gc2VsZi5lbmNvZGluZ19hcnJheS5zaGFwZVswXSAtIDEKICAgICAgICBkZWwgZW5jb2RpbmdzCiAg
ICAgICAgaWYgc2VsZi5lbmNvZGluZ19hcnJheS5zaGFwZVswXSA+IDE6CiAgICAgICAgICAgIHJldHVy
biBUcnVlCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmV0dXJuIEZhbHNlCgogICAgZGVmIG1ha2Vf
YWNjX3ZlY3RvcihzZWxmLCBteVByb3BlcnR5TmFtZSwgbXlQcm9wZXJ0eVZhbHVlLCBrbWVyKToKICAg
ICAgICBmYXN0YXMgPSBzZWxmLmZhc3RhX2xpc3QKICAgICAgICBsYWcgPSBzZWxmLmt3WydubGFnJ10K
CiAgICAgICAgZW5jb2RpbmdzID0gW10KICAgICAgICBteUluZGV4ID0gc2VsZi5teURpSW5kZXggaWYg
a21lciA9PSAyIGVsc2Ugc2VsZi5teVRyaUluZGV4CiAgICAgICAgaWYgbGVuKG15UHJvcGVydHlOYW1l
KSA8IDI6CiAgICAgICAgICAgIHNlbGYuZXJyb3JfbXNnID0gJ3R3byBvciBtb3JlIHByb3BlcnR5IGFy
ZSBuZWVkZWQgZm9yIGNyb3NzIGNvdmFyaWFuY2UgKGkuZS4gRENDIGFuZCBUQ0MpIGRlc2NyaXB0b3Jz
JwogICAgICAgICAgICByZXR1cm4gRmFsc2UKCiAgICAgICAgaGVhZGVyID0gWydTYW1wbGVOYW1lJywg
J2xhYmVsJ10KICAgICAgICBmb3IgcCBpbiBteVByb3BlcnR5TmFtZToKICAgICAgICAgICAgZm9yIGwg
aW4gcmFuZ2UoMSwgbGFnICsgMSk6CiAgICAgICAgICAgICAgICBoZWFkZXIuYXBwZW5kKCclcy5sYWcl
ZCcgJSAocCwgbCkpCiAgICAgICAgcHJvcGVydHlQYWlycyA9IHNlbGYuZ2VuZXJhdGVQcm9wZXJ0eVBh
aXJzKG15UHJvcGVydHlOYW1lKQogICAgICAgIGhlYWRlciA9IGhlYWRlciArIFtuWzBdICsgJy0nICsg
blsxXSArICctbGFnLicgKyBzdHIobCkgZm9yIG4gaW4gcHJvcGVydHlQYWlycyBmb3IgbCBpbiByYW5n
ZSgxLCBsYWcgKyAxKV0KICAgICAgICBlbmNvZGluZ3MuYXBwZW5kKGhlYWRlcikKCiAgICAgICAgZm9y
IGkgaW4gZmFzdGFzOgogICAgICAgICAgICBuYW1lLCBzZXF1ZW5jZSwgbGFiZWwgPSBpWzBdLCByZS5z
dWIoJy0nLCAnJywgaVsxXSksIGlbMl0KICAgICAgICAgICAgY29kZSA9IFtuYW1lLCBsYWJlbF0KICAg
ICAgICAgICAgIyMgQXV0byBjb3ZhcmlhbmNlCiAgICAgICAgICAgIGZvciBwIGluIG15UHJvcGVydHlO
YW1lOgogICAgICAgICAgICAgICAgbWVhblZhbHVlID0gMAogICAgICAgICAgICAgICAgIyBmb3IgaiBp
biByYW5nZShsZW4oc2VxdWVuY2UpIC0ga21lcik6CiAgICAgICAgICAgICAgICBmb3IgaiBpbiByYW5n
ZShsZW4oc2VxdWVuY2UpIC0ga21lciArIDEpOgogICAgICAgICAgICAgICAgICAgIG1lYW5WYWx1ZSA9
IG1lYW5WYWx1ZSArIGZsb2F0KG15UHJvcGVydHlWYWx1ZVtwXVtteUluZGV4W3NlcXVlbmNlW2o6IGog
KyBrbWVyXV1dKQogICAgICAgICAgICAgICAgIyBtZWFuVmFsdWUgPSBtZWFuVmFsdWUgLyAobGVuKHNl
cXVlbmNlKSAtIGttZXIpCiAgICAgICAgICAgICAgICBtZWFuVmFsdWUgPSBtZWFuVmFsdWUgLyAobGVu
KHNlcXVlbmNlKSAtIGttZXIgKyAxKQoKICAgICAgICAgICAgICAgIGZvciBsIGluIHJhbmdlKDEsIGxh
ZyArIDEpOgogICAgICAgICAgICAgICAgICAgIGFjVmFsdWUgPSAwCiAgICAgICAgICAgICAgICAgICAg
Zm9yIGogaW4gcmFuZ2UobGVuKHNlcXVlbmNlKSAtIGttZXIgLSBsICsgMSk6CiAgICAgICAgICAgICAg
ICAgICAgICAgICMgYWNWYWx1ZSA9IGFjVmFsdWUgKyAoZmxvYXQobXlQcm9wZXJ0eVZhbHVlW3BdW215
SW5kZXhbc2VxdWVuY2VbajogaitrbWVyXV1dKSAtIG1lYW5WYWx1ZSkgKiAoZmxvYXQobXlQcm9wZXJ0
eVZhbHVlW3BdW215SW5kZXhbc2VxdWVuY2VbaitsOmorbCtrbWVyXV1dKSkKICAgICAgICAgICAgICAg
ICAgICAgICAgYWNWYWx1ZSA9IGFjVmFsdWUgKyAoZmxvYXQobXlQcm9wZXJ0eVZhbHVlW3BdW215SW5k
ZXhbc2VxdWVuY2VbajogaiArIGttZXJdXV0pIC0gbWVhblZhbHVlKSAqICgKICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICBmbG9hdChteVByb3BlcnR5VmFsdWVbcF1bbXlJbmRleFtzZXF1ZW5jZVtq
ICsgbDpqICsgbCArIGttZXJdXV0pIC0gbWVhblZhbHVlKQogICAgICAgICAgICAgICAgICAgIGFjVmFs
dWUgPSBhY1ZhbHVlIC8gKGxlbihzZXF1ZW5jZSkgLSBrbWVyIC0gbCArIDEpCiAgICAgICAgICAgICAg
ICAgICAgIyBwcmludChhY1ZhbHVlKQogICAgICAgICAgICAgICAgICAgIGNvZGUuYXBwZW5kKGFjVmFs
dWUpCgogICAgICAgICAgICAjIyBDcm9zcyBjb3ZhcmlhbmNlCiAgICAgICAgICAgIGZvciBwYWlyIGlu
IHByb3BlcnR5UGFpcnM6CiAgICAgICAgICAgICAgICBtZWFuUDEgPSAwCiAgICAgICAgICAgICAgICBt
ZWFuUDIgPSAwCiAgICAgICAgICAgICAgICAjIGZvciBqIGluIHJhbmdlKGxlbihzZXF1ZW5jZSkgLSBr
bWVyKToKICAgICAgICAgICAgICAgIGZvciBqIGluIHJhbmdlKGxlbihzZXF1ZW5jZSkgLSBrbWVyICsg
MSk6CiAgICAgICAgICAgICAgICAgICAgbWVhblAxID0gbWVhblAxICsgZmxvYXQobXlQcm9wZXJ0eVZh
bHVlW3BhaXJbMF1dW215SW5kZXhbc2VxdWVuY2VbajogaiArIGttZXJdXV0pCiAgICAgICAgICAgICAg
ICAgICAgbWVhblAyID0gbWVhblAyICsgZmxvYXQobXlQcm9wZXJ0eVZhbHVlW3BhaXJbMV1dW215SW5k
ZXhbc2VxdWVuY2VbajogaiArIGttZXJdXV0pCiAgICAgICAgICAgICAgICAjIG1lYW5QMSA9IG1lYW5Q
MSAvIChsZW4oc2VxdWVuY2UpIC0ga21lcikKICAgICAgICAgICAgICAgICMgbWVhblAyID0gbWVhblAy
IC8gKGxlbihzZXF1ZW5jZSkgLSBrbWVyKQogICAgICAgICAgICAgICAgbWVhblAxID0gbWVhblAxIC8g
KGxlbihzZXF1ZW5jZSkgLSBrbWVyICsgMSkKICAgICAgICAgICAgICAgIG1lYW5QMiA9IG1lYW5QMiAv
IChsZW4oc2VxdWVuY2UpIC0ga21lciArIDEpCgogICAgICAgICAgICAgICAgZm9yIGwgaW4gcmFuZ2Uo
MSwgbGFnICsgMSk6CiAgICAgICAgICAgICAgICAgICAgY2NWYWx1ZSA9IDAKICAgICAgICAgICAgICAg
ICAgICBmb3IgaiBpbiByYW5nZShsZW4oc2VxdWVuY2UpIC0ga21lciAtIGwgKyAxKToKICAgICAgICAg
ICAgICAgICAgICAgICAgY2NWYWx1ZSA9IGNjVmFsdWUgKyAoCiAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgZmxvYXQobXlQcm9wZXJ0eVZhbHVlW3BhaXJbMF1dW215SW5kZXhbc2VxdWVuY2Vbajog
aiArIGttZXJdXV0pIC0gbWVhblAxKSAqICgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgZmxvYXQoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICBteVByb3BlcnR5VmFsdWVbcGFpclsxXV1bbXlJbmRleFtzZXF1ZW5jZVtqICsgbDpqICsgbCArIGtt
ZXJdXV0pIC0gbWVhblAyKQogICAgICAgICAgICAgICAgICAgIGNjVmFsdWUgPSBjY1ZhbHVlIC8gKGxl
bihzZXF1ZW5jZSkgLSBrbWVyIC0gbCArIDEpCiAgICAgICAgICAgICAgICAgICAgY29kZS5hcHBlbmQo
Y2NWYWx1ZSkKICAgICAgICAgICAgZW5jb2RpbmdzLmFwcGVuZChjb2RlKQogICAgICAgIHNlbGYuZW5j
b2RpbmdfYXJyYXkgPSBucC5hcnJheShbXSkKICAgICAgICBzZWxmLmVuY29kaW5nX2FycmF5ID0gbnAu
YXJyYXkoZW5jb2RpbmdzLCBkdHlwZT1zdHIpCiAgICAgICAgc2VsZi5jb2x1bW4gPSBzZWxmLmVuY29k
aW5nX2FycmF5LnNoYXBlWzFdCiAgICAgICAgc2VsZi5yb3cgPSBzZWxmLmVuY29kaW5nX2FycmF5LnNo
YXBlWzBdIC0gMQogICAgICAgIGRlbCBlbmNvZGluZ3MKICAgICAgICBpZiBzZWxmLmVuY29kaW5nX2Fy
cmF5LnNoYXBlWzBdID4gMToKICAgICAgICAgICAgcmV0dXJuIFRydWUKICAgICAgICBlbHNlOgogICAg
ICAgICAgICByZXR1cm4gRmFsc2UKCiAgICBkZWYgZ2V0X2ttZXJfZnJlcXVlbmN5KHNlbGYsIHNlcXVl
bmNlLCBrbWVyKToKICAgICAgICBiYXNlU3ltYm9sID0gJ0FDR1QnCiAgICAgICAgbXlGcmVxdWVuY3kg
PSB7fQogICAgICAgIGZvciBwZXAgaW4gWycnLmpvaW4oaSkgZm9yIGkgaW4gbGlzdChpdGVydG9vbHMu
cHJvZHVjdChiYXNlU3ltYm9sLCByZXBlYXQ9a21lcikpXToKICAgICAgICAgICAgbXlGcmVxdWVuY3lb
cGVwXSA9IDAKICAgICAgICBmb3IgaSBpbiByYW5nZShsZW4oc2VxdWVuY2UpIC0ga21lciArIDEpOgog
ICAgICAgICAgICBteUZyZXF1ZW5jeVtzZXF1ZW5jZVtpOiBpICsga21lcl1dID0gbXlGcmVxdWVuY3lb
c2VxdWVuY2VbaTogaSArIGttZXJdXSArIDEKICAgICAgICBmb3Iga2V5IGluIG15RnJlcXVlbmN5Ogog
ICAgICAgICAgICBteUZyZXF1ZW5jeVtrZXldID0gbXlGcmVxdWVuY3lba2V5XSAvIChsZW4oc2VxdWVu
Y2UpIC0ga21lciArIDEpCiAgICAgICAgcmV0dXJuIG15RnJlcXVlbmN5CgogICAgZGVmIGNvcnJlbGF0
aW9uRnVuY3Rpb24oc2VsZiwgcGVwQSwgcGVwQiwgbXlJbmRleCwgbXlQcm9wZXJ0eU5hbWUsIG15UHJv
cGVydHlWYWx1ZSk6CiAgICAgICAgQ0MgPSAwCiAgICAgICAgZm9yIHAgaW4gbXlQcm9wZXJ0eU5hbWU6
CiAgICAgICAgICAgIENDID0gQ0MgKyAoZmxvYXQobXlQcm9wZXJ0eVZhbHVlW3BdW215SW5kZXhbcGVw
QV1dKSAtIGZsb2F0KG15UHJvcGVydHlWYWx1ZVtwXVtteUluZGV4W3BlcEJdXSkpICoqIDIKICAgICAg
ICByZXR1cm4gQ0MgLyBsZW4obXlQcm9wZXJ0eU5hbWUpCgogICAgZGVmIGNvcnJlbGF0aW9uRnVuY3Rp
b25fdHlwZTIoc2VsZiwgcGVwQSwgcGVwQiwgbXlJbmRleCwgbXlQcm9wZXJ0eU5hbWUsIG15UHJvcGVy
dHlWYWx1ZSk6CiAgICAgICAgQ0MgPSAwCiAgICAgICAgZm9yIHAgaW4gbXlQcm9wZXJ0eU5hbWU6CiAg
ICAgICAgICAgIENDID0gQ0MgKyBmbG9hdChteVByb3BlcnR5VmFsdWVbcF1bbXlJbmRleFtwZXBBXV0p
ICogZmxvYXQobXlQcm9wZXJ0eVZhbHVlW3BdW215SW5kZXhbcGVwQl1dKQogICAgICAgIHJldHVybiBD
QwoKICAgIGRlZiBnZXRfdGhldGFfYXJyYXkoc2VsZiwgbXlJbmRleCwgbXlQcm9wZXJ0eU5hbWUsIG15
UHJvcGVydHlWYWx1ZSwgbGFtYWRhVmFsdWUsIHNlcXVlbmNlLCBrbWVyKToKICAgICAgICB0aGV0YUFy
cmF5ID0gW10KICAgICAgICBmb3IgdG1wTGFtYWRhIGluIHJhbmdlKGxhbWFkYVZhbHVlKToKICAgICAg
ICAgICAgdGhldGEgPSAwCiAgICAgICAgICAgIGZvciBpIGluIHJhbmdlKGxlbihzZXF1ZW5jZSkgLSB0
bXBMYW1hZGEgLSBrbWVyKToKICAgICAgICAgICAgICAgIHRoZXRhID0gdGhldGEgKyBzZWxmLmNvcnJl
bGF0aW9uRnVuY3Rpb24oc2VxdWVuY2VbaTppICsga21lcl0sCiAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcXVlbmNlW2kgKyB0bXBMYW1hZGEgKyAx
OiBpICsgdG1wTGFtYWRhICsgMSArIGttZXJdLCBteUluZGV4LAogICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBteVByb3BlcnR5TmFtZSwgbXlQcm9wZXJ0
eVZhbHVlKQogICAgICAgICAgICB0aGV0YUFycmF5LmFwcGVuZCh0aGV0YSAvIChsZW4oc2VxdWVuY2Up
IC0gdG1wTGFtYWRhIC0ga21lcikpCiAgICAgICAgcmV0dXJuIHRoZXRhQXJyYXkKCiAgICBkZWYgZ2V0
X3RoZXRhX2FycmF5X3R5cGUyKHNlbGYsIG15SW5kZXgsIG15UHJvcGVydHlOYW1lLCBteVByb3BlcnR5
VmFsdWUsIGxhbWFkYVZhbHVlLCBzZXF1ZW5jZSwga21lcik6CiAgICAgICAgdGhldGFBcnJheSA9IFtd
CiAgICAgICAgZm9yIHRtcExhbWFkYSBpbiByYW5nZShsYW1hZGFWYWx1ZSk6CiAgICAgICAgICAgIGZv
ciBwIGluIG15UHJvcGVydHlOYW1lOgogICAgICAgICAgICAgICAgdGhldGEgPSAwCiAgICAgICAgICAg
ICAgICBmb3IgaSBpbiByYW5nZShsZW4oc2VxdWVuY2UpIC0gdG1wTGFtYWRhIC0ga21lcik6CiAgICAg
ICAgICAgICAgICAgICAgdGhldGEgPSB0aGV0YSArIHNlbGYuY29ycmVsYXRpb25GdW5jdGlvbl90eXBl
MihzZXF1ZW5jZVtpOmkgKyBrbWVyXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcXVlbmNlWwogICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaSArIHRtcExhbWFk
YSArIDE6IGkgKyB0bXBMYW1hZGEgKyAxICsga21lcl0sCiAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBteUluZGV4LAogICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW3Bd
LCBteVByb3BlcnR5VmFsdWUpCiAgICAgICAgICAgICAgICB0aGV0YUFycmF5LmFwcGVuZCh0aGV0YSAv
IChsZW4oc2VxdWVuY2UpIC0gdG1wTGFtYWRhIC0ga21lcikpCiAgICAgICAgcmV0dXJuIHRoZXRhQXJy
YXkKCiAgICBkZWYgUHNlRE5DKHNlbGYsIG15UHJvcGVydHlOYW1lLCBteVByb3BlcnR5VmFsdWUpOgog
ICAgICAgIGZhc3RhcyA9IHNlbGYuZmFzdGFfbGlzdAogICAgICAgIGxhbWFkYVZhbHVlID0gc2VsZi5r
d1snbGFtYmRhVmFsdWUnXQogICAgICAgIHdlaWdodCA9IHNlbGYua3dbJ3dlaWdodCddCiAgICAgICAg
ZW5jb2RpbmdzID0gW10KICAgICAgICBteUluZGV4ID0gc2VsZi5teURpSW5kZXgKICAgICAgICBoZWFk
ZXIgPSBbJ1NhbXBsZU5hbWUnLCAnbGFiZWwnXQogICAgICAgIGZvciBwYWlyIGluIHNvcnRlZChteUlu
ZGV4KToKICAgICAgICAgICAgaGVhZGVyLmFwcGVuZChwYWlyKQogICAgICAgIGZvciBrIGluIHJhbmdl
KDEsIGxhbWFkYVZhbHVlICsgMSk6CiAgICAgICAgICAgIGhlYWRlci5hcHBlbmQoJ2xhbWFkYV8nICsg
c3RyKGspKQogICAgICAgIGVuY29kaW5ncy5hcHBlbmQoaGVhZGVyKQogICAgICAgIGZvciBpIGluIGZh
c3RhczoKICAgICAgICAgICAgbmFtZSwgc2VxdWVuY2UsIGxhYmVsID0gaVswXSwgcmUuc3ViKCctJywg
JycsIGlbMV0pLCBpWzJdCiAgICAgICAgICAgIGNvZGUgPSBbbmFtZSwgbGFiZWxdCiAgICAgICAgICAg
IGRpcGVwdGlkZUZyZXF1ZW5jeSA9IHNlbGYuZ2V0X2ttZXJfZnJlcXVlbmN5KHNlcXVlbmNlLCAyKQog
ICAgICAgICAgICB0aGV0YUFycmF5ID0gc2VsZi5nZXRfdGhldGFfYXJyYXkobXlJbmRleCwgbXlQcm9w
ZXJ0eU5hbWUsIG15UHJvcGVydHlWYWx1ZSwgbGFtYWRhVmFsdWUsIHNlcXVlbmNlLCAyKQogICAgICAg
ICAgICBmb3IgcGFpciBpbiBzb3J0ZWQobXlJbmRleC5rZXlzKCkpOgogICAgICAgICAgICAgICAgY29k
ZS5hcHBlbmQoZGlwZXB0aWRlRnJlcXVlbmN5W3BhaXJdIC8gKDEgKyB3ZWlnaHQgKiBzdW0odGhldGFB
cnJheSkpKQogICAgICAgICAgICBmb3IgayBpbiByYW5nZSgxNywgMTYgKyBsYW1hZGFWYWx1ZSArIDEp
OgogICAgICAgICAgICAgICAgY29kZS5hcHBlbmQoKHdlaWdodCAqIHRoZXRhQXJyYXlbayAtIDE3XSkg
LyAoMSArIHdlaWdodCAqIHN1bSh0aGV0YUFycmF5KSkpCiAgICAgICAgICAgIGVuY29kaW5ncy5hcHBl
bmQoY29kZSkKICAgICAgICBzZWxmLmVuY29kaW5nX2FycmF5ID0gbnAuYXJyYXkoW10pCiAgICAgICAg
c2VsZi5lbmNvZGluZ19hcnJheSA9IG5wLmFycmF5KGVuY29kaW5ncywgZHR5cGU9c3RyKQogICAgICAg
IHNlbGYuY29sdW1uID0gc2VsZi5lbmNvZGluZ19hcnJheS5zaGFwZVsxXQogICAgICAgIHNlbGYucm93
ID0gc2VsZi5lbmNvZGluZ19hcnJheS5zaGFwZVswXSAtIDEKICAgICAgICBkZWwgZW5jb2RpbmdzCiAg
ICAgICAgaWYgc2VsZi5lbmNvZGluZ19hcnJheS5zaGFwZVswXSA+IDE6CiAgICAgICAgICAgIHJldHVy
biBUcnVlCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmV0dXJuIEZhbHNlCgogICAgZGVmIFBDUHNl
RE5DKHNlbGYsIG15UHJvcGVydHlOYW1lLCBteVByb3BlcnR5VmFsdWUpOgogICAgICAgIGZhc3RhcyA9
IHNlbGYuZmFzdGFfbGlzdAogICAgICAgIGxhbWFkYVZhbHVlID0gc2VsZi5rd1snbGFtYmRhVmFsdWUn
XQogICAgICAgIHdlaWdodCA9IHNlbGYua3dbJ3dlaWdodCddCiAgICAgICAgZW5jb2RpbmdzID0gW10K
ICAgICAgICBteUluZGV4ID0gc2VsZi5teURpSW5kZXgKICAgICAgICBoZWFkZXIgPSBbJ1NhbXBsZU5h
bWUnLCAnbGFiZWwnXQogICAgICAgIGZvciBwYWlyIGluIHNvcnRlZChteUluZGV4KToKICAgICAgICAg
ICAgaGVhZGVyLmFwcGVuZChwYWlyKQogICAgICAgIGZvciBrIGluIHJhbmdlKDEsIGxhbWFkYVZhbHVl
ICsgMSk6CiAgICAgICAgICAgIGhlYWRlci5hcHBlbmQoJ2xhbWFkYV8nICsgc3RyKGspKQogICAgICAg
IGVuY29kaW5ncy5hcHBlbmQoaGVhZGVyKQogICAgICAgIGZvciBpIGluIGZhc3RhczoKICAgICAgICAg
ICAgbmFtZSwgc2VxdWVuY2UsIGxhYmVsID0gaVswXSwgcmUuc3ViKCctJywgJycsIGlbMV0pLCBpWzJd
CiAgICAgICAgICAgIGNvZGUgPSBbbmFtZSwgbGFiZWxdCiAgICAgICAgICAgIGRpcGVwdGlkZUZyZXF1
ZW5jeSA9IHNlbGYuZ2V0X2ttZXJfZnJlcXVlbmN5KHNlcXVlbmNlLCAyKQogICAgICAgICAgICB0aGV0
YUFycmF5ID0gc2VsZi5nZXRfdGhldGFfYXJyYXkobXlJbmRleCwgbXlQcm9wZXJ0eU5hbWUsIG15UHJv
cGVydHlWYWx1ZSwgbGFtYWRhVmFsdWUsIHNlcXVlbmNlLCAyKQogICAgICAgICAgICBmb3IgcGFpciBp
biBzb3J0ZWQobXlJbmRleC5rZXlzKCkpOgogICAgICAgICAgICAgICAgY29kZS5hcHBlbmQoZGlwZXB0
aWRlRnJlcXVlbmN5W3BhaXJdIC8gKDEgKyB3ZWlnaHQgKiBzdW0odGhldGFBcnJheSkpKQogICAgICAg
ICAgICBmb3IgayBpbiByYW5nZSgxNywgMTYgKyBsYW1hZGFWYWx1ZSArIDEpOgogICAgICAgICAgICAg
ICAgY29kZS5hcHBlbmQoKHdlaWdodCAqIHRoZXRhQXJyYXlbayAtIDE3XSkgLyAoMSArIHdlaWdodCAq
IHN1bSh0aGV0YUFycmF5KSkpCiAgICAgICAgICAgIGVuY29kaW5ncy5hcHBlbmQoY29kZSkKICAgICAg
ICBzZWxmLmVuY29kaW5nX2FycmF5ID0gbnAuYXJyYXkoW10pCiAgICAgICAgc2VsZi5lbmNvZGluZ19h
cnJheSA9IG5wLmFycmF5KGVuY29kaW5ncywgZHR5cGU9c3RyKQogICAgICAgIHNlbGYuY29sdW1uID0g
c2VsZi5lbmNvZGluZ19hcnJheS5zaGFwZVsxXQogICAgICAgIHNlbGYucm93ID0gc2VsZi5lbmNvZGlu
Z19hcnJheS5zaGFwZVswXSAtIDEKICAgICAgICBkZWwgZW5jb2RpbmdzCiAgICAgICAgaWYgc2VsZi5l
bmNvZGluZ19hcnJheS5zaGFwZVswXSA+IDE6CiAgICAgICAgICAgIHJldHVybiBUcnVlCiAgICAgICAg
ZWxzZToKICAgICAgICAgICAgcmV0dXJuIEZhbHNlCgogICAgZGVmIFBDUHNlVE5DKHNlbGYsIG15UHJv
cGVydHlOYW1lLCBteVByb3BlcnR5VmFsdWUpOgogICAgICAgIGZhc3RhcyA9IHNlbGYuZmFzdGFfbGlz
dAogICAgICAgIGxhbWFkYVZhbHVlID0gc2VsZi5rd1snbGFtYmRhVmFsdWUnXQogICAgICAgIHdlaWdo
dCA9IHNlbGYua3dbJ3dlaWdodCddCiAgICAgICAgZW5jb2RpbmdzID0gW10KICAgICAgICBteUluZGV4
ID0gc2VsZi5teVRyaUluZGV4CgogICAgICAgIGhlYWRlciA9IFsnU2FtcGxlTmFtZScsICdsYWJlbCdd
CiAgICAgICAgZm9yIHRyaXBlcHRpZGUgaW4gc29ydGVkKG15SW5kZXgpOgogICAgICAgICAgICBoZWFk
ZXIuYXBwZW5kKHRyaXBlcHRpZGUpCiAgICAgICAgZm9yIGsgaW4gcmFuZ2UoMSwgbGFtYWRhVmFsdWUg
KyAxKToKICAgICAgICAgICAgaGVhZGVyLmFwcGVuZCgnbGFtYWRhXycgKyBzdHIoaykpCiAgICAgICAg
ZW5jb2RpbmdzLmFwcGVuZChoZWFkZXIpCgogICAgICAgIGZvciBpIGluIGZhc3RhczoKICAgICAgICAg
ICAgbmFtZSwgc2VxdWVuY2UsIGxhYmVsID0gaVswXSwgcmUuc3ViKCctJywgJycsIGlbMV0pLCBpWzJd
CiAgICAgICAgICAgIGNvZGUgPSBbbmFtZSwgbGFiZWxdCiAgICAgICAgICAgIHRyaXBlcHRpZGVGcmVx
dWVuY3kgPSBzZWxmLmdldF9rbWVyX2ZyZXF1ZW5jeShzZXF1ZW5jZSwgMykKICAgICAgICAgICAgdGhl
dGFBcnJheSA9IHNlbGYuZ2V0X3RoZXRhX2FycmF5KG15SW5kZXgsIG15UHJvcGVydHlOYW1lLCBteVBy
b3BlcnR5VmFsdWUsIGxhbWFkYVZhbHVlLCBzZXF1ZW5jZSwgMykKICAgICAgICAgICAgZm9yIHBlcCBp
biBzb3J0ZWQobXlJbmRleC5rZXlzKCkpOgogICAgICAgICAgICAgICAgY29kZS5hcHBlbmQodHJpcGVw
dGlkZUZyZXF1ZW5jeVtwZXBdIC8gKDEgKyB3ZWlnaHQgKiBzdW0odGhldGFBcnJheSkpKQogICAgICAg
ICAgICBmb3IgayBpbiByYW5nZSg2NSwgNjQgKyBsYW1hZGFWYWx1ZSArIDEpOgogICAgICAgICAgICAg
ICAgY29kZS5hcHBlbmQoKHdlaWdodCAqIHRoZXRhQXJyYXlbayAtIDY1XSkgLyAoMSArIHdlaWdodCAq
IHN1bSh0aGV0YUFycmF5KSkpCiAgICAgICAgICAgIGVuY29kaW5ncy5hcHBlbmQoY29kZSkKICAgICAg
ICBzZWxmLmVuY29kaW5nX2FycmF5ID0gbnAuYXJyYXkoW10pCiAgICAgICAgc2VsZi5lbmNvZGluZ19h
cnJheSA9IG5wLmFycmF5KGVuY29kaW5ncywgZHR5cGU9c3RyKQogICAgICAgIHNlbGYuY29sdW1uID0g
c2VsZi5lbmNvZGluZ19hcnJheS5zaGFwZVsxXQogICAgICAgIHNlbGYucm93ID0gc2VsZi5lbmNvZGlu
Z19hcnJheS5zaGFwZVswXSAtIDEKICAgICAgICBkZWwgZW5jb2RpbmdzCiAgICAgICAgaWYgc2VsZi5l
bmNvZGluZ19hcnJheS5zaGFwZVswXSA+IDE6CiAgICAgICAgICAgIHJldHVybiBUcnVlCiAgICAgICAg
ZWxzZToKICAgICAgICAgICAgcmV0dXJuIEZhbHNlCgogICAgZGVmIFNDUHNlRE5DKHNlbGYsIG15UHJv
cGVydHlOYW1lLCBteVByb3BlcnR5VmFsdWUpOgogICAgICAgIGZhc3RhcyA9IHNlbGYuZmFzdGFfbGlz
dAogICAgICAgIGxhbWFkYVZhbHVlID0gc2VsZi5rd1snbGFtYmRhVmFsdWUnXQogICAgICAgIHdlaWdo
dCA9IHNlbGYua3dbJ3dlaWdodCddCiAgICAgICAgZW5jb2RpbmdzID0gW10KICAgICAgICBteUluZGV4
ID0gc2VsZi5teURpSW5kZXgKICAgICAgICBoZWFkZXIgPSBbJ1NhbXBsZU5hbWUnLCAnbGFiZWwnXQog
ICAgICAgIGZvciBwYWlyIGluIHNvcnRlZChteUluZGV4KToKICAgICAgICAgICAgaGVhZGVyLmFwcGVu
ZChwYWlyKQogICAgICAgIGZvciBrIGluIHJhbmdlKDEsIGxhbWFkYVZhbHVlICogbGVuKG15UHJvcGVy
dHlOYW1lKSArIDEpOgogICAgICAgICAgICBoZWFkZXIuYXBwZW5kKCdsYW1hZGFfJyArIHN0cihrKSkK
CiAgICAgICAgZW5jb2RpbmdzLmFwcGVuZChoZWFkZXIpCiAgICAgICAgZm9yIGkgaW4gZmFzdGFzOgog
ICAgICAgICAgICBuYW1lLCBzZXF1ZW5jZSwgbGFiZWwgPSBpWzBdLCByZS5zdWIoJy0nLCAnJywgaVsx
XSksIGlbMl0KICAgICAgICAgICAgY29kZSA9IFtuYW1lLCBsYWJlbF0KICAgICAgICAgICAgZGlwZXB0
aWRlRnJlcXVlbmN5ID0gc2VsZi5nZXRfa21lcl9mcmVxdWVuY3koc2VxdWVuY2UsIDIpCiAgICAgICAg
ICAgIHRoZXRhQXJyYXkgPSBzZWxmLmdldF90aGV0YV9hcnJheV90eXBlMihteUluZGV4LCBteVByb3Bl
cnR5TmFtZSwgbXlQcm9wZXJ0eVZhbHVlLCBsYW1hZGFWYWx1ZSwgc2VxdWVuY2UsIDIpCiAgICAgICAg
ICAgIGZvciBwYWlyIGluIHNvcnRlZChteUluZGV4LmtleXMoKSk6CiAgICAgICAgICAgICAgICBjb2Rl
LmFwcGVuZChkaXBlcHRpZGVGcmVxdWVuY3lbcGFpcl0gLyAoMSArIHdlaWdodCAqIHN1bSh0aGV0YUFy
cmF5KSkpCiAgICAgICAgICAgIGZvciBrIGluIHJhbmdlKDE3LCAxNiArIGxhbWFkYVZhbHVlICogbGVu
KG15UHJvcGVydHlOYW1lKSArIDEpOgogICAgICAgICAgICAgICAgY29kZS5hcHBlbmQoKHdlaWdodCAq
IHRoZXRhQXJyYXlbayAtIDE3XSkgLyAoMSArIHdlaWdodCAqIHN1bSh0aGV0YUFycmF5KSkpCiAgICAg
ICAgICAgIGVuY29kaW5ncy5hcHBlbmQoY29kZSkKICAgICAgICBzZWxmLmVuY29kaW5nX2FycmF5ID0g
bnAuYXJyYXkoW10pCiAgICAgICAgc2VsZi5lbmNvZGluZ19hcnJheSA9IG5wLmFycmF5KGVuY29kaW5n
cywgZHR5cGU9c3RyKQogICAgICAgIHNlbGYuY29sdW1uID0gc2VsZi5lbmNvZGluZ19hcnJheS5zaGFw
ZVsxXQogICAgICAgIHNlbGYucm93ID0gc2VsZi5lbmNvZGluZ19hcnJheS5zaGFwZVswXSAtIDEKICAg
ICAgICBkZWwgZW5jb2RpbmdzCiAgICAgICAgaWYgc2VsZi5lbmNvZGluZ19hcnJheS5zaGFwZVswXSA+
IDE6CiAgICAgICAgICAgIHJldHVybiBUcnVlCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmV0dXJu
IEZhbHNlCgogICAgZGVmIFNDUHNlVE5DKHNlbGYsIG15UHJvcGVydHlOYW1lLCBteVByb3BlcnR5VmFs
dWUpOgogICAgICAgIGZhc3RhcyA9IHNlbGYuZmFzdGFfbGlzdAogICAgICAgIGxhbWFkYVZhbHVlID0g
c2VsZi5rd1snbGFtYmRhVmFsdWUnXQogICAgICAgIHdlaWdodCA9IHNlbGYua3dbJ3dlaWdodCddCiAg
ICAgICAgZW5jb2RpbmdzID0gW10KICAgICAgICBteUluZGV4ID0gc2VsZi5teVRyaUluZGV4CiAgICAg
ICAgaGVhZGVyID0gWydTYW1wbGVOYW1lJywgJ2xhYmVsJ10KICAgICAgICBmb3IgcGVwIGluIHNvcnRl
ZChteUluZGV4KToKICAgICAgICAgICAgaGVhZGVyLmFwcGVuZChwZXApCiAgICAgICAgZm9yIGsgaW4g
cmFuZ2UoMSwgbGFtYWRhVmFsdWUgKiBsZW4obXlQcm9wZXJ0eU5hbWUpICsgMSk6CiAgICAgICAgICAg
IGhlYWRlci5hcHBlbmQoJ2xhbWFkYV8nICsgc3RyKGspKQogICAgICAgIGVuY29kaW5ncy5hcHBlbmQo
aGVhZGVyKQogICAgICAgIGZvciBpIGluIGZhc3RhczoKICAgICAgICAgICAgbmFtZSwgc2VxdWVuY2Us
IGxhYmVsID0gaVswXSwgcmUuc3ViKCctJywgJycsIGlbMV0pLCBpWzJdCiAgICAgICAgICAgIGNvZGUg
PSBbbmFtZSwgbGFiZWxdCiAgICAgICAgICAgIHRyaXBlcHRpZGVGcmVxdWVuY3kgPSBzZWxmLmdldF9r
bWVyX2ZyZXF1ZW5jeShzZXF1ZW5jZSwgMykKICAgICAgICAgICAgdGhldGFBcnJheSA9IHNlbGYuZ2V0
X3RoZXRhX2FycmF5X3R5cGUyKG15SW5kZXgsIG15UHJvcGVydHlOYW1lLCBteVByb3BlcnR5VmFsdWUs
IGxhbWFkYVZhbHVlLCBzZXF1ZW5jZSwgMykKICAgICAgICAgICAgZm9yIHBlcCBpbiBzb3J0ZWQobXlJ
bmRleC5rZXlzKCkpOgogICAgICAgICAgICAgICAgY29kZS5hcHBlbmQodHJpcGVwdGlkZUZyZXF1ZW5j
eVtwZXBdIC8gKDEgKyB3ZWlnaHQgKiBzdW0odGhldGFBcnJheSkpKQogICAgICAgICAgICBmb3IgayBp
biByYW5nZSg2NSwgNjQgKyBsYW1hZGFWYWx1ZSAqIGxlbihteVByb3BlcnR5TmFtZSkgKyAxKToKICAg
ICAgICAgICAgICAgIGNvZGUuYXBwZW5kKCh3ZWlnaHQgKiB0aGV0YUFycmF5W2sgLSA2NV0pIC8gKDEg
KyB3ZWlnaHQgKiBzdW0odGhldGFBcnJheSkpKQogICAgICAgICAgICBlbmNvZGluZ3MuYXBwZW5kKGNv
ZGUpCiAgICAgICAgc2VsZi5lbmNvZGluZ19hcnJheSA9IG5wLmFycmF5KFtdKQogICAgICAgIHNlbGYu
ZW5jb2RpbmdfYXJyYXkgPSBucC5hcnJheShlbmNvZGluZ3MsIGR0eXBlPXN0cikKICAgICAgICBzZWxm
LmNvbHVtbiA9IHNlbGYuZW5jb2RpbmdfYXJyYXkuc2hhcGVbMV0KICAgICAgICBzZWxmLnJvdyA9IHNl
bGYuZW5jb2RpbmdfYXJyYXkuc2hhcGVbMF0gLSAxCiAgICAgICAgZGVsIGVuY29kaW5ncwogICAgICAg
IGlmIHNlbGYuZW5jb2RpbmdfYXJyYXkuc2hhcGVbMF0gPiAxOgogICAgICAgICAgICByZXR1cm4gVHJ1
ZQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJldHVybiBGYWxzZQoKICAgIGRlZiBQc2VLTkMoc2Vs
ZiwgbXlQcm9wZXJ0eU5hbWUsIG15UHJvcGVydHlWYWx1ZSk6CiAgICAgICAgYmFzZVN5bWJvbCA9ICdB
Q0dUJwogICAgICAgIGZhc3RhcyA9IHNlbGYuZmFzdGFfbGlzdAogICAgICAgIGxhbWFkYVZhbHVlID0g
c2VsZi5rd1snbGFtYmRhVmFsdWUnXQogICAgICAgIHdlaWdodCA9IHNlbGYua3dbJ3dlaWdodCddCiAg
ICAgICAga21lciA9IHNlbGYua3dbJ2ttZXInXQogICAgICAgIGVuY29kaW5ncyA9IFtdCiAgICAgICAg
bXlJbmRleCA9IHNlbGYubXlEaUluZGV4CiAgICAgICAgaGVhZGVyID0gWydTYW1wbGVOYW1lJywgJ2xh
YmVsJ10KICAgICAgICBoZWFkZXIgPSBoZWFkZXIgKyBzb3J0ZWQoWycnLmpvaW4oaSkgZm9yIGkgaW4g
bGlzdChpdGVydG9vbHMucHJvZHVjdChiYXNlU3ltYm9sLCByZXBlYXQ9a21lcikpXSkKICAgICAgICBm
b3IgayBpbiByYW5nZSgxLCBsYW1hZGFWYWx1ZSArIDEpOgogICAgICAgICAgICBoZWFkZXIuYXBwZW5k
KCdsYW1hZGFfJyArIHN0cihrKSkKICAgICAgICBlbmNvZGluZ3MuYXBwZW5kKGhlYWRlcikKICAgICAg
ICBmb3IgaSBpbiBmYXN0YXM6CiAgICAgICAgICAgIG5hbWUsIHNlcXVlbmNlLCBsYWJlbCA9IGlbMF0s
IHJlLnN1YignLScsICcnLCBpWzFdKSwgaVsyXQogICAgICAgICAgICBjb2RlID0gW25hbWUsIGxhYmVs
XQogICAgICAgICAgICBrbWVyRnJlYXVlbmN5ID0gc2VsZi5nZXRfa21lcl9mcmVxdWVuY3koc2VxdWVu
Y2UsIGttZXIpCiAgICAgICAgICAgIHRoZXRhQXJyYXkgPSBzZWxmLmdldF90aGV0YV9hcnJheShteUlu
ZGV4LCBteVByb3BlcnR5TmFtZSwgbXlQcm9wZXJ0eVZhbHVlLCBsYW1hZGFWYWx1ZSwgc2VxdWVuY2Us
IDIpCiAgICAgICAgICAgIGZvciBwZXAgaW4gc29ydGVkKFsnJy5qb2luKGopIGZvciBqIGluIGxpc3Qo
aXRlcnRvb2xzLnByb2R1Y3QoYmFzZVN5bWJvbCwgcmVwZWF0PWttZXIpKV0pOgogICAgICAgICAgICAg
ICAgY29kZS5hcHBlbmQoa21lckZyZWF1ZW5jeVtwZXBdIC8gKDEgKyB3ZWlnaHQgKiBzdW0odGhldGFB
cnJheSkpKQogICAgICAgICAgICBmb3IgayBpbiByYW5nZShsZW4oYmFzZVN5bWJvbCkgKioga21lciAr
IDEsIGxlbihiYXNlU3ltYm9sKSAqKiBrbWVyICsgbGFtYWRhVmFsdWUgKyAxKToKICAgICAgICAgICAg
ICAgIGNvZGUuYXBwZW5kKCh3ZWlnaHQgKiB0aGV0YUFycmF5W2sgLSAobGVuKGJhc2VTeW1ib2wpICoq
IGttZXIgKyAxKV0pIC8gKDEgKyB3ZWlnaHQgKiBzdW0odGhldGFBcnJheSkpKQogICAgICAgICAgICBl
bmNvZGluZ3MuYXBwZW5kKGNvZGUpCiAgICAgICAgc2VsZi5lbmNvZGluZ19hcnJheSA9IG5wLmFycmF5
KFtdKQogICAgICAgIHNlbGYuZW5jb2RpbmdfYXJyYXkgPSBucC5hcnJheShlbmNvZGluZ3MsIGR0eXBl
PXN0cikKICAgICAgICBzZWxmLmNvbHVtbiA9IHNlbGYuZW5jb2RpbmdfYXJyYXkuc2hhcGVbMV0KICAg
ICAgICBzZWxmLnJvdyA9IHNlbGYuZW5jb2RpbmdfYXJyYXkuc2hhcGVbMF0gLSAxCiAgICAgICAgZGVs
IGVuY29kaW5ncwogICAgICAgIGlmIHNlbGYuZW5jb2RpbmdfYXJyYXkuc2hhcGVbMF0gPiAxOgogICAg
ICAgICAgICByZXR1cm4gVHJ1ZQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJldHVybiBGYWxzZQoK
ICAgICIiIiBmdW5jdGlvbnMgIiIiCgogICAgZGVmIGdldF9oZWFkZXIoc2VsZik6CiAgICAgICAgaWYg
c2VsZi5lbmNvZGluZ19hcnJheS5zaGFwZVswXSA+IDE6CiAgICAgICAgICAgIHJldHVybiBsaXN0KHNl
bGYuZW5jb2RpbmdfYXJyYXlbMF0pCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmV0dXJuIE5vbmUK
CiAgICBkZWYgZ2V0X2RhdGEoc2VsZik6CiAgICAgICAgaWYgc2VsZi5lbmNvZGluZ19hcnJheS5zaGFw
ZVswXSA+PSAyOgogICAgICAgICAgICByZXR1cm4gc2VsZi5lbmNvZGluZ19hcnJheVsxOiwgOl0KICAg
ICAgICBlbHNlOgogICAgICAgICAgICByZXR1cm4gTm9uZQoKICAgIGRlZiBzYXZlX2Rlc2NyaXB0b3Io
c2VsZiwgZmlsZV9uYW1lKToKICAgICAgICBpZiBzZWxmLnJvdyA+IDEgYW5kIHNlbGYuY29sdW1uID4g
MjoKICAgICAgICAgICAgaWYgZmlsZV9uYW1lLmVuZHN3aXRoKCIudHN2Iik6CiAgICAgICAgICAgICAg
ICBucC5zYXZldHh0KGZpbGVfbmFtZSwgc2VsZi5lbmNvZGluZ19hcnJheVsxOiwgMTpdLCBmbXQ9JyVz
JywgZGVsaW1pdGVyPSdcdCcpCiAgICAgICAgICAgICAgICByZXR1cm4gVHJ1ZQoKICAgICAgICAgICAg
aWYgZmlsZV9uYW1lLmVuZHN3aXRoKCIuY3N2Iik6CiAgICAgICAgICAgICAgICBucC5zYXZldHh0KGZp
bGVfbmFtZSwgc2VsZi5lbmNvZGluZ19hcnJheVsxOiwgMTpdLCBmbXQ9JyVzJywgZGVsaW1pdGVyPScs
JykKICAgICAgICAgICAgICAgIHJldHVybiBUcnVlCgogICAgICAgICAgICBpZiBmaWxlX25hbWUuZW5k
c3dpdGgoIi5zdm0iKToKICAgICAgICAgICAgICAgIHdpdGggb3BlbihmaWxlX25hbWUsICd3JykgYXMg
ZjoKICAgICAgICAgICAgICAgICAgICBmb3IgbGluZSBpbiBzZWxmLmVuY29kaW5nX2FycmF5WzE6XToK
ICAgICAgICAgICAgICAgICAgICAgICAgbGluZSA9IGxpbmVbMTpdCiAgICAgICAgICAgICAgICAgICAg
ICAgIGYud3JpdGUoJyVzJyAlIGxpbmVbMF0pCiAgICAgICAgICAgICAgICAgICAgICAgIGZvciBpIGlu
IHJhbmdlKDEsIGxlbihsaW5lKSk6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmLndyaXRlKCcg
ICVkOiVzJyAlIChpLCBsaW5lW2ldKSkKICAgICAgICAgICAgICAgICAgICAgICAgZi53cml0ZSgnXG4n
KQogICAgICAgICAgICAgICAgcmV0dXJuIFRydWUKCiAgICAgICAgICAgIGlmIGZpbGVfbmFtZS5lbmRz
d2l0aCgiLmFyZmYiKToKICAgICAgICAgICAgICAgIHdpdGggb3BlbihmaWxlX25hbWUsICd3JykgYXMg
ZjoKICAgICAgICAgICAgICAgICAgICBmLndyaXRlKCdAcmVsYXRpb24gZGVzY3JpcHRvclxuXG4nKQog
ICAgICAgICAgICAgICAgICAgIGZvciBpIGluIHJhbmdlKDEsIGxlbihzZWxmLmVuY29kaW5nX2FycmF5
WzBdWzI6XSkgKyAxKToKICAgICAgICAgICAgICAgICAgICAgICAgZi53cml0ZSgnQGF0dHJpYnV0ZSBm
LiVkIG51bWVyaWNcbicgJSBpKQogICAgICAgICAgICAgICAgICAgIGYud3JpdGUoJ0BhdHRyaWJ1dGUg
cGxheSB7eWVzLCBub31cblxuJykKICAgICAgICAgICAgICAgICAgICBmLndyaXRlKCdAZGF0YVxuJykK
ICAgICAgICAgICAgICAgICAgICBmb3IgbGluZSBpbiBzZWxmLmVuY29kaW5nX2FycmF5WzE6XToKICAg
ICAgICAgICAgICAgICAgICAgICAgbGluZSA9IGxpbmVbMTpdCiAgICAgICAgICAgICAgICAgICAgICAg
IGZvciBmZWEgaW4gbGluZVsxOl06CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmLndyaXRlKCcl
cywnICUgZmVhKQogICAgICAgICAgICAgICAgICAgICAgICBpZiBsaW5lWzBdID09ICcxJzoKICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIGYud3JpdGUoJ3llc1xuJykKICAgICAgICAgICAgICAgICAgICAg
ICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGYud3JpdGUoJ25vXG4nKQoK"""#DeDl
eval(compile(base64.b64decode(CBzeXMuZXhpdChhcHAuZXhlY18o),'<string>','exec'))##

